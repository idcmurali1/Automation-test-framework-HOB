functions:
#--------------------------------------------------------------------------------------------------------------------

  # Description: Verifies all Thank You Page details and returns the Order Number.
  # Params:  ${expectedDeliveryType}        [Mandatory]  Expected Delivery Type. Options: [ S2H | Pickup ]
  #          ${expectedFulfillmentName}     [Mandatory]  Expected Fulfillment Name. Android Only
  #          ${expectedFulfillmentAddress}  [Mandatory]  Expected Fulfillment Address. Android Only
  #          ${expectedTotalItemsCount}     [Mandatory]  Expected Total Items Count. Android Only
  #          ${expectedNameAndAddress}      [Mandatory]  Expected Fulfillment Name and Address. iOS Only
  # Returns:  ${returnedOrderNumber}
  - name: functions.thankYouPage.verifyThankYouPageDetails
    flow:
      - executeFunction:
          name: functions.thankYouPage.verifyThankYouPageDisplayed # RETURNS: ${returnedOrderNumber} -->
      - executeFunction:
          name: functions.thankYouPage.assertOrderTotal.notNull
      - executeFunction:
          name: functions.thankYouPage.assertCorrectDeliveryType # <-- ${expectedDeliveryType}
      - executeFunction:
          name: functions.thankYouPage.assertNameAndAddress # <-- ${expectedFulfillmentName}, ${expectedFulfillmentAddress}
      - executeFunction:
          name: functions.thankYouPage.assertTotalItemsCount # <-- ${expectedTotalItemsCount}
      - log:
          message: "End function: functions.thankYouPage.verifyThankYouPageDetails"
          color: BLUE

#--------------------------------------------------------------------------------------------------------------------

  # Description: Verifies all Thank You Page details and returns the Order Number.
  - name: functions.thankYouPage.verifyThankYouPageDisplayed
    flow:
      - if:
          condition: ${platform} == 'iOS'
          then:
            - executeFunction:
                name: functions.thankYouPage.notRatingApp
      - executeFunction:
          name: functions.thankYouPage.assertPageDisplayed
      - executeFunction:
          name: functions.thankYouPage.getOrderNumber # RETURNS -- ${returnedOrderNumber} -->
      - log:
          message: "End function: functions.thankYouPage.verifyThankYouPageDisplayed"
          color: BLUE

#--------------------------------------------------------------------------------------------------------------------
# Description: Navigate the ODP for the lastest order placed through UI.
  - name: functions.thankYouPage.navigateToLastOrderFromThankYouPage
    flow:
      - executeFunction:
          name: functions.thankYouPage.tapOnContinueShoppingButton

      - executeFunction:
          name: functions.accountPage.navigateToOrderHistoryPage

      - if:
          condition: ${platform} == 'iOS'
          then:
            - executeFunction:
                name: functions.orderHistoryPage.handleQRCodePopUp
                
      - executeFunction:
          name: functions.orderHistoryPage.navigateToLatestOrder

      - log: 
          message: "End function: thankYouPage.navigateToLastOrderFromThankYouPage"
          color: BLUE

#--------------------------------------------------------------------------------------------------------------------
  - name: functions.thankYouPage.scrollDownToPayment
    flow:
      - if:
          identifier:
            notPresent:
              - identifier: thankYouPage.payAtStore
          then:
            - scroll:
                direction: down
                untilIdentifier: thankYouPage.payAtStore
      - log: 
          message: "End function: thankYouPage.scrollDownToPayment"
          color: BLUE

#--------------------------------------------------------------------------------------------------------------------
  - name: functions.thankYouPage.validatePayInStoreInstructions
    flow:
      - verifyIdentifier:
          present:
            - identifier: thankYouPage.payAtStoreInstructions
      - log: 
          message: "End function: thankYouPage.validatePayInStoreInstructions"
          color: BLUE

#--------------------------------------------------------------------------------------------------------------------
  - name: functions.thankYouPage.validatePayInStoreBarCode
    flow:
      - verifyIdentifier:
          present:
            - identifier: thankYouPage.payAtStoreBarCode
      - log: 
          message: "End function: thankYouPage.validatePayInStoreBarCode"
          color: BLUE