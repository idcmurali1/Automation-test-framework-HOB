functions:

   #--------------------------------------------------------------------------------------------------------------------
   # Description:  This flow Select the store from homepage GIC
   # Params  ${noIntent}         [Optional]  Set to true if no intetnt to be selected from gic
   #         ${Zipcode}          [Optional]  Set to true to add zipcode from gic
   #         ${Delivery}         [Optional]  Set to true to select Delivery from gic
   #         ${Express}          [Optional]  Set to true to select Express stores fron gic 
   #         ${validateAddress}  [Optional]  Set to true to validate and select Delivery address
  - name: functions.homePage.selectStore
    flow:
      - if:
          condition: ${noIntent}
          then:
            - log: "Selecting store without selecting intent"
            - executeFunction:
                name: functions.homePage.gic.expandIfCollapsed
          else:
            - if: 
                condition: ${Delivery}
                then:                      
                  - executeFunction:
                        name: functions.global.gic.selectDeliveryIntent
                        params:
                          - name: page
                            string: home
                else:
                  - executeFunction:
                        name: functions.global.gic.selectPickupIntent
                        params:
                          - name: page
                            string: home                            
      - if:
          condition: ${validateAddress}
          then:
            - executeFunction:
                name: functions.homePage.gic.taponAddressbutton
            - executeFunction:
                name: functions.homePage.gic.verifyAddressBottomSheet
            - if:
                condition: ${specificAddress}
                then:
                  - executeFunction:
                      name: functions.reserveATime.selectGivenAddress
                else:
                  - executeFunction:
                      name: functions.reserveATime.selectFirstAddress
            - executeFunction:
                name: functions.reserveATime.tapSaveAddress
      - executeFunction:
            name: functions.homePage.gic.taponStorebutton
      - if: 
          condition: ${Zipcode}
          then:  
            - executeFunction:
                name: functions.selectStorePage.enterZipcode
          else:
            - log: "For delivery intent, select one store from the given Walmart store section"
            - executeFunction:
                name: functions.selectStorePage.tapWalmart
            - executeFunction:
                name: functions.selectStorePage.verifyWalmartStore         
      - if:
          condition: ${Express}
          then:  
            - executeFunction:
                name: functions.selectStorePage.tapWalmartExpress
            - executeFunction:
                name: functions.selectStorePage.verifyWalmartExpressStore
                
      - executeFunction:
         name: functions.selectStorePage.validateSelectStoreBottomsheet
      - executeFunction:
          name: functions.selectStorePage.selectStore
      - executeFunction:
            name:  functions.selectStorePage.tapOnSaveButton   
      - executeFunction:
            name: functions.homePage.gic.collapseIfExpanded  
      - log:
          message: "End flow: homePage.selectStore"
          color: GREEN_BOLD_BRIGHT

#--------------------------------------------------------------------------------------------------------------------
   # Description:  This flow Select the address from homepage GIC
   # No param               

  - name: functions.homePage.selectAddress
    flow:
      - try:
          flow:
            - executeFunction:
                name: functions.global.gic.selectDeliveryIntent
                params:
                  - name: page
                    string: home
            - executeFunction:
                name: functions.homePage.gic.taponAddressBtn
            - executeFunction:
                name: functions.accountPage.setAddress 
            - executeFunction:
                name: functions.accountPage.tapContinueBtn 
            - executeFunction:
                name: functions.homePage.gic.collapseIfExpanded  
            - log:
                message: "End flow: homePage.selectAddress"
                color: GREEN_BOLD_BRIGHT
#--------------------------------------------------------------------------------------------------------------------
  # Description: This flow edit delivery address from gic
  # ${streetAddress} [Mandatory] Enter street address
  - name: functions.homePage.gic.editAddressdetails  
    flow:
      - executeFunction:
          name: functions.addAddressBottomSheet.tapOnEditLink
      - executeFunction:
          name: functions.addAddressPage.scrollUpToDeliveryAddressFirstName          
      - executeFunction:
          name: functions.addAddressPage.enterStreetAddress  # < -- ${streetAddress}
      - executeFunction:
          name: functions.addAddressPage.tapSaveButton
      - executeFunction:
          name: functions.addAddressPage.confirmExactLocationOnMap         
      - log:
          message: "End flow: homePage.gic.editAddressdetails"
          color: GREEN_BOLD_BRIGHT                           
#--------------------------------------------------------------------------------------------------------------------          
   # Description:  This flow Add an item to favourites from a home page carousel. 
   # No param  
  - name: functions.homePage.AddAsFavourites
    flow:
      - click:
         identifier: productDetailsPage.tapRemoveBtn
      - verifyIdentifier:
          present:
            - identifier: reserveATime.confirmationDeliverySlotBlackBoxMessage

 