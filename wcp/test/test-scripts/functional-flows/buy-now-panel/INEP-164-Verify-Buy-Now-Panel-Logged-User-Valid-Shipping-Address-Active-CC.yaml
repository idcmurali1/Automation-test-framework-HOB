#######################################################################################################################
#
#   TEST CASE DETAILS: 
#
#      [ TC - INEP-164 ]
#      FLOW: MH: Buy Now - Verify Buy Now Panel for Logged User w/Valid Shipping Address & w/Active CC Added in Account.
#    
#
#   CONFLUENCE TRACKING DASHBOARD:
#      https://confluence.walmart.com/display/COMM/WCP+Merging+Hallways+-+Weekly+Summary#25049188467b442a39856942ffbf14209cc3ea19a5
#
#   CONFLUENCE AUTOMATION TRACKING DASHBOARD:
#      https://confluence.walmart.com/display/~vn54czd/Native+Apps+Automation
#
#   JIRA OPIF ID:
#      https://jira.walmart.com/browse/OPIF-179421
#
#   JIRA STORY ID:
#      Https://jira.walmart.com/browse/INEP-54
#
#   JIRA SUB-TASK ID:
#      Https://jira.walmart.com/browse/INEP-101
#
#   JIRA TEST PLAN ID:
#      https://jira.walmart.com/browse/INEP-107
#
#   JIRA TEST ID:
#      https://jira.walmart.com/browse/INEP-164
#
#######################################################################################################################

# NOTE: the current TC has ben deferred for future implementation, for now, the TC will be commented out...

# general:
#   testCaseId: INEP-164
#   tags: p1-mh-opif-teflon, OPIF-179421, INEP-164
#   combineScenarios: true

# scenarios:

# # * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * #
# #   B E F O R E   S C E N A R I O                                                                                     #
# # * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * #

#   - name: Before
#     before: true
#     endTestOnFailure: true
#     flow:
#       - log: 'INEP-164: BEFORE SCENARIO START'

#       - executeFunction:
#           name: functions.utils.setMarketInfo

#       - storeIn:
#           key: tcVars_successfulExecution
#           value: false

#       - log: 'INEP-164: BEFORE SCENARIO END'

# # * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * #
# #   M A I N   S C E N A R I O                                                                                         #
# # * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * #

#   - name: 'INEP-164: MH: Buy Now - Verify Buy Now Panel for Logged User w/Valid Shipping Address & w/Active CC Added in Account'
#     flow:
#       - log: 'INEP-164: MAIN SCENARIO START'

#       # - log: #- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#       #     message: 'STEP 1: ONBOARD INTO THE APP...'
#       #     color: PURPLE_BOLD_BRIGHT

#       # - executeFunction:
#       #     name: functions.onboardingToHomePage.usingPostalCode
#       #     params:
#       #       - name: PostalCode
#       #         string: data.onboarding.userPostalCode
#       #       - name: ShoppingExperience
#       #         string: data.onboarding.onlineExclusiveStore
#       # - executeFunction:
#       #     name: functions.homePage.collapseGicIfExpanded
#       # - executeFunction:
#       #     name: functions.homePage.assertPageLoaded

#       - log: #- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#           message: 'STEP 2: LOGIN WITH AN EXISTING USER ACCOUNT...'
#           color: PURPLE_BOLD_BRIGHT

#       - executeFunction:
#           name: functions.global.tapAccountBtn
#       - executeFunction:
#           name: functions.accountPage.tapSignInBtn
#       - executeFunction:
#           name: functions.loginPage.userAuthentication
#           params:
#             - name: userEmail
#               string: data.mh.inep164.user.email
#             - name: userPassword
#               string: data.global.password.Password3
#       - executeFunction:
#           name: functions.accountPage.assertUserLoggedInSuccessfully
#       - executeFunction:
#           name: functions.accountPage.assertDisplayedUserName
#           params:
#             - name: userName
#               string: data.global.name.ACCEPT

#       - log: #- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#           message: 'STEP 3: OPEN UNSCHEDULED OR SHARED ITEM PDP AND CLICK BUY NOW BUTTON...'
#           color: PURPLE_BOLD_BRIGHT

#       - executeFunction:
#           name: functions.productDetailsPage.openBuyNowPDP-usingItemsArray # TODO: test this NEW function works...
#           params:
#             - name: itemsArray
#               string: data.global.itemsArray.unscheduled

#       - executeFunction:
#           name: functions.productDetailsPage.getProductName # RETURNS --> ${productName} # TODO: test this existing function works...
#       - executeFunction:
#           name: functions.productDetailsPage.getProductPrice # RETURNS --> ${productPrice} # TODO: test this existing function works...

#       - executeFunction:
#           name: functions.productDetailsPage.GoToCheckoutWithBuyNowOption

#       # TODO: perform the buy now panel checks...

#       - executeFunction:
#           name: functions.buyNowPanel.assertPanelContent # TODO: implement this function...
#           params:
#             - name: productName
#               string: ${productName}
#             - name: productPrice
#               string: ${productPrice}
#             - name: productQuantity
#               string: '1'
#             - name: typeOfAddressValidation
#               string: existingAddressAdded | noAddressAdded # TODO: add this values as enum-like data vars...
#             - name: shippingAddress
#               string: 'xxxxxxxxxx'
#             - name: assertSwitchToPickupAbility
#               string: true | false
#             - name: typeOfPaymentMethodValidation
#               string: existingCCAdded | existingDCAdded | noPaymentMethodAdded # TODO: add this values as enum-like data vars...
#             - name: paymentMethodInfo
#               string: 'xxxxxxxxxx'

#       - storeIn:
#           key: tcVars_successfulExecution
#           value: true

#       - log: 'INEP-164: MAIN SCENARIO END'

# # * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * #
# #   A F T E R   S C E N A R I O                                                                                       #
# # * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * #

#   - name: After
#     after: true
#     flow:
#       - log: 'INEP-164: AFTER SCENARIO START'

#       - if:
#           condition: ${tcVars_successfulExecution}
#           then:
#             - log:
#                 message: TC PASSED
#                 color: GREEN_BOLD
#           else:
#             - failTest:
#                 message: TC FAILED

#       - log: 'INEP-164: AFTER SCENARIO END'
