functions:

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function asserts the Add Credit/Debit Card Page has displayed.
  # No Params
  - name: functions.addCreditDebitCardPage.assertPageDisplayed
    flow:
      - verifyIdentifier:
          present:
            - identifier: addCreditDebitCardPage.title
            - identifier: addCreditDebitCardPage.cardNumberField
            - identifier: addCreditDebitCardPage.firstNameField
            - identifier: addCreditDebitCardPage.lastNameField
            - identifier: addCreditDebitCardPage.expirationDateField
            - identifier: addCreditDebitCardPage.cvv
      - log:
          message: "End function: functions.addCreditDebitCardPage.assertPageDisplayed"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function enters the Card Number.
  # Params:      ${cardNumber}  [Mandatory]  The Card Number to enter.
  - name: functions.addCreditDebitCardPage.enterCardNumber
    flow:
      - enterText:
          identifier: addCreditDebitCardPage.cardNumberField
          string: ${cardNumber}
          clickFirst: true
          clearField: true
      - log:
          message: "End function: functions.addCreditDebitCardPage.enterCardNumber"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function enters the First Name.
  # Params:      ${cardHolderFirstName}  [Mandatory]  The First Name to enter.
  - name: functions.addCreditDebitCardPage.enterFirstName
    flow:
      - enterText:
          identifier: addCreditDebitCardPage.firstNameField
          string: ${cardHolderFirstName}
          clickFirst: true
          clearField: true
      - log:
          message: "End function: functions.addCreditDebitCardPage.enterFirstName"
          color: BLUE
  
  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function enters full name.
  # Params:      ${cardHolderFirstName}  [Mandatory]  The First Name to enter.
  #              ${cardHolderLastName}   [Mandatory]  The Last Name to enter.
  - name: functions.addCreditDebitCardPage.enterFullName
    flow:
      - enterText:
          identifier: addCreditDebitCardPage.firstNameField
          string: ${cardHolderFirstName} ${cardHolderLastName}
          clickFirst: true
          clearField: true
      - log:
          message: "End function: functions.addCreditDebitCardPage.enterFirstName"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function enters the Last Name.
  # Params:      ${cardHolderLastName}  [Mandatory]  The Last Name to enter.
  - name: functions.addCreditDebitCardPage.enterLastName
    flow:
      - enterText:
          identifier: addCreditDebitCardPage.lastNameField
          string: ${cardHolderLastName}
          clickFirst: true
          clearField: true
      - log:
          message: "End function: functions.addCreditDebitCardPage.enterLastName"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function enters the CVV (security code).
  # Params:      ${cvv}  [Mandatory]  The CVV to enter. Format: 3-digit number
  - name: functions.addCreditDebitCardPage.enterCVV
    flow:
      - enterText:
          identifier: addCreditDebitCardPage.cvv
          string: ${cvv}
          clickFirst: true
          clearField: true
      - executeFunction:
          name: functions.utils.hideKeyboard
      - log:
          message: "End function: functions.addCreditDebitCardPage.enterCVV"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function enters the CVV (security code).
  # Params:      ${phoneNumber}  [Mandatory] Phone number to enter, 10 digits
  - name: functions.addCreditDebitCardPage.enterPhoneNumber
    flow:
      - enterText:
          identifier: addCreditDebitCardPage.phoneNumber
          string: ${phoneNumber}
          clickFirst: true
          clearField: true
      - log:
          message: "End function: functions.addCreditDebitCardPage.enterPhoneNumber"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function taps the Save Card button.
  # No Params
  - name: functions.addCreditDebitCardPage.tapSaveCardBtn
    flow:
      - click:
          identifier: walletPage.paymentMethod.saveCardBtn
      - log:
          message: "End function: functions.addCreditDebitCardPage.tapSaveCardBtn"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function taps the Add new card button.
  # No Params
  - name: functions.addCreditDebitCardPage.tapAddNewCard
    flow:
      - scroll:
          direction: down 
          untilIdentifier: addCreditDebitCardPage.addNewCardbtn
      - click:
          identifier: addCreditDebitCardPage.addNewCardbtn
          wait: 3000
      - log:
          message: "End function: functions.addCreditDebitCardPage.tapAddNewCard"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: Click on same billing address checkbox
  # No Params
  - name: functions.addCreditDebitCardPage.tapSameBillingAddressCheckbox
    flow:
      - click:
          identifier: walletPage.addCreditOrDebitCard.billingAddress
      - log:
          message: "End function: functions.addCreditDebitCardPage.tapSameBillingAddressCheckbox"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: Click on default card checkbox
  # No Params
  - name: functions.addCreditDebitCardPage.tapDefaultCardCheckbox
    flow:
      - click:
          identifier: addCreditDebitCardPage.setDefaultCardCheckbox
      - log:
          message: "End function: functions.addCreditDebitCardPage.tapDefaultCardCheckbox"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function asserts the Add Credit/Debit Card Page has displayed when there is no default address.
  # No Params
  - name: functions.addCreditDebitCardPage.assertAddCreditCardWithNoExistingAddress
    flow:
      - verifyIdentifier:
          present:
            - identifier: addCreditDebitCardPage.title
            - identifier: addCreditDebitCardPage.cardNumberField
            - identifier: addCreditDebitCardPage.firstNameField
            - identifier: addCreditDebitCardPage.lastNameField
            - identifier: addCreditDebitCardPage.expirationDateField
            - identifier: addCreditDebitCardPage.cvv
      - log:
          message: "End function: functions.addCreditDebitCardPage.assertAddCreditCardWithNoExistingAddress"
          color: BLUE
  #--------------------------------------------------------------------------------------------------------------------

  # Description: functions checks is phone number field displayed
  # No Params
  - name: functions.addCreditDebitCardPage.isPhoneNumberFieldDisplayed
    flow:
      - storeIn:
          key: phoneNumFieldIsDisplayed
          value: false
      - if:
          identifier:
            present:
              - identifier: addCreditDebitCardPage.phoneNumber
          then:
            - storeIn:
                key: phoneNumFieldIsDisplayed
                value: true
            - log:
                message: "End function: addCreditDebitCardPage.isPhoneNumberFieldDisplayed (Displayed)"
                color: BLUE
          else:
            - log:
                message: "End function: addCreditDebitCardPage.isPhoneNumberFieldDisplayed (Not displayed)"
                color: BLUE

  #-----------------------------------------------------------------------------------------------------------------

  # Description: This function scrolls down to zip code
  # Params: No params
  - name: functions.addcreditDebitCardPage.scrollDownToZipCode
    flow:
      - scroll:
          direction: down
          untilIdentifier: walletPage.addAddress.zipcode$PostalField
      - log: 
          message: "End function: addcreditDebitCardPage.scrollDownToZipCode"
          color: BLUE