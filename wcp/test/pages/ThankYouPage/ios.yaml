functions:

#--------------------------------------------------------------------------------------------------------------------
  
  # Description: Asserts name and address for iOS
  # Params:      ${expectedFulfillmentName}     [Mandatory]  Expected Name.
  #              ${expectedFulfillmentAddress}  [Mandatory]  Expected Name.
  - name: functions.thankYouPage.assertNameAndAddress
    platform: ios
    flow:
      - getString:
          identifier: thankYouPage.fulfillmentName
          storeIn: displayedFulfillmentName
      - getString:
          identifier: thankYouPage.fulfillmentAddress
          storeIn: displayedFulfillmentAddress
      - executeNode:
          file: wcp/test/helpers/stringContains.js
          args:
            - value: ${displayedFulfillmentName}
            - value: ${expectedFulfillmentName}
          getResponse:
            storeIn: isExpectedFulfillmentName
      - if:
          condition: ${isExpectedFulfillmentName}
          then:
            - log:
                message: "Successful Assertion for Fulfillment Name: (Dislpayed: '${displayedFulfillmentName}') (expected: '${expectedFulfillmentName}')"
                color: GREEN_BOLD
          else:
            - failTest:
                message: "Displayed Fulfillment Name not correct: (Displayed: '${displayedFulfillmentName}') (expected: '${expectedFulfillmentName}')"
      - if:
          condition: ${displayedFulfillmentAddress} == ${varTC_expectedFulfillmentAddress}
          then:
            - log:
                message: "Successful Assertion for Fulfillment Address: '${displayedFulfillmentAddress}' (expected: '${expectedFulfillmentAddress}')"
                color: GREEN_BOLD
          else:
            - failTest:
                message: "Displayed Fulfillment Address not correct: '${displayedFulfillmentAddress}' (expected: '${expectedFulfillmentAddress}')"

#--------------------------------------------------------------------------------------------------------------------
  # Description: close rating alert
  - name: functions.thankYouPage.notRatingApp
    platform: ios
    flow:
      - if:
          identifier:
            present:
              - identifier: thankYouPage.notRatingBtn
          then:
            - click:
                identifier: thankYouPage.notRatingBtn
      - log:
            message: "End function: thankYouPage.notRatingApp"
            color: BLUE


