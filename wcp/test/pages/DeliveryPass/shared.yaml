functions:

  # Description: This function verifies the benefits for walmart delivery pass.
  # Params:   No Params 

  - name: functions.walmartDeliveryPass.validateBenefitsInMembershipHub
    flow:
      - scroll:
          direction: down
          untilIdentifier:  walmartDeliveryPass.NoPriceMarkupsText
          position: center
      - verifyIdentifier:
          present:
            - identifier: walmartDeliveryPass.logo
            - identifier: walmartDeliveryPass.bestNewProductText
            - identifier: walmartDeliveryPass.FreeSameDayDeliveryText
            - identifier: walmartDeliveryPass.NoPriceMarkupsText
            - identifier: walmartDeliveryPass.FAQText
            - identifier: walmartDeliveryPass.freeTrial_cta
      - log:
          message: "End function: functions.walmartDeliveryPass.validateBenefitsInMembershipHub"
          color: BLUE

# --------------------------------------------------------------------------------------------------------------------
  # Description: This function is used to start the trial membership for 90 days
  # Params:   No Params 

  - name: functions.walmartDeliveryPass.startTrialMembership90Days
    flow:
      - click:
          identifier: walmartDeliveryPass.freeTrial_cta
      - verifyIdentifier:
          present:
            - identifier: walmartDeliveryPass.tenureDescriptionText
            - identifier: walmartDeliveryPass.tenureAnnualRadioButton
            - identifier: walmartDeliveryPass.tenureMonthlyRadioButton
      - loop:
          begin: 0
          end: 3 
          mode: increment
          flow:
            - click:
                identifier: walmartDeliveryPass.freeTrial_cta.tenure
                wait: 7000
            - if: 
                identifier:
                  present:
                    - identifier: walmartDeliveryPass.errorPopUpTitle
                then:
                  - click:
                      identifier: walmartDeliveryPass.errorPopUp.tapOK
                else: 
                  - break: true
      - log:
          message: "End function: functions.walmartDeliveryPass.startTrialMembership90Days"
          color: BLUE

# --------------------------------------------------------------------------------------------------------------------
  # Description: This function verifies membership bottom sheet
  # Params:   No Params 

  - name: functions.walmartDeliveryPass.verifyMembershipBottomSheet
    flow:
      - verifyIdentifier:
          present:
            - identifier: walmartDeliveryPass.membershipBottomSheet.thumbnail
            - identifier: walmartDeliveryPass.membershipBottomSheet.title
            - identifier: walmartDeliveryPass.membershipBottomSheet.subTitle
            - identifier: walmartDeliveryPass.membershipBottomSheet.startShoppingBtn
      - log:
          message: "End function: functions.walmartDeliveryPass.verifyMembershipBottomSheet"
          color: BLUE

# --------------------------------------------------------------------------------------------------------------------
  # Description: This function closes the membership bottom sheet
  # Params:   No Params 
  - name: functions.walmartDeliveryPass.closeMembershipBottomSheet
    flow:
      - click:
          identifier: walmartDeliveryPass.membershipBottomSheet.closeBtn
      - log:
          message: "End function: functions.walmartDeliveryPass.closeMembershipBottomSheet"
          color: BLUE

# --------------------------------------------------------------------------------------------------------------------
  # Description: This function verifies the Delivery pass membership page
  # Params:   No Params 

  - name: functions.walmartDeliveryPass.verifyDeliveryPassMembership
    flow:
      - click:
          identifier: accountPage.walmartDeliveryPassChevron
      - verifyIdentifier:
          present:
            - identifier: walmartDeliveryPass.deliverypassTitle
            - identifier: walmartDeliveryPass.deliverypassImage
            - identifier: walmartDeliveryPass.unlimitedFreeDeliveryText
            - identifier: walmartDeliveryPass.manageMembershipGearIcon
      - log:
          message: "End function: functions.walmartDeliveryPass.verifyDeliveryPassMembership"
          color: BLUE

# --------------------------------------------------------------------------------------------------------------------
  # Description: This function is used to cancel the subscription for Delivery pass member
  # Params:   No Params 

  - name: functions.walmartDeliveryPass.cancelDeliveryPassMembership
    flow:
      - click:
          identifier: walmartDeliveryPass.manageMembershipGearIcon
      - click:
          identifier: walmartDeliveryPass.cancelSubscriptionBtn
      - click:
          identifier: walmartDeliveryPass.confirmCancellationBtn
      - verifyIdentifier:
          present:
            - identifier: walmartDeliveryPass.subscriptionCancellationConfirmationText
      - log:
          message: "Subscription is cancelled successfully."
      - click:
          identifier: walmartDeliveryPass.cancelReason
      - click:
          identifier: walmartDeliveryPass.submitFeedbackBtn
      - sleep:
          duration: 3000
      - verifyIdentifier:
          present:
            - identifier: walmartDeliveryPass.cancelledText
            - identifier: walmartDeliveryPass.renewSubscriptionBtn
      - log:
          message: "End function: functions.walmartDeliveryPass.cancelDeliveryPassMembership"
          color: BLUE
          
# --------------------------------------------------------------------------------------------------------------------
  # Description: This function is used to renew the subscription for Delivery pass member
  # Params:   No Params 
  - name: functions.walmartDeliveryPass.renewDeliveryPassMembership
    flow:
      - click:
          identifier: walmartDeliveryPass.renewSubscriptionBtn
      - verifyIdentifier:
          present:
            - identifier: walmartDeliveryPass.tenureAnnualRadioButton
      - click:
          identifier: walmartDeliveryPass.renewSubscriptionBtn
      - verifyIdentifier:
          present:
            - identifier: walmartDeliveryPass.renewMembershipBottomsheetTitle
            - identifier: walmartDeliveryPass.membershipBottomSheet.startShoppingBtn
          