functions:

  #-------------------------------------------------------------------------------------------------------------------- 

  # Description: This function save existing invoice from bottom sheet
  # No param 
  - name: functions.invoiceBottomSheet.saveExistingInvoice
    flow: 
      - click:
          identifier: checkoutPage.invoiceBottomSheet.saveButton
      - log:
          message: "End functions: invoiceBottomSheet.saveExistingInvoice"
          color: BLUE 

  
  #-------------------------------------------------------------------------------------------------------------------- 

  # Description: This function select add new billing address
  # No param 
  - name: functions.invoiceBottomSheet.selecAddNewAddressLink
    flow:
      - click:
          identifier: invoiceBottomSheet.addBillingAddressLink
      - log:
          message: "End functions: invoiceBottomSheet.selecAddNewAddressLink"
          color: BLUE 
  
  #-------------------------------------------------------------------------------------------------------------------- 

  # Description: This function enter first name
  # Params:      ${invoiceFirstName}  [Mandatory] Invoice page first name
  # Works for:   [ MX [✓]   MX-Bodega [✓]   US [__] ]
  - name: functions.invoicePage.enterFirstName
    flow: 
      - log:
          message: Entering first name for invoice - ${invoiceFirstName}
          color: CYAN
      - enterText:
          identifier: invoicePage.firstNameTextField
          string: ${invoiceFirstName}
          clearField: true
      - executeFunction:
          name: functions.utils.hideKeyboard
      - log:
          message: "End functions: invoicePage.enterFirstName"
          color: BLUE 
  
  #-------------------------------------------------------------------------------------------------------------------- 

  # Description: This function enter second name
  # Params:      ${invoiceLastName}  [Mandatory] Invoice page second name
  # Works for:   [ MX [✓]   MX-Bodega [✓]   US [__] ]
  - name: functions.invoicePage.enterLastName
    flow:
      - log:
          message: Entering second name for invoice - ${invoiceLastName}
          color: CYAN
      - enterText:
          identifier: invoicePage.lastNameTextField
          string: ${invoiceLastName}
      - executeFunction:
          name: functions.utils.hideKeyboard
      - log:
          message: "End functions: invoicePage.enterLastName"
          color: BLUE 

  #-------------------------------------------------------------------------------------------------------------------- 

  # Description: This function enter middle name
  # Params:      ${invoiceMiddleName}  [Mandatory] Invoice page middle name
  # Works for:   [ MX [✓]   MX-Bodega [✓]   US [__] ]
  - name: functions.invoicePage.enterMiddleName
    flow: 
      - log:
          message: Entering middle name for invoice - ${invoiceMiddleName}
          color: CYAN
      - enterText:
          identifier: invoicePage.middleNameTextField
          string: ${invoiceMiddleName}
      - executeFunction:
          name: functions.utils.hideKeyboard
      - log:
          message: "End functions: invoicePage.enterMiddleName"
          color: BLUE 
  
  #-----------------------------------------------------------------------------------------------------------------
  # Description: This function enter RFC
  # Params:      ${invoiceRfc}  [Mandatory] Invoice page Registro Federal de Contribuyentes
  # Works for:   [ MX [✓]   MX-Bodega [✓]   US [__] ]
  - name: functions.invoicePage.enterRFC
    flow:
      - log:
          message: Entering rfc detials in invoice - ${invoiceRfc}
          color: CYAN
      - enterText:
          identifier: invoicePage.rfcTextField
          string: ${invoiceRfc}
      - executeFunction:
          name: functions.utils.hideKeyboard
      - log:
          message: "End functions: invoicePage.enterRFC"
          color: BLUE

  #-----------------------------------------------------------------------------------------------------------------

  # Description: This function enter email address in invoice page
  # Params:      ${invoiceEmail}  [Mandatory] Invoice page enter email address
  # Works for:   [ MX [✓]   MX-Bodega [✓]   US [__] ]
  - name: functions.invoicePage.enterInvoiceEmail
    flow:
      - log:
          message: Entering email address in invoice - ${invoiceEmail}
          color: CYAN
      - enterText:
          identifier: invoicePage.invoiceEmailTextField
          string: ${invoiceEmail}
      - executeFunction:
          name: functions.utils.hideKeyboard
      - log:
          message: "End functions: invoicePage.enterInvoiceEmail"
          color: BLUE 
  #-----------------------------------------------------------------------------------------------------------------

  # Description: This function enters postal code in invoice page
  # Params:      ${invoicePostalCode}  [Mandatory] Invoice page enter postal code.
  # Works for:   [ MX [✓]   MX-Bodega [✓]   US [__] ]
  - name: functions.invoicePage.enterPostalCode
    flow:
      - log:
          message: Entering postal code in invoice page - ${invoicePostalCode}
          color: CYAN
      - enterText:
          identifier: invoicePage.invoicePostalCodeTextField
          string: ${invoicePostalCode}
      - executeFunction:
          name: functions.utils.hideKeyboard
      - log:
          message: "End functions: invoicePage.enterPostalCode"
          color: BLUE
  
  #-----------------------------------------------------------------------------------------------------------------

  # Description: This function enters street address in invoice page
  # Params:      ${invoiceSteetAddress}  [Mandatory] Invoice page enter street address.
  # Works for:   [ MX [✓]   MX-Bodega [✓]   US [__] ]
  - name: functions.invoicePage.invoiceStreetAddress
    flow:
      - log:
          message: Entering street addresss in invoice page - ${invoiceSteetAddress}
          color: CYAN
      - enterText:
          identifier: invoicePage.invoiceStreetAddressTextField
          string: ${invoiceSteetAddress}
      - executeFunction:
          name: functions.utils.hideKeyboard
      - log:
          message: "End functions: invoicePage.invoiceStreetAddress"
          color: BLUE 

  #-----------------------------------------------------------------------------------------------------------------

  # Description: This function enters appartment details in invoice page
  # Params:      ${invoiceSteetAddress}  [Mandatory] Invoice page enter appartment details.
  # Works for:   [ MX [✓]   MX-Bodega [✓]   US [__] ]
  - name: functions.invoicePage.invoiceApartment
    flow:
      - log:
          message: Entering appartment details in invoice page - ${invoiceAppartment}
          color: CYAN
      - enterText:
          identifier: invoicePage.invoiceApartmentTextField
          string: ${invoiceAppartment}
      - executeFunction:
          name: functions.utils.hideKeyboard
      - log:
          message: "End functions: invoicePage.invoiceApartment"
          color: BLUE

  #-----------------------------------------------------------------------------------------------------------------

  # Description: This function enters phone number in invoice page
  # Params:      ${invoicePhoneNumber}  [Mandatory] Invoice page enter phone number.
  # Works for:   [ MX [✓]   MX-Bodega [✓]   US [__] ]
  - name: functions.invoicePage.enterInvoicePhoneNumber
    flow: 
      - log:
          message: Entering phone number in invoice page - ${invoicePhoneNumber}
          color: CYAN
      - enterText:
          identifier: invoicePage.invoicePhoneTextField
          string:  ${invoicePhoneNumber}
      - executeFunction:
          name: functions.utils.hideKeyboard
      - log:
          message: "End functions: invoicePage.enterInvoicePhoneNumber"
          color: BLUE
  #----------------------------------------------------------------------------------------------------------------- 

  # Description: This function enters check the profile box
  # Params:      no params
  # Works for:   [ MX [✓]   MX-Bodega [✓]   US [__] ]
  - name: functions.invoicePage.checkProfileCheckbox
    flow:
      - click:
          identifier: invoicePage.invoiceSelectPrimaryProfileCheckBox
      - log:
          message: "End functions: invoicePage.checkProfileCheckbox"
          color: BLUE

  #-------------------------------------------------------------------------------------------------------------------- 

  # Description: This function taps on save button
  # Params:      no params
  # Works for:   [ MX [✓]   MX-Bodega [✓]   US [__] ]
  - name: functions.invoicePage.tapOnSaveButton
    flow:
      - if:
          identifier:
            notPresent:
              - identifier: invoicePage.saveButton
          then:
            - scroll:
                direction: down
                position: center
                untilIdentifier: invoicePage.saveButton
      - click:
          identifier: invoicePage.saveButton
      - log:
          message: "End functions: invoicePage.tapOnSaveButton"
          color: BLUE

  #-----------------------------------------------------------------------------------------------------------------
  
  # Description: This function select tax regime from drop down
  # Params:      ${invoiceTaxRegime}  [Mandatory] Invoice page tax regime text.
  # Works for:   [ MX [✓]   MX-Bodega [✓]   US [__] ]
  - name: functions.invoicePage.selectTaxRegime
    flow:
      - log:
          message: Select tax regime - ${invoiceTaxRegime}
          color: CYAN
      - if:
          identifier:
            notPresent:
              - identifier: invoicePage.taxRegimeDropDown
          then:
            - scroll:
                direction: down
                untilIdentifier: invoicePage.taxRegimeDropDown
      - click:
          identifier: invoicePage.taxRegimeDropDown
      - executeFunction:
          name: functions.utils.selectValueFromDropDown
          params:
            - name: valueToSelect
              string: ${invoiceTaxRegime}
      - log:
          message: "End functions: invoicePage.taxDropdown"
          color: BLUE

#-------------------------------------------------------------------------------------------------------------------- 
  # Description: This function will select invoice physical person option
  # No param 
  - name: functions.invoicePage.physicalPersonOption
    flow: 
      - click:
          identifier: invoicePage.physicalPersonOption
      - log:
          message: "End functions: invoicePage.physicalPersonOption"
          color: BLUE
#-------------------------------------------------------------------------------------------------------------------- 
  # Description: This function will select invoice moral person option
  # No param 
  - name: functions.invoicePage.moralPersonOption
    flow: 
      - click:
          identifier: invoicePage.moralPersonOption
      - log:
          message: "End functions: invoicePage.moralPersonOption"
          color: BLUE
#-------------------------------------------------------------------------------------------------------------------- 
  # Description: This function will select foreigner moral person option
  # No param 
  - name: functions.invoicePage.foreignerPersonOption
    flow: 
      - click:
          identifier: invoicePage.foreignerPersonOption
      - log:
          message: "End functions: invoicePage.foreignerPersonOption"
          color: BLUE
#-------------------------------------------------------------------------------------------------------------------- 
  # Description: This function will select invoice physical person option
  # No param 
  - name: functions.invoicePage.selectPersonType
    flow: 
      - if:
          condition: ${PersonType} == 'Physical'
          then:
            - executeFunction: 
                name: functions.invoicePage.physicalPersonOption
          else:
            - if:
                condition: ${PersonType} == 'Moral'
                then:
                    - executeFunction: 
                        name: functions.invoicePage.moralPersonOption
                else:
                    - if:
                        condition: ${PersonType} == 'Foreigner'
                        then:
                            - executeFunction: 
                                name: functions.invoicePage.foreignerPersonOption    
      - log:
          message: "End functions: invoicePage.selectPersonType"
          color: BLUE

#-------------------------------------------------------------------------------------------------------------------- 
  # Description: This function will validate mandatory fields in invoice page
  # No param  
  - name: functions.invoiceBottomSheet.validateMandatoryFields
    flow:  
      - executeFunction:
          name: functions.invoicePage.tapOnSaveButton
      - verifyIdentifier:
          present:
            - identifier: checkoutPage.invoice.errorMessage
      - log:
          message: "End functions: invoiceBottomSheet.validateMandatoryFields"
          color: BLUE

#--------------------------------------------------------------------------------------------------------------------

  # Description: This function select add new billing address
  # No param 
  - name: functions.invoiceBottomSheet.selecEditAddressLink
    flow:
      - click:
          identifier: invoiceBottomSheet.editBillingAddressLink
      - log:
          message: "End functions: invoiceBottomSheet.selecAddNewAddressLink"
          color: BLUE
