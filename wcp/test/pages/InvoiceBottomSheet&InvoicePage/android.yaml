functions:

#--------------------------------------------------------------------------------------------------------------------

  # Description: This function verify existing invoice from bottom sheet
  # No param 
  - name: functions.checkoutPage.verifyExistingInvoice
    platform: android
    flow: 
      - verifyIdentifier:
          present:
            - identifier: checkoutPage.invoiceBottomSheet.customerName
            - identifier: checkoutPage.invoiceBottomSheet.editLink
            - identifier: checkoutPage.invoiceBottomSheet.customerTaxId
            - identifier: checkoutPage.invoiceBottomSheet.customerEmail
            - identifier: checkoutPage.invoiceBottomSheet.customerMessage
            - identifier: checkoutPage.invoiceBottomSheet.saveButton
      - log:
          message: "End functions: checkoutPage.verifyExistingInvoice"
          color: BLUE

#--------------------------------------------------------------------------------------------------------------------
  # Description: This function select invoice from bottom sheet
  # No param 
  - name: functions.checkoutPage.selectExistingInvoice
    platform: android
    flow: 
      - click:
          identifier: checkoutPage.invoiceBottomSheet.chooseAddressRadioBtn
      - log:
          message: "End functions: checkoutPage.selectExistingInvoice"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------
  # Description: This function hide key board on invoice page
  # No param     
  - name: functions.invoicePage.hideKeyboard
    platform: android
    flow:
      - click:
          coordinates: 167, 2323
      - log:
          message: "End functions: invoicePage.hideKeyboard"
          color: BLUE

  #-----------------------------------------------------------------------------------------------------------------

  # Description: This function will view the selected invoice information and store the full name of the taxpayer into a variable
  # No param 
  - name: functions.invoiceBottomSheet.getTaxPayerName
    platform: android
    flow:
      - getString:
          identifier: checkoutPage.invoiceBottomSheet.customerName
          attribute: text
          storeIn: selectedInvoiceTaxPayerFullName

      - log:
          message: "The full name for the tax payer for the selected Invoice is: '${selectedInvoiceTaxPayerFullName}' "
          color: CYAN

      - log:
          message: "End functions: functions.invoiceBottomSheet.getTaxPayerName"
          color: BLUE

  #-----------------------------------------------------------------------------------------------------------------
  # Description: This function select CFDI from drop down
  # Params:      ${invoiceCFDI}  [Mandatory] Invoice page CFDI text.
  # Works for:   [ MX [✓]   MX-Bodega [✓]   US [__] ]
  - name: functions.invoicePage.selectCfdi
    platform: android
    flow: 
      - log:
          message: Select CFDI - ${invoiceCFDI}
          color: CYAN
      - if:
          identifier:
            notPresent:
              - identifier: invoicePage.CFDIDropDown
          then:
            - scroll:
                direction: down
                untilIdentifier: invoicePage.CFDIDropDown
      - click:
          identifier: invoicePage.CFDIDropDown
      - executeFunction:
          name: functions.utils.selectValueFromDropDown
          params:
            - name: valueToSelect
              string: ${invoiceCFDI}       
      - log:
          message: "End functions:invoicePage.CFDIDropDown"
          color: BLUE 

  #-----------------------------------------------------------------------------------------------------------------

  # Description: This function enters phone country code in invoice page
  # Params:      ${invoicePhoneCountryCode}  [Mandatory] Invoice page enter country code.
  # Works for:   [ MX [✓]   MX-Bodega [✓]   US [__] ]
  - name: functions.invoicePage.enterInvoicePhoneCountryCode
    platform: android
    flow:
      - log:
          message: Entering country code in invoice page - ${invoicePhoneCountryCode}
          color: CYAN
      - if:
          identifier:
            notPresent:
              - identifier: invoicePage.invoicePhoneCountryCode
          then:
            - scroll:
                direction: down
                untilIdentifier: invoicePage.invoicePhoneCountryCode
                position: center
                scrollLimit: 3
      - click:
          identifier: invoicePage.invoicePhoneCountryCode
      - executeFunction:
          name: functions.utils.selectValueFromDropDown
          params:
            - name: valueToSelect
              string: ${invoicePhoneCountryCode}   
      - log:
          message: "End functions: invoicePage.enterInvoicePhoneCountryCode"
          color: BLUE

#-----------------------------------------------------------------------------------------------------------------

  # Description: This function select colony details in invoice page
  # Params:      ${invoiceColoniaName}  [Mandatory] Invoice page enter phone number.
  # Works for:   [ MX [✓]   MX-Bodega [✓]   US [__] ]
  - name: functions.invoicePage.selectColonia
    platform: android
    flow:
      - log:
          message: Select tax regime - ${invoiceColoniaName}
          color: CYAN
      - if:
          identifier:
            notPresent:
              - identifier: invoicePage.invoiceColonyDropDown
          then:
            - scroll:
                direction: down
                untilIdentifier: invoicePage.invoiceColonyDropDown
      - click:
          identifier: invoicePage.invoiceColonyDropDown
      - executeFunction:
          name: functions.utils.selectValueFromDropDown
          params:
            - name: valueToSelect
              string: ${invoiceColoniaName}   
      - log:
          message: "End functions: invoicePage.colonyDropDown"
          color: BLUE