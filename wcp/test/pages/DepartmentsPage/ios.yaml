functions:
  
#--------------------------------------------------------------------------------------------------------------------

  # Description: This function opens the first available category
  # No params

  - name: functions.departmentsPage.openFirstAvailableCategory
    platform: ios
    flow:
      - if:
          identifier:
            notPresent:
              - identifier: departmentsPage.firstCategoryButton
          then:
            - scroll:
                direction: down
                untilIdentifier: departmentsPage.firstCategoryButton
                wait: 1000
                scrollLimit: 10
                position: center
      - getString:
          identifier: departmentsPage.firstCategoryButton
          attribute: label
          storeIn: categoryName
      - log:
          message: "First available category button found: '${categoryName}'"
          color: GREEN_BOLD
      - click:
          identifier: departmentsPage.firstCategoryButton
      - log:
          message: "End function: functions.departmentsPage.openFirstAvailableCategory"
          color: BLUE