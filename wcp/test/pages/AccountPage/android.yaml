functions:

#--------------------------------------------------------------------------------------------------------------------

  # Description: Asserts whether the displayed User Name is correct.
  # Params:      ${userName}  [Mandatory]  Expected User Name to be displayed.
  # Works for:   [ MX [âœ“]   MX-Bodega [needs_testing]   US [__] ]
  - name: functions.accountPage.assertDisplayedUserName
    platform: android
    flow:
      - log:
          message: "Expected User Name: '${userName}'"
          color: CYAN
      - if:
          identifier:
            present:
              - identifier: accountPage.headerName
          then:
            - getString:
                identifier: accountPage.headerName
                storeIn: displayedUserName
            - log:
                message: "Displayed User Name (full): '${displayedUserName}'"
                color: CYAN
            - verifyIdentifier:
                text:
                  - identifier: accountPage.headerName
                    contains: 'Hola, ${userName}'
          else:
            - failTest:
                message: Header Name element not found. Assertion cannot be performed
      - log:
          message: "End function: functions.accountPage.assertDisplayedUserName"
          color: BLUE


  - name: functions.accountPage.PostLogInhandlePopUpandAlerts
    platform: android
    flow:
      - executeFunction:
          name: functions.accountPage.acceptMergeCartAlertIfDisplayed
      - executeFunction:
          name: functions.cashi.closeCashiPopUp
      - if: 
          identifier:
            present:
              - identifier: accountPage.phoneNumberPopupTitle
          then:
            - executeFunction:
                name: functions.accountPage.closePhoneNumberPopUp
            - executeFunction:
                name: functions.checkout.hideKeyboard
            - executeFunction:
                name: functions.accountPage.closePhoneNumberPopUp
      - executeFunction:
          name: functions.icashMobile.handlePhoneNumberPopUp
          # else: # Teflon
          #   - executeFunction:
          #       name: functions.cashi.closeCashiPopUp
      - log:
          message: "End function: accountPage.PostLogInhandlePopUpandAlerts"
          color: BLUE   

   