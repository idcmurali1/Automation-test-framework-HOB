functions:

  #------------------------------------------------------------------------------------------------------------------
  # Description: This function validates if filters are displayed, filters for "All" and "Best Match"
  # No Param
  - name: functions.substitutionsPage.validateFiltersAreDisplayed
    flow:
      - if:
          condition: ${market} != 'US' && ${platform} == 'iOS''
          then:
            - verifyIdentifier:
                present:
                  - identifier: substitutionspage.allFilter
                  - identifier: substitutionspage.bestMatchFilter
          else:
            - log: 
                message: No filters displayed for US
                color: GREEN_BOLD
      - log:
          message: "End Functions: substitutionsPage.validateFiltersAreDisplayed"
          color: BLUE

  #------------------------------------------------------------------------------------------------------------------
  # Description: This function clicks on edit button which is next to "Replace with best Match text"
  # No Param
  - name: functions.substitutionsPage.tapReplaceWithBestMatchEditBtn
    flow:
      - if:
          condition: ${market} == 'US' && ${platform} == 'iOS'
          then:
            
            - if:
                identifier:
                  present:
                    - identifier: substitutionsPage.replaceWithBestmatchEditBtn
                then:
                  - click:
                      identifier: substitutionsPage.replaceWithBestmatchEditBtn

                else:
                  - click:
                      identifier: substitutionsPage.checkMarkArrowExpand

            - log:
                message:  clicked substitution replace With Best match Edit Btn successfully
                color: GREEN_BOLD
          else:
            - click:
                identifier: substitutionsPage.replaceWithBestmatchEditBtn
                wait: 5000
      - log:
          message: "End Functions: substitutionsPage.tapReplaceWithBestMatchEditBtn"
          color: BLUE

  #------------------------------------------------------------------------------------------------------------------
  # Description: This function scrolls down until "Replace with" round button
  # No Param
  - name: functions.substitutionsPage.scrollDownToReplaceWithRoundBtn
    flow:
      - if:
          identifier:
            notPresent:
              - identifier: substitutionsPage.replaceWithRoundBtn
          then:
            - scroll:
                direction: down
                untilIdentifier: substitutionsPage.replaceWithRoundBtn
                position: center
      - log:
          message: "End Functions: substitutionsPage.scrollDownToReplaceWithRoundBtn"
          color: BLUE

  #------------------------------------------------------------------------------------------------------------------
  # Description: This function clicks on "replace with" round button 
  # No Param
  - name: functions.substitutionsPage.tapReplaceWithRoundBtn
    flow:
      - click:
          identifier: substitutionsPage.replaceWithRoundBtn
      - log:
          message: "End Functions: substitutionsPage.tapReplaceWithRoundBtn"
          color: BLUE

  #------------------------------------------------------------------------------------------------------------------
  # Description: This function clicks on the first item available to replace the item
  # No Param
  - name: functions.substitutionsPage.tapFirstItemToReplaceWith
    flow:
      - click:
          identifier: substitutionsPage.firstItemAvailableToReplace
      - log:
          message: "End Functions: substitutionsPage.tapFirstItemToReplaceWith"
          color: BLUE

  #------------------------------------------------------------------------------------------------------------------
  # Description: This function clicks on the Edit Button which has an item replaced already
  # No Param
  - name: functions.substitutionsPage.tapCurrentSubstitutionItemEditBtn
    flow:
      - click:
          identifier: substitutionsPage.currentSubstitutionItemEditBtn
      - log:
          message: "End Functions: substitutionsPage.tapCurrentSubstitutionItemEditBtn"
          color: BLUE
#------------------------------------------------------------------------------------------------------------------
  # Description: This function validate the Substitution page 
  - name: functions.substitutionsPage.validateSubstitutes
    flow:
     - verifyIdentifier:
          present:
             - identifier: substitutionspage.substituteTitle
             - identifier: substitutionsPage.substitutionCheckbox
             - identifier: substitutionspage.allowSubstitutiontitle
             - identifier: substitutionsPage.learnmoreCTA
     
     - log:
         message: "End Functions:substitutionsPage.validateSubstitutes"
         color: BLUE
  #------------------------------------------------------------------------------------------------------------------
  # Description: This function clicks on the first Best Match round button when substituting an item 
  # No Param
  - name: functions.substitutionsPage.tapBestMatchRoundBtn
    flow:
      - click:
          identifier: substitutionsPage.bestMatchRoundBtn
      - log:
          message: "End Functions: substitutionsPage.tapBestMatchRoundBtn"
          color: BLUE

  #------------------------------------------------------------------------------------------------------------------
  # Description: This function Scrolls down to Select Button when while doing a substitution
  # No Param
  - name: functions.substitutionsPage.scrollDownToSelectBtn
    flow:
      - scroll:
          direction: down
          untilIdentifier: substitutionsPage.selectBtn
      - log:
          message: "End Functions: substitutionsPage.scrollDownToSelectBtn"
          color: BLUE

  #------------------------------------------------------------------------------------------------------------------
  # Description: This function clicks on the Select button to save a replacement option
  # No Param
  - name: functions.substitutionsPage.tapSelectBtn
    flow:
      - click:
          identifier: substitutionsPage.selectBtn
      - log:
          message: "End Functions: substitutionsPage.tapSelectBtn"
          color: BLUE
