functions:

  - name: sc.functions.misc.marketPlaceArticleValidation
    flow:
      - executeFunction:
          name: sc.functions.navigation.toTab
          params:
            - name: tab
              string: ${tab}
      - verifyIdentifier:
          present:
            - identifier: sc.mappings.misc.marketPlaceArticle.infoIcon
      - click:
          identifier: sc.mappings.misc.marketPlaceArticle.infoIcon
      - verifyIdentifier:
          present:
            - identifier: sc.mappings.misc.marketPlaceArticle.URL
      - click:
          identifier: sc.mappings.misc.marketPlaceArticle.close
      - verifyIdentifier:
          present:
            - identifier: sc.mappings.misc.marketPlaceArticle.infoIcon

  - name: sc.functions.misc.validate.mpLearnIngress.isPresent
    flow:
      - if:
          identifier:
              present:
                - identifier: sc.mappings.misc.nav.infoIcon
          then:
            - log: Learn more ingress is present
            - if:
                condition: ${shouldSelect} == true
                then:
                  - click:
                      identifier: sc.mappings.misc.nav.infoIcon
                else:
                  - log: Learn more ingress is not selected
          else:
            - verifyIdentifier:
                present:
                  - identifier: sc.mappings.misc.nav.menuIcon
            - click:
                identifier: sc.mappings.misc.nav.menuIcon
            - verifyIdentifier:
                present:
                  - identifier: sc.mappings.misc.nav.more.infoIcon     
            - if:
                condition: ${shouldSelect} == true
                then:
                  - click:
                      identifier: sc.mappings.misc.nav.more.infoIcon     

  - name: sc.functions.misc.select.mpLearnIngress
    flow:
      - executeFunction:
          name: sc.functions.misc.validate.mpLearnIngress.isPresent
          params:
            - name: shouldSelect
              string: true

  - name: sc.functions.misc.validate.learnIngressPageOpened
    flow:
      - verifyIdentifier:
          timeout: 6000
          present:
            - identifier: us.mappings.item.learn.placeLearn
      - log: Continued to website
      - sleep:
          duration: 2000
      - click:
          identifier: sc.mappings.accounts.help.closeWebPage
