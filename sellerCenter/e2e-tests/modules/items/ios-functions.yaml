functions:

  ###########################################################################################
  # Description : Function to enter min/max price in filter page for selection              #
  # ---------------------------------------- Params --------------------------------------- #
  # [optional]  ${minPrice}          - Item minimum price ...                               #
  # [optional]  ${maxPrice}          - Item maximim price ...                               #
  ###########################################################################################
  - name: sc.functions.items.filters.setMinMaxPrice
    platform: ios
    flow:
      - if:
          condition: ${minPrice} != null
          then:
            - enterText:
                identifier: sc.mappings.items.filters.minPrice
                string: ${minPrice}
            - if:
                identifier:
                  present:
                    - identifier: sc.mappings.items.filters.keyBoardDoneButton
                then:
                  - click:
                      identifier: sc.mappings.items.filters.keyBoardDoneButton
      - if:
          condition: ${maxPrice} != null
          then:
            - enterText:
                identifier: sc.mappings.items.filters.maxPrice
                string: ${maxPrice}
            - if:
                identifier:
                  present:
                    - identifier: sc.mappings.items.filters.keyBoardDoneButton
                then:
                  - click:
                      identifier: sc.mappings.items.filters.keyBoardDoneButton

  ###########################################################################################
  # Description : Function to edit inventory for an item's existing fulfillment center      #
  # --------------------------------------------------------------------------------------- #
  # Pre-requisite : Should be in item details page of an item                               #
  # --------------------------------------------------------------------------------------- #
  # [optional]  ${fulfillmentCenterName}  - Name of fulfillment center to increase inventory#
  # [optional]  ${toBeAddedInventory}     - Inventory to be added                           #
  ###########################################################################################
  - name: sc.functions.items.editItemInventory
    platform: ios
    flow:
      - if:
          condition: ${fulfillmentCenterName} == null
          then:
            - getString:
                identifier: sc.mappings.items.inventory.edit.firstFulfillmentCenter
                attribute: value
                storeIn: fulfillmentCenterName
      - enterText:
          identifier: sc.mappings.items.inventory.specifcFulfillmentOnHandValue
          string:  ${toBeAddedInventory}
          clearField: true
      - if:
          identifier:
            present:
              - identifier: sc.mappings.items.filters.keyBoardDoneButton
          then:
            - click:
                identifier: sc.mappings.items.filters.keyBoardDoneButton
      - click:
          identifier: sc.mappings.items.inventory.updateInventory
      - verifyIdentifier:
          present:
            - identifier: sc.mappings.items.inventory.updateInventorySuccessMessage
      - verifyIdentifier:
          present:
            - identifier: sc.mappings.items.itemDetails.itemTitle

  ###########################################################################################
  # Description : Function to select fulfillment center to be added for an item             #
  # --------------------------------------------------------------------------------------- #
  # Pre-requisite : Should be in item inventory page                                        #
  ###########################################################################################
  - name: sc.functions.items.selectSellerFulfillment
    platform: ios
    flow:
      - if:
          condition: ${fulfillmentCenterName} != null
          then:
            - enterText:
                identifier: sc.mappings.items.inventory.addFulfillmentCenter.centerName
                string:  ${fulfillmentCenterName}
          else:
            - getString:
                identifier: sc.mappings.items.inventory.firstFulfillmentCenter
                attribute: value
                storeIn: fulfillmentCenterName
            - click:
                identifier: sc.mappings.items.inventory.firstFulfillmentCenter


  ###########################################################################################
  # Description : Function to validate the values in the cart for title, sku, price         #
  ###########################################################################################
  - name: sc.functions.catalog.validateFacetCardValues
    platform: ios
    flow:
      - storeIn:
          key: identifierTextAttribute
          value: label
      - executeFunction:
          name: sc.functions.catalog.validateFacetCardValuesCommon      

  ###########################################################################################
  # Description : Function to save the item values of the selected card and select it       #
  ###########################################################################################
  - name: sc.functions.catalog.saveItemDetailsAndSelect
    platform: ios
    flow:
      - storeIn:
          key: identifierTextAttribute
          value: label
      - executeFunction:
          name: sc.functions.catalog.saveItemDetailsAndSelectCommon          

  - name: sc.functions.catalog.item.validateItemDetails
    platform: ios
    flow:
      - storeIn:
          key: identifierTextAttribute
          value: label
      - executeFunction:
          name: sc.functions.catalog.item.validateItemDetailsCommon