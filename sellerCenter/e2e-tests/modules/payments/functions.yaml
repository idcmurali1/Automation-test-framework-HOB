functions:

  - name: sc.functions.payments.verifyPaymentDetails
    flow:
      - verifyIdentifier:
          present:
            - identifier: sc.mappings.payments.statements.title
            - identifier: sc.mappings.payments.payout.title
            - identifier: sc.mappings.payments.funds.title
            - identifier: sc.mappings.payments.transactions.title

      - if:
          condition: ${APP_PLATFORM} == 'android'
          then:
            - getString:
                identifier: sc.mappings.payments.statements.dropdownSelectedValue
                attribute: text
                storeIn: paymentCycle
            - getString:
                identifier: sc.mappings.payments.payout.status
                attribute: text
                storeIn: payoutStatus
          else:
            - getString:
                identifier: sc.mappings.payments.statements.dropdownSelectedValue
                attribute: value
                storeIn: paymentCycle
            - getString:
                identifier: sc.mappings.payments.payout.status
                attribute: value
                storeIn: payoutStatus
      - verifyValue:
          identifier: ${paymentCycle}
          contains: Open
      - verifyValue:
          identifier: ${payoutStatus}
          contains: To be paid

      - scroll:
          direction: down
      - verifyIdentifier:
          present:
            - identifier: sc.mappings.payments.closing.title
            - identifier: sc.mappings.payments.closing.paidToYou_or_amountPaid
            - identifier: sc.mappings.payments.closing.currentBalance

      - if:
          condition: ${APP_PLATFORM} == 'android'
          then:
            - verifyIdentifier:
                text:
                  - identifier: sc.mappings.payments.closing.firstSubSection
                    contains: Current balance
                  - identifier: sc.mappings.payments.closing.secondSubSection
                    contains: Paid to you
          else:
            - verifyIdentifier:
                value:
                  - identifier: sc.mappings.payments.closing.firstSubSection
                    contains: Current balance
                  - identifier: sc.mappings.payments.closing.secondSubSection
                    contains: Paid to you