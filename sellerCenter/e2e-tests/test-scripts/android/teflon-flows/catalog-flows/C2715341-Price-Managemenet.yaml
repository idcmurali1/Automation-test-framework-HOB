general:
  platform: android
  tags: sc-e2e, sc-staging-feature-build, C2715341

scenarios:
  - name: Before
    before: true
    endTestOnFailure: true
    flow:
      - storeIn:
          key: identifierTextAttribute
          value: text
      - storeIn:
          key: APP_PLATFORM
          value: android

  - name: Main
    flow:
      - log: Start Main

      # Login
      - executeFunction:
          name: sc.functions.accounts.login
          params:
            - name: email
              string: sc.partner1.email
            - name: password
              string: sc.partner1.password

      - executeFunction:
          name: sc.functions.navigation.toTab
          params:
            - name: tab
              string: Catalog
      
      - executeFunction:
          name: sc.functions.catalog.selectFacet
          params:
            - name: facetName
              string: 'All'

      - sleep:
          duration: 5000

     # select the first item from the list
      - executeFunction:
          name: sc.functions.catalog.saveItemDetailsAndSelect

      - executeFunction:
          name: sc.functions.items.verifyItemDetailsPage
    
      - getString:
          identifier: sc.mappings.catalog.itemDetails.price.sellingPriceValue
          attribute: text
          extractNumbers: true
          storeIn: currentPrice
      
      # Validate if the selling price can be updated
      - executeFunction:
          name: sc.functions.catalog.item.idemDetails.updateSellingPrice
          params:
            - name: toBeAddedPrice
              string: 1.0

      - storeIn:
          key: testStatus
          value: passed
