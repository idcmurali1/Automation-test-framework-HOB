general:
  tags: p1-sc-prod-e2e, sc-prod-feature-build

scenarios:
  - name: Before
    before: true
    endTestOnFailure: true
    flow:

  - name: Main
    flow:
      - log: Start Main

      # Login
      - executeFunction:
          name: sc.functions.accounts.login
          params:
            - name: email
              string: sc.partner1.email
            - name: password
              string: sc.partner1.password

      - executeFunction:
          name: sc.functions.navigation.toTab
          params:
            - name: tab
              string: WFS inventory

      - executeFunction:
          name: sc.functions.wfsInventory.quickFilterWFSItems
          params:
            - name: quickFilter
              string: In stock

      - executeFunction:
          name: sc.functions.wfsInventory.verifyQuickFilters
          params:
            - name: quickFilter
              string: In stock
            - name: validateItem
              string: true

      - executeFunction:
          name: sc.functions.wfsInventory.quickFilterWFSItems
          params:
            - name: quickFilter
              string: Out of stock

      - executeFunction:
          name: sc.functions.wfsInventory.verifyQuickFilters
          params:
            - name: quickFilter
              string: Out of stock
            - name: validateItem
              string: true

      - executeFunction:
          name: sc.functions.wfsInventory.selectFirstWFSItem

      - executeFunction:
          name: sc.functions.wfsInventory.wfsItemDetails.fetchWFSItemData

      - executeFunction:
          name: sc.functions.navigation.navigateBackToListPage

      - executeFunction:
          name: sc.functions.global.search
          params:
            - name: searchValue
              string: ${wfsItemSKU}
            - name: searchType
              string: SKU

      - executeFunction:
          name: sc.functions.wfsInventory.selectFirstWFSItem
          params:
            - name: validateData
              string: true

      - executeFunction:
          name: sc.functions.wfsInventory.verifyWFSItem
          params:
            - name: validateData
              string: true
            - name: wfsItemSKU
              string: ${wfsItemSKU}
            - name: wfsItemId
              string: ${wfsItemId}
            - name: wfsItemGTIN
              string: ${wfsItemGTIN}

      - executeFunction:
          name: sc.functions.navigation.navigateBackToListPage

      - executeFunction:
          name: sc.functions.global.search
          params:
            - name: searchValue
              string: ${wfsItemId}
            - name: searchType
              string: Item ID

      - executeFunction:
          name: sc.functions.wfsInventory.selectFirstWFSItem
          params:
            - name: validateData
              string: true

      - executeFunction:
          name: sc.functions.wfsInventory.verifyWFSItem
          params:
            - name: validateData
              string: true
            - name: wfsItemSKU
              string: ${wfsItemSKU}
            - name: wfsItemId
              string: ${wfsItemId}
            - name: wfsItemGTIN
              string: ${wfsItemGTIN}

      - executeFunction:
          name: sc.functions.navigation.navigateBackToListPage

      - executeFunction:
          name: sc.functions.global.search
          params:
            - name: searchValue
              string: ${wfsItemGTIN}
            - name: searchType
              string: GTIN

      - executeFunction:
          name: sc.functions.wfsInventory.selectFirstWFSItem
          params:
            - name: validateData
              string: true

      - executeFunction:
          name: sc.functions.wfsInventory.verifyWFSItem
          params:
            - name: validateData
              string: true
            - name: wfsItemSKU
              string: ${wfsItemSKU}
            - name: wfsItemId
              string: ${wfsItemId}
            - name: wfsItemGTIN
              string: ${wfsItemGTIN}

      - storeIn:
          key: testStatus
          value: passed