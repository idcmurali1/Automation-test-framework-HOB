general:
  platform: ios
  tags: C2717997, sc-e2e

scenarios:
  - name: Before
    before: true
    endTestOnFailure: true
    flow:

  - name: Main
    flow:
      - log: Start Main

# * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      - log: 'R2_SUBFLOW_PRE_TRANSACTION'
# * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *

      # Login
      - executeFunction:
          name: sc.functions.accounts.login
          params:
            - name: email
              string: sc.partner2.email
            - name: password
              string: sc.partner2.password
      
      # From the Home screen, verify that the user can View and then select the inbox from the footer bar tab.
      - executeFunction:
          name: sc.functions.navigation.toTab
          params:
            - name: tab
              string: Inbox
      
      # Verify Search Inbox
      - executeFunction:
          name: sc.functions.inbox.verifySearch
      
      # Assert user can search on an order #
      - executeFunction:
          name: sc.functions.global.search
          params:
            - name: searchValue
              string: 200011961974355
      
      - executeFunction:
            name: sc.functions.navigation.navigateBackToListPage

      # Assert user can search on a message subject
      - executeFunction:
          name: sc.functions.global.search
          params:
            - name: searchValue
              string: Teflon User
      
      - executeFunction:
          name: sc.functions.navigation.navigateBackToListPage
      
      # Assert user can search on a sender
      - executeFunction:
          name: sc.functions.global.search
          params:
            - name: searchValue
              string: asxc sv

      - storeIn:
          key: testStatus
          value: passed
  
  - name: After
    after: true
    flow:
      - executeFunction:
          name: sc.functions.utils.afterSteps


