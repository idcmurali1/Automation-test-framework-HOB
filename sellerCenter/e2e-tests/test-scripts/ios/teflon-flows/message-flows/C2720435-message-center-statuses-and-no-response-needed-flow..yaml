general:
  platform: ios
  tags: C2720435, sc-e2e

scenarios:
  - name: Before
    before: true
    endTestOnFailure: true
    flow:

  - name: Main
    flow:
      - log: Start Main

# * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      - log: 'R2_SUBFLOW_PRE_TRANSACTION'
# * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *

      # Login
      - executeFunction:
          name: sc.functions.accounts.login
          params:
            - name: email
              string: sc.teflon.testaquafina.email
            - name: password
              string: sc.teflon.testaquafina.password
      
      # From the Home screen, verify that the user can View and then select the inbox from the footer bar tab.
      - executeFunction:
          name: sc.functions.navigation.toTab
          params:
            - name: tab
              string: Inbox

      # Tap Select each filter one at a time
      - executeFunction:
          name: sc.functions.inbox.filterSelection
          params:
            - name: messageStatus
              string: Unread
            - name: messageType
              string: Response needed 

      # Verify status badge in the inbox screen as seem as message details
      - executeFunction:
         name: sc.functions.inbox.verifyStatus

      # select any reason at No ressponse needed
      - executeFunction:
          name: sc.functions.inbox.sendNoResponseNeeded

      - storeIn:
          key: testStatus
          value: passed
  
  - name: After
    after: true
    flow:
      - executeFunction:
          name: sc.functions.utils.afterSteps


