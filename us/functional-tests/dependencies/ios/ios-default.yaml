general:
  automationName: XCUITest
  bundleId: com.walmart.beta.electronics
  appiumVersion: 2.0.0
  mappingLabels: ${MAPPING_LABELS:teflon}
  combineScenarios: ${COMBINE_SCENARIOS:true}
  glassEnv: '{"env":{"config":"{\"environment\":\"${GLASS_ENV:teflon}\"}","ccm":"{\"account.ux.optimization.enabled\":{\"value\":false}}"},"args":["-kGlassExpEnabled","true","-com.walmart.px.skip-catcha","YES"]}'
  fullReset: ${fullReset:false}
  noReset: false
  build: r2-${TEST_SESSION_ID}
  newCommandTimeout: 90000
  idleTimeout: 1000
  commandTimeout: 600
  # retryFailedTests: true
  launchTimeout: 6000000
  iosInstallPause: 20000
  noLimitTraceObject: true
  autoAcceptAlerts: true
  public: share

profiles:
  - name: local
    general:
      app: ${WALMART_APP_FILENAME_IOS:./us/app/glass.zip}
      serverURL: 'http://127.0.0.1:4723'
      combineScenarios: ${COMBINE_SCENARIOS:true}

    device:
      - deviceName: ${DEVICE_NAME_IOS:iPhone 14}
        platformName: ${PLATFORM_NAME_IOS:iOS}
        platformVersion: ${PLATFORM_VERSION_IOS:16.1}
        deviceOrientation: ${DEVICE_ORIENTATION_IOS:portrait}
        appiumVersion: ${APPIUM_VERSION:2.0.0}

  - name: local-prod
    general:
      app: ${WALMART_APP_FILENAME_IOS:./us/app/glass.zip}
      mappingLabels: ${MAPPING_LABELS:production}
      serverURL: 'http://127.0.0.1:4723'
      combineScenarios: ${COMBINE_SCENARIOS:true}
      glassEnv: '{"env":{"config":"{\"environment\":\"${GLASS_ENV:production}\"}"},"args":["-kGlassExpEnabled","true","-com.walmart.px.skip-catcha","YES"]}'
      autoAcceptAlerts: true
    device:
      - deviceName: ${DEVICE_NAME_IOS:iPhone 15}
        platformName: ${PLATFORM_NAME_IOS:iOS}
        platformVersion: ${PLATFORM_VERSION_IOS:17.4}
        deviceOrientation: ${DEVICE_ORIENTATION_IOS:portrait}
        appiumVersion: ${APPIUM_VERSION:2.0.0}

  - name: saucelabs-prod-local
    general:
      app: $SAUCE_APP
      mappingLabels: ${MAPPING_LABELS:production}
      testrailProxyHost: sysproxy.wal-mart.com
      testrailProxyPort: 8080
      combineScenarios: ${COMBINE_SCENARIOS:true}
      maxDuration: 10800
      glassEnv: '{"env":{"config":"{\"environment\":\"${GLASS_ENV:production}\"}"},"args":["-kGlassExpEnabled","true","-com.walmart.px.skip-catcha","YES"]}'

    saucelabs:
      userName: $SAUCE_USERNAME
      accessKey: $SAUCE_ACCESS_KEY
      useNewSauceAPI: true
      armRequired: true

    device:
      - deviceName: ${DEVICE_NAME_IOS:iPhone 15 Simulator}
        platformName: ${PLATFORM_NAME_IOS:iOS}
        platformVersion: ${PLATFORM_VERSION_IOS:17.5}
        deviceOrientation: ${DEVICE_ORIENTATION_IOS:portrait}
        appiumVersion: ${APPIUM_VERSION:2.1.3}


  - name: looper-teflon
    general:
      app: $SAUCE_APP
      testrailProxyHost: sysproxy.wal-mart.com
      testrailProxyPort: 8080
      parallelExecution: true
      combineScenarios: ${COMBINE_SCENARIOS:true}
      build: r2-${TEST_SESSION_ID}
      maxDuration: 10800
      language: en_US
      locale: en_US
      glassEnv: '{"env":{"config":"{\"environment\":\"${GLASS_ENV:teflon}\"}","ccm":"{\"platform.productMetrics.isQuantumMetricEnabled.useDebugLogging\":{\"value\":true}}","ccm":"{\"feature.membership.plusups.reactivation.cancelledActiveExpired.enabled\":{\"value\":false}}"},"args":["-kGlassExpEnabled","true","-com.walmart.px.skip-catcha","YES"]}'

    saucelabs:
      userName: $SAUCE_USERNAME
      accessKey: $SAUCE_ACCESS_KEY
      useNewSauceAPI: true

    device:
      - deviceName: ${DEVICE_NAME_IOS:iPhone 14 Simulator}
        platformName: ${PLATFORM_NAME_IOS:iOS}
        platformVersion: ${PLATFORM_VERSION_IOS:16.2}
        deviceOrientation: ${DEVICE_ORIENTATION_IOS:portrait}
        appiumVersion: ${APPIUM_VERSION:2.0.0}

  - name: looper-prod
    general:
      app: $SAUCE_APP
      testrailProxyHost: sysproxy.wal-mart.com
      testrailProxyPort: 8080
      parallelExecution: true
      mappingLabels: ${MAPPING_LABELS:production}
      combineScenarios: ${COMBINE_SCENARIOS:true}
      glassEnv: '{"env":{"config":"{\"environment\":\"production\"}"},"args":["-com.walmart.px.skip-catcha","YES"]}'
      threads: ${THREADS:100}
      maxDuration: 10800
      build: r2-${TEST_SESSION_ID}
      # retryFailedTests: true
      # retryCount: 5

    saucelabs:
      userName: $SAUCE_USERNAME
      accessKey: $SAUCE_ACCESS_KEY
      useNewSauceAPI: true

    device:
      - deviceName: ${DEVICE_NAME_IOS:iPhone 14 Simulator}
        platformName: ${PLATFORM_NAME_IOS:iOS}
        platformVersion: ${PLATFORM_VERSION_IOS:16.2}
        deviceOrientation: ${DEVICE_ORIENTATION_IOS:portrait}
        appiumVersion: ${APPIUM_VERSION:2.0.0}