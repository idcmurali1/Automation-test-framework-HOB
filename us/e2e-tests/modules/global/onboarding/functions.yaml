functions:

################################################### iOS #######################################################

  - name: us.functions.global.onboarding.navigateOnboardingToHome            # modified on 4th June 2021
    platform: ios
    flow:
      - storeIn:
          key: executionStage
          value: Onboarding

      # # Temporary way to bypass onboarding 
      # - click:
      #     identifier: person
      #     doubleClick: true
      - executeFunction:
          name: us.function.utils.getEnvironmentValue
      - if:
          condition: ${env} == 'spanish_prod_e2e'
          then:
            - executeFunction:
                name: us.functions.global.navigation.goToDeepLink
                params:
                  - name: deepLinkUrl
                    string: us.data.prod.spanishExperience.expo
      #Checking for Welcome onboarding screen
      - if: 
          identifier: 
            present: 
              - identifier: us.mappings.global.onboarding.mainScreenText
          then:                  
            - log: Welcome screen loaded                   
            - verifyIdentifier:
                timeout: 60000
                present:
                  - identifier: us.mappings.global.onboarding.mainScreenText
            - storeIn:
                key: testStarted
                value: true      
            - if: 
                identifier: 
                  present: 
                    - identifier: us.mappings.global.onboarding.getStartedButton
                then: 
                  - click: 
                      identifier: us.mappings.global.onboarding.getStartedButton
                else: 
                  - click: 
                      identifier: us.mappings.global.onboarding.welcomeNextButton
            - log: Notifiction Prompt screen loaded                   

            - verifyIdentifier:
                present:
                  - identifier: us.mappings.global.onboarding.notificationScreenText
            - click:
                identifier: us.mappings.global.onboarding.notNowButton
                wait: 2000
      - log: location screen loaded                   
      - verifyIdentifier:
          present:
            - identifier: us.mappings.global.onboarding.locationScreenText
            - identifier: us.mappings.global.onboarding.locationScreenBody
      - storeIn:
          key: testStarted
          value: true 
      - click:
          identifier: us.mappings.global.onboarding.enterZipCodeButton
      - verifyIdentifier:
          present:
            - identifier: us.mappings.global.onboarding.shareZipCodeScreenText
      - enterText:
          identifier: us.mappings.global.onboarding.enterZipCodeField
          string: us.data.onboarding.zipcode
      - click:
          identifier: us.mappings.global.onboarding.searchButton   
      - sleep:
          duration: 3000
      - loop:
         begin: 0
         end: 3
         storeIndex: i
         flow:
           - log: $i
           - if:
               identifier:
                 present: 
                   - identifier: us.mappings.global.onboarding.technicalError
               then:
                 - click:
                     identifier: us.mappings.error.dismissButton
                 - enterText:
                     identifier: us.mappings.global.onboarding.enterZipCodeField
                     string: us.data.onboarding.zipcode  
                 - click:
                     identifier: us.mappings.global.onboarding.searchButton
               else:
                  - break: true      
      - if:
          identifier:
            present:
              - identifier: us.mappings.global.onboarding.technicalError
          then:
            - failTest:
                message: "ENV_FAILURE - ${env} - Onboarding failure error"  
      - log: Observed IDFA Sscreen
      - sleep:
          duration: 3000
      - if: 
          identifier: 
            present: 
              - identifier:  us.mappings.global.onboarding.personalizedScreen
          then: 
            - verifyIdentifier:
                present:
                  - identifier: us.mappings.global.onboarding.personalizedScreen
                  - identifier : ATTPermissionViewController.bodyLabel
            - click :
                identifier: cta.continue.location
                wait: 10000
            # Added this condition to handle the alerts for latest Xcuitest xcuitest@7.35.1 and Xcode Version - 16.2 commented as autodismiss is set true.
            # - if: 
            #     identifier: 
            #       present: 
            #         - identifier: us.mappings.global.onboarding.askAppNotToTrackButton
            #     then: 
            #       - click: 
            #           identifier: us.mappings.global.onboarding.askAppNotToTrackButton  
          else: 
            - log: idfa is not displayed
    #to continue spanish view
      - if: 
          identifier: 
            present: 
              - identifier: us.mappings.home.continueSpanishViewModalText
          then: 
            - click: 
                identifier: us.mappings.home.continueSpanishViewModalButton
          else: 
            - log: modal is not displayed  
    #to handle new update available screen
      - if: 
          identifier: 
            present: 
              - identifier: us.mappings.home.newUpdateAvailableText
          then: 
            - click: 
                identifier: us.mappings.home.newUpdateAvailableCancelButton           
      # - verifyIdentifier:
      #     present:
      #       - identifier: us.mappings.home.adjustableBanner
      - executeFunction:
          name: us.functions.gic.collapseIfExpanded

  - name: us.functions.global.onboarding.allowLocation.navigateOnboardingToHome            # modified on 4th June 2021
    platform: ios
    flow:
      - storeIn:
          key: executionStage
          value: Onboarding
      # # Temporary way to bypass onboarding 
      # - click:
      #     identifier: person
      #     doubleClick: true
      - verifyIdentifier:
          timeout: 60000
          present:
            - identifier: us.mappings.global.onboarding.mainScreenText
      - if: 
          identifier: 
            present: 
              - identifier: us.mappings.global.onboarding.getStartedButton
          then: 
            - click: 
                identifier: us.mappings.global.onboarding.getStartedButton
          else: 
            - click: 
                identifier: us.mappings.global.onboarding.welcomeNextButton
      - verifyIdentifier:
          present:
            - identifier: us.mappings.global.onboarding.notificationScreenText
      - click:
          identifier: us.mappings.global.onboarding.notNowButton         
      - verifyIdentifier:
          present:
            - identifier: us.mappings.global.onboarding.locationScreenText
      - click:
          identifier: us.mappings.global.onboarding.shareLocation.continueButton
      - if: 
          identifier: 
            present: 
              - identifier: us.mappings.global.onboarding.allowLocationModalHeaderText
          then: 
            - click: 
                identifier: us.mappings.global.onboarding.allowLocation
            # - click: 
            #     identifier: us.mappings.global.onboarding.continueButton
            # - verifyIdentifier:
            #     present:
            #       - identifier: us.mappings.global.onboarding.askAppNotToTrackButton
            # - click:
            #     identifier: us.mappings.global.onboarding.askAppNotToTrackButton
            # - verifyIdentifier:
            #     present:
            #       - identifier: us.mappings.home.searchBarSelected
            #       - identifier: us.mappings.home.seeTimes
          # else: 
          #   - log : onboarding failed
          else: 
            - log: Observed personalizedScreen
            - if: 
                identifier:
                  present: 
                    - identifier: us.mappings.global.onboarding.continueButton
                then:
                  - click: 
                      identifier: us.mappings.global.onboarding.continueButton
            - if:
                identifier:
                  present:
                    - identifier: us.mappings.global.onboarding.askAppNotToTrackButton
                then:
                  - click:
                      identifier: us.mappings.global.onboarding.askAppNotToTrackButton
      - sleep:
          duration: 3000                    
      - if: #To skip personalized screen if it appears during onboarding
          identifier:
            present: 
              - identifier: us.mappings.global.onboarding.personalizedScreen
          then:
            - if: 
                identifier:
                  present: 
                    - identifier: us.mappings.global.onboarding.personalizedScreen.allowButton
                then:
                  - click: 
                      identifier: us.mappings.global.onboarding.personalizedScreen.allowButton
            - if: 
                identifier:
                  present: 
                    - identifier: us.mappings.global.onboarding.continueButton
                then:
                  - click: 
                      identifier: us.mappings.global.onboarding.continueButton
            - if: 
                identifier:
                  present: 
                    - identifier: us.mappings.global.onboarding.personalizedScreen.allowButton
                then:
                  - click: 
                      identifier: us.mappings.global.onboarding.personalizedScreen.allowButton
            - if: 
                identifier:
                  present: 
                    - identifier: us.mappings.global.onboarding.personalizedScreen.alertAllowButton
                then:
                  - click: 
                      identifier: us.mappings.global.onboarding.personalizedScreen.alertAllowButton
      - if:
          identifier:
            present:
              - identifier: us.mappings.global.onboarding.choosePermissionsButton
          then:
            - click:
                identifier: us.mappings.global.onboarding.choosePermissionsButton
            - click:
                identifier: us.mappings.global.onboarding.askAppNotToTrackButton
      - executeFunction:
          name: us.functions.utils.tryAgainWhenThereIsError
      - executeFunction:
          name: us.functions.onboarding.handleTechnicalErrorPage 
      - executeFunction:
          name: us.functions.gic.collapseIfExpanded
  

  - name: us.functions.global.onboarding.navigateOnboardingToHome.paramZip
    platform: ios
    flow:
      # # Temporary way to bypass onboarding
      # - click:
      #     identifier: person
      #     doubleClick: true
      - executeFunction:
          name: us.function.utils.getEnvironmentValue
      - verifyIdentifier:
          timeout: 60000
          present:
            - identifier: us.mappings.global.onboarding.mainScreenText
      - storeIn:
          key: testStarted
          value: true
      # Temporary workaround to bypass home loading issue
      - launchStartPage: true
      - verifyIdentifier:
          timeout: 60000
          present:
            - identifier: us.mappings.global.onboarding.mainScreenText
      - if: 
          identifier: 
            present: 
              - identifier: us.mappings.global.onboarding.getStartedButton
          then: 
            - click: 
                identifier: us.mappings.global.onboarding.getStartedButton
          else: 
            - click: 
                identifier: us.mappings.global.onboarding.welcomeNextButton
      - verifyIdentifier:
          present:
            - identifier: us.mappings.global.onboarding.notificationScreenText
      - click:
          identifier: us.mappings.global.onboarding.notNowButton         
      - verifyIdentifier:
          present:
            - identifier: us.mappings.global.onboarding.locationScreenText
      - click:
          identifier: us.mappings.global.onboarding.enterZipCodeButton
      - if: 
          identifier: 
            present: 
              - identifier: us.mappings.global.onboarding.shareZipCodeScreenText
          then: 
            # - click: 
            #     identifier: us.mappings.global.onboarding.getStartedButton
            - enterText:
                identifier: us.mappings.global.onboarding.enterZipCodeField
                string: ${ZIP_CODE}
            - click:
                wait: 5000
                identifier: us.mappings.global.onboarding.searchButton
                wait: 10000    
          else: 
            - log: Observed personalizedScreen
     
      - if: #To skip personalized screen if it appears during onboarding
          identifier:
            present: 
              - identifier: us.mappings.global.onboarding.personalizedScreen
          then:
            - if: 
                identifier:
                  present: 
                    - identifier: us.mappings.global.onboarding.personalizedScreen.allowButton
                then:
                  - click: 
                      identifier: us.mappings.global.onboarding.personalizedScreen.allowButton
            - if: 
                identifier:
                  present: 
                    - identifier: us.mappings.global.onboarding.continueButton
                then:
                  - click: 
                      identifier: us.mappings.global.onboarding.continueButton
            - if: 
                identifier:
                  present: 
                    - identifier: us.mappings.global.onboarding.personalizedScreen.allowButton
                then:
                  - click: 
                      identifier: us.mappings.global.onboarding.personalizedScreen.allowButton
            - if: 
                identifier:
                  present: 
                    - identifier: us.mappings.global.onboarding.personalizedScreen.alertAllowButton
                then:
                  - click: 
                      identifier: us.mappings.global.onboarding.personalizedScreen.alertAllowButton
      - if:
          identifier:
            present:
              - identifier: us.mappings.global.onboarding.choosePermissionsButton
          then:
            - click:
                identifier: us.mappings.global.onboarding.choosePermissionsButton
            - click:
                identifier: us.mappings.global.onboarding.askAppNotToTrackButton
      # - executeFunction:
      #     name: us.functions.home.handle.bottomOverlay
      - executeFunction:
          name: us.functions.utils.tryAgainWhenThereIsError
      # - verifyIdentifier:
      #     timeout: 30000
      #     present:
      #       # - identifier: us.mappings.home.searchBar
      #       - identifier: us.mappings.home.seeTimes

  - name: us.functions.onboarding.handleTechnicalErrorPage
    platform: ios  
    flow:
      - sleep:
          duration: 5000
      - loop:
         begin: 0
         end: 4
         storeIndex: i
         flow:
           - log: $i
           - if:
               identifier:
                 present: 
                   - identifier: us.mappings.global.onboarding.technicalError
               then:
                 - click:
                     identifier: us.mappings.page.retryAgainButton
                 - if:
                      identifier:
                        present: 
                          - identifier: us.mappings.global.onboarding.searchButton
                      then:
                        - click:
                            identifier: us.mappings.global.onboarding.searchButton
                 - if: 
                      identifier:
                        present: 
                          - identifier: us.mappings.global.onboarding.continueButton
                      then:
                        - click: 
                            identifier: us.mappings.global.onboarding.continueButton
                 - if: 
                      identifier:
                        present: 
                          - identifier: us.mappings.global.onboarding.personalizedScreen.allowButton
                      then:
                        - click: 
                            identifier: us.mappings.global.onboarding.personalizedScreen.allowButton
                 - if: 
                      identifier:
                        present: 
                          - identifier: us.mappings.global.onboarding.personalizedScreen.alertAllowButton
                      then:
                        - click: 
                            identifier: us.mappings.global.onboarding.personalizedScreen.alertAllowButton
               else:
                 - log: No Technical Error Page observed
                 - break: true


################################################## Android ######################################################

  - name: us.functions.global.onboarding.navigateOnboardingToHome
    platform: android
    flow:
      - storeIn:
          key: executionStage
          value: Onboarding
      
      - executeFunction:
          name: us.function.utils.getEnvironmentValue
      - startActivity:
          packageName: ${APP_PACKAGE:com.walmart.android.debug}
          activityName: com.walmart.glass.integration.splash.SplashActivity
          params:
            - key: appWaitActivity
              value: com.walmart.glass.onboarding.view.OnboardingActivity
      - if:
          condition: ${env} == 'spanish_prod_e2e'
          then:
            - executeFunction:
                name: us.functions.global.navigation.goToDeepLink
                params:
                  - name: deepLinkUrl
                    string: us.data.prod.spanishExperience.expo
      - if:
          identifier:
            present:
              - identifier: us.mappings.global.onboarding.welcomeScreenText
          then:
            - log: Normal Onboarding Flow Strarted with Welcome Screen
            - if:
                identifier:
                  present:
                    - identifier: us.mappings.global.onboarding.mainScreenText
                then:
                  - click: 
                      identifier: us.mappings.global.onboarding.getStartedButton
                else:
                  - verifyIdentifier:
                      present:
                        - identifier: us.mappings.global.onboarding.welcomeScreenText
            - storeIn:
                key: testStarted
                value: true                 
            - if:
                identifier:
                  present:
                    - identifier: us.mappings.global.onboarding.mainScreenText
                then:
                  - click: 
                      identifier: us.mappings.global.onboarding.getStartedButton

                else:
                  - verifyIdentifier:
                      present:
                        - identifier: us.mappings.global.onboarding.welcomeScreenText
                  - click:
                      identifier: us.mappings.global.onboarding.nextButton
            - if:
                condition: ${allowNotifications} 
                then:
                  - verifyIdentifier:
                      present:
                        - identifier: us.mappings.global.onboarding.notificationScreenText
                  - click:
                      identifier: us.mappings.global.onboarding.allowNotifications

                  - verifyIdentifier:
                      present:
                        - identifier: us.mappings.global.onboarding.allowNotificationsSystem
                  - click:
                      identifier: us.mappings.global.onboarding.allowNotificationsSystem

                else:
                  - verifyIdentifier:
                      present:
                        - identifier: us.mappings.global.onboarding.notificationScreenText
                  - click:
                      identifier: us.mappings.global.onboarding.maybeLaterButton
      - log: Location Screen Loaded
      - verifyIdentifier:
          timeout: 40000
          present:
            - identifier: us.mappings.global.onboarding.locationScreenText
      - storeIn:
          key: testStarted
          value: true 
      - click:
          identifier: us.mappings.global.onboarding.enterZipCodeButton
      - verifyIdentifier:
          present:
            - identifier: us.mappings.global.onboarding.shareZipCodeScreenText
      - click:
          identifier: us.mappings.global.onboarding.enterZipCodeField
      - enterText:
          identifier: us.mappings.global.onboarding.enterZipCodeField
          string: us.data.onboarding.zipcode
      - hideKeyboard: true
      - click:
          wait: 2000
          identifier: us.mappings.global.onboarding.searchButton
      - if:
          identifier:
            present: 
              - identifier: us.mappings.global.onboarding.technicalError
          then:
            - loop:
                begin: 0
                end: 3
                storeIndex: i
                flow:
                  - log: $i
                  - if:
                      identifier:
                        present: 
                          - identifier: us.mappings.global.onboarding.technicalError
                      then:
                        - click:
                            identifier: us.mappings.error.dismissButton
                        - enterText:
                            identifier: us.mappings.global.onboarding.enterZipCodeField
                            string: us.data.onboarding.zipcode  
                        - click:
                            identifier: us.mappings.global.onboarding.searchButton
                      else:
                          - break: true      
            - if:
                identifier:
                  present:
                    - identifier: us.mappings.global.onboarding.technicalError
                then:
                  - failTest:
                      message: "ENV_FAILURE - ${env} - Onboarding failure error"  

      - verifyIdentifier:
          timeout: 50000
          notPresent:
            - identifier: us.mappings.global.onboarding.shareZipCodeScreenText
      - executeFunction:
          name: us.functions.global.onboarding.popUpScreen       
      - executeFunction:
          name: us.functions.global.onboarding.smartLock.DismissNoneOfTheAbove
      - executeFunction:
          name: us.functions.home.personalizedPopUpScreenClose            
      - executeFunction:
          name: us.functions.utils.tryAgainWhenThereIsError
      - if:
          identifier:
            present:
              - identifier: us.mappings.global.onboarding.beta.doneButton
          then:
            - click: 
                identifier: us.mappings.global.onboarding.beta.doneButton

      - executeFunction:
          name: us.functions.gic.collapseIfExpanded
      - verifyIdentifier:
          present:
            - identifier: us.mappings.home.searchBarSelected

      - executeFunction:
          name: us.functions.home.handleReorderToolTip
         
  - name: us.functions.global.onboarding.allowLocation.navigateOnboardingToHome
    platform: android
    flow:
      - storeIn:
          key: executionStage
          value: Onboarding
      - startActivity:
          packageName: ${APP_PACKAGE:com.walmart.android.debug}
          activityName: com.walmart.glass.integration.splash.SplashActivity
          params:
            - key: appWaitActivity
              value: com.walmart.glass.onboarding.view.OnboardingActivity  
      - if:
          identifier:
            present:
              - identifier: us.mappings.global.onboarding.mainScreenText
          then:
            - click: 
                identifier: us.mappings.global.onboarding.getStartedButton

          else:
            - verifyIdentifier:
                present:
                  - identifier: us.mappings.global.onboarding.welcomeScreenText
            - click:
                identifier: us.mappings.global.onboarding.nextButton
      - if:
          identifier:
            present:
              - identifier: us.mappings.global.onboarding.notificationScreenText
          then:
            - click:
                identifier: us.mappings.global.onboarding.maybeLaterButton              
      - verifyIdentifier:
          present:
            - identifier: us.mappings.global.onboarding.locationScreenText
      - click:
          identifier: us.mappings.global.onboarding.enablePreciseLocationButton
      - click:
          identifier: us.mappings.global.onboarding.allowWhileUsingAppButton
      - sleep:
          duration: 3000
      - if:
          identifier:
            present:
              - identifier: us.mappings.global.onboarding.enableLocatioButton
          then:
            - click: 
                identifier: us.mappings.global.onboarding.enableLocatioButton
            - goBack: true
            - click: 
                identifier: us.mappings.global.onboarding.enablePreciseLocationButton
      - if:
          identifier:
            present:
              - identifier: us.mappings.global.onboarding.technicalError
          then:
            - click:
                identifier: us.mappings.global.onboarding.technicalErrorDismissButton
            - click:
                identifier: us.mappings.global.onboarding.searchButton
      - sleep:
          duration: 3000  
      - executeFunction:
          name: us.functions.home.personalizedPopUpScreenClose           
      - executeFunction:
          name: us.functions.utils.tryAgainWhenThereIsError 
      - verifyIdentifier:
          present:
            - identifier: us.mappings.home.searchBarSelected
           # - identifier: us.mappings.home.seeTimes



  - name: us.functions.global.onboarding.navigateOnboardingToHome.paramZip
    platform: android
    flow:
      - executeFunction:
          name: us.function.utils.getEnvironmentValue
      - startActivity:
          packageName: ${APP_PACKAGE:com.walmart.android.debug}
          activityName: com.walmart.glass.integration.splash.SplashActivity
          params:
            - key: appWaitActivity
              value: com.walmart.glass.onboarding.view.OnboardingActivity
      - if:
          identifier:
            present:
              - identifier: us.mappings.global.onboarding.mainScreenText
          then:
            - click:
                identifier: us.mappings.global.onboarding.getStartedButton

          else:
            - verifyIdentifier:
                present:
                  - identifier: us.mappings.global.onboarding.welcomeScreenText
      - if:
          identifier:
            present:
              - identifier: us.mappings.global.onboarding.mainScreenText
          then:
            - click:
                identifier: us.mappings.global.onboarding.getStartedButton
          else:
            - verifyIdentifier:
                present:
                  - identifier: us.mappings.global.onboarding.welcomeScreenText
            - click:
                identifier: us.mappings.global.onboarding.nextButton
      - if:
          identifier:
            present:
              - identifier: us.mappings.global.onboarding.notificationScreenText
          then:
            - click:
                identifier: us.mappings.global.onboarding.maybeLaterButton
      - verifyIdentifier:
          present:
            - identifier: us.mappings.global.onboarding.locationScreenText
      - click:
          identifier: us.mappings.global.onboarding.enterZipCodeButton  
      - verifyIdentifier:
          present:
            - identifier: us.mappings.global.onboarding.shareZipCodeScreenText
      - click:
          identifier: us.mappings.global.onboarding.enterZipCodeField
      - enterText:
          identifier: us.mappings.global.onboarding.enterZipCodeField
          string: ${ZIP_CODE}
      - hideKeyboard: true
      - click:
          wait: 5000
          identifier: us.mappings.global.onboarding.searchButton
      - if:
          identifier:
            present:
              - identifier: us.mappings.global.onboarding.technicalError
          then:
            - click:
                identifier: us.mappings.global.onboarding.technicalErrorDismissButton
            - click:
                identifier: us.mappings.global.onboarding.searchButton
      - verifyIdentifier:
          timeout: 30000
          notPresent:
            - identifier: us.mappings.global.onboarding.shareZipCodeScreenText
      - executeFunction:
          name: us.functions.global.onboarding.popUpScreen   
      - sleep:
          duration: 3000  
      - executeFunction:
          name: us.functions.home.personalizedPopUpScreenClose
      - sleep:
          duration: 3000            
      - executeFunction:
          name: us.functions.utils.tryAgainWhenThereIsError
      - sleep:
          duration: 3000  
      # - executeFunction:
      #     name: us.functions.home.personalizedPopUpScreenClose
      # - sleep:
      #     duration: 3000  
      - if:
          identifier:
            present:
              - identifier: us.mappings.global.onboarding.beta.doneButton
          then:
            - click: 
                identifier: us.mappings.global.onboarding.beta.doneButton
      - verifyIdentifier:
          present:
            - identifier: us.mappings.home.searchBarSelected




  - name: us.functions.global.onboarding.popUpScreen
    platform: android
    flow:
      - sleep:
          duration: 3000
      - if:
          identifier:
            present:
              - identifier: us.mappings.global.onboarding.personalizeExperienceText
          then:
            - click:
                identifier: us.mappings.global.onboarding.dontAllowButton

  - name: us.functions.global.onboarding.smartLock.DismissNoneOfTheAbove
    platform: android
    flow:
      - if: 
          identifier: 
            present: 
              - identifier: us.mappings.home.smartlock.noneOfTheAbove
          then: 
            - click: 
                identifier: us.mappings.home.smartlock.noneOfTheAbove
          else:
            - if:
                identifier: 
                  present: 
                    - identifier: us.mappings.home.smartlock.noneOfTheAbove.new
                then: 
                  - click: 
                      identifier: us.mappings.home.smartlock.noneOfTheAbove.new

  - name: us.functions.global.assertForceUpgradeScreen
    platform: ios
    flow:   
      - sleep:
          duration: 3000 
      - verifyValue:
          identifier: us.mappings.forceupgrade.title
          equals: Itâ€™s time to update your Walmart app
      - verifyValue:
          identifier: us.mappings.forceupgrade.message
          equals: You're using a version of the Walmart app that is no longer supported. Please update to the newest app version to continue your shopping experience.
      - verifyIdentifier:
          present:
            - identifier: us.mappings.forceupgrade.updateAppButton
      - click:
          identifier: us.mappings.forceupgrade.updateAppButton
      - verifyIdentifier:
          present:
            - identifier: us.mappings.forceupgrade.updateAppButton.redirectTotestFlight

  - name: us.functions.global.getTomorrowsDate
    platform: ios
    flow:

      - executeNode:
          file: us/e2e-tests/helpers/dateGeneratorInRequestedFormat.js
          args:
            - value: 365
            - value: MM/DD/YYYY
          getResponse:
            storeIn: nextDayDate
