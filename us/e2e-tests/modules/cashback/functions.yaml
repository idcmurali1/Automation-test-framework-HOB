functions: 
  
####################################################### iOS ####################################################
  #Cashback ONLY

  - name: us.functions.cashback.bottomscreen.freetrial.signup.and.verification
    platform: android
    flow:
      - if:
          identifier:
            present:
              - identifier: us.functions.cashback.skinnyBanner.bottomSheet.container.text
          then:
            - log: Cashback bottomSheet/ splashScreen is displayed on homepage.
            - verifyIdentifier:
                present:
                  - identifier: us.functions.cashback.skinnyBanner.bottomSheet.container.text
                  - identifier: us.functions.cashback.annual.membership.option
                  - identifier: us.functions.cashback.monthly.membership.option
                  - identifier: us.mappings.skinnyBanner.bottomSheet.startTrial.cta
            - if:
                condition: ${Annual}
                then:
                  - log: Selecting Annual trail Plan.
                  - click:
                      identifier: us.functions.cashback.annual.membership.option
            - if:
                condition: ${Monthly}
                then:
                  - log: Selecting Monthly trail Plan.
                  - click:
                      identifier: us.functions.cashback.monthly.membership.option
            - click:
                identifier: us.mappings.skinnyBanner.bottomSheet.startTrial.cta
                wait: 4000
            - log: Start 30-day cashback free trial CTA is clicked.
            - if:
                identifier:
                  present:
                    - identifier: us.functions.cashback.memberShip.enrollment.confirmationSheet
                then:
                   - log: Cashback Enrollment Confirmation screen loaded
                else:
                  - failTest:
                      message: "ENV_FAILURE - ${env} - Confirmation screen not displayed as expected"
            - verifyIdentifier:
                present:
                  - identifier: us.functions.cashback.memberShip.learnMore.button
                  - identifier: us.functions.cashback.memberShip.benefits.text
            - click:
                identifier: us.functions.cashback.memberShip.learnMore.button
                wait: 1500
          else:
            - log: Cashback bottomSheet/ splashScreen is NOT displayed on homepage.

  - name: us.functions.cashback.bottomscreen.freetrial.signup.and.verification
    platform: ios
    flow:
      - if:
          identifier:
            present:
              - identifier: us.mappings.skinnyBanner.bottomSheet.container
          then:
            - log: Cashback bottomSheet/ splashScreen is displayed on homepage.
            - verifyIdentifier:
                present:
                  - identifier: us.functions.cashback.skinnyBanner.bottomSheet.container.text
                  - identifier: us.functions.cashback.annual.membership.option
                  - identifier: us.functions.cashback.monthly.membership.option
                  - identifier: us.mappings.skinnyBanner.bottomSheet.startTrial.cta
            - if:
                condition: ${Annual}
                then:
                  - log: Selecting Annual trail Plan.
                  - click:
                      identifier: us.functions.cashback.annual.membership.option
            - if:
                condition: ${Monthly}
                then:
                  - log: Selecting Monthly trail Plan.
                  - click:
                      identifier: us.functions.cashback.monthly.membership.option
            - click:
                identifier: us.mappings.skinnyBanner.bottomSheet.startTrial.cta
                wait: 4000
            - log: Start 30-day cashback free trial CTA is clicked.
            - if:
                identifier:
                  present:
                    - identifier: us.functions.cashback.memberShip.enrollment.confirmationSheet
                then:
                   - log: Cashback Enrollment Confirmation screen loaded
                else:
                  - failTest:
                      message: "ENV_FAILURE - ${env} - Confirmation screen not displayed as expected"
            - verifyIdentifier:
                present:
                  - identifier: us.functions.cashback.memberShip.learnMore.button
                  - identifier: us.functions.cashback.memberShip.benefits.text
            - click:
                identifier: us.functions.cashback.memberShip.learnMore.button
                wait: 1500
          else:
            - log: Cashback bottomSheet/ splashScreen is NOT displayed on homepage.