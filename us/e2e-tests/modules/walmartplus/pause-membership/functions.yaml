functions:

#************************************************************** iOS ************************************************************
  - name: us.functions.pause.pauseMembership
    platform: ios
    flow:
      - executeFunction:
          name: us.functions.wplus.managemembership.navigateToPauseMembershipPageFromMemberShipPage
      - executeFunction:
          name: us.functions.pause.pauseMembership.verifyIdentifiersOfPauseMembershipLandingPage
      - click:
          identifier: us.mappings.pause.pauseMembershipButton
      - verifyIdentifier:
          present:
            - identifier: us.mappings.pause.membershipPauseConfirmationSheetHeader
            - identifier: us.mappings.pause.gotItButton
      - click:
          identifier: us.mappings.pause.gotItButton
      - sleep:
          duration: 3000
      - click:
          identifier: us.mappings.global.navigateBackArrow
      - if:
          identifier:
            present:
              - identifier: us.mappings.wplus.managemembership.nbacard.pause.initiated.title
          then:
            - log: "Pause initiated successfully happened"
          else:
            - failTest:
                message: "ENV_FAILURE - ${env} - Pause initiation not happened successfully"
      - verifyIdentifier:
          present:
            - identifier: us.mappings.wplus.managemembership.nbacard.pause.initiated.title
            - identifier: us.mappings.wplus.managemembership.nbacard.pause.undopause.cta
            - identifier: us.mappings.wplus.managemembership.walmartplus.planoverview.planname.pauses.text
            - identifier: us.mappings.wplus.managemembership.walmartplus.planoverview.planname.paid.title
            - identifier: us.mappings.wplus.managemembership.walmartplus.planoverview.planname.paid.price.title

  - name: us.functions.pause.undoPauseMembership
    platform: ios
    flow:
      - scroll:
          direction: down
          untilIdentifier: us.mappings.wplus.managemembership.nbacard.pause.initiated.title
      - click:
          # Click Undo pause button on manage membership page
          identifier: us.mappings.wplus.managemembership.nbacard.pause.undopause.cta
      - verifyIdentifier:
          present:
            - identifier: us.mappings.pause.undoPauseBottomsheetHeader
            - identifier: us.mappings.pause.undoPauseMembershipConfirmationBottomSheet
            - identifier: us.mappings.pause.undoPauseMembershipSubtitle
            - identifier: us.mappings.pause.undoPauseUninterruptedBenefitsText
            - identifier: us.mappings.pause.undoPauseBillingCycleText
            - identifier: us.mappings.pause.bottomSheetUndoPauseButton
            - identifier: us.mappings.pause.continuePausingMembershipButton
      - click:
          identifier: us.mappings.pause.bottomSheetUndoPauseButton

      - verifyIdentifier: 
          timeout: 3000
          present: 
            - identifier: us.mappings.wplus.managemembership.walmartplusmodule.title
            - identifier: us.mappings.wplus.managemembership.managewalmartplus.cta
            - identifier: us.mappings.wplus.managemembership.walmartplus.planoverview.planname.paid.title
            - identifier: us.mappings.wplus.managemembership.walmartplus.planoverview.planname.paid.price.title
            - identifier: us.mappings.wplus.managemembership.walmartplus.planoverview.paid.renew.title

      # - if:
      #     identifier:
      #       present:
      #         - identifier: us.mappings.inHome.monthlyReviewchangesBtn
      #     then:
      #       # Verify the identifier on manage plus ups page
      #       - verifyIdentifier:
      #           present:
      #             - identifier: us.mappings.pause.resumedMembershipConfirmationMsg
      #     else:
      #       # Verify the identifier on manage merbership page
      #       - verifyIdentifier:
      #           present:
      #               - identifier: us.mappings.pause.continueMembershipConfirmationText

  - name: us.functions.pause.pauseMembership.verifyIdentifiersOfPauseMembershipLandingPage
    platform: ios
    flow:
      - if:
          identifier:
            present:
              - identifier: us.mappings.pause.benefitsPauseText
          then:
            - log: "Pause membership landing page displayed as expected"
            - verifyIdentifier:
                present:
                  - identifier: us.mappings.pause.infoText1
                  - identifier: us.mappings.pause.infoText2
                  - identifier: us.mappings.pause.pauseMembershipButton
                  - identifier: us.mappings.pause.dontPauseMembershipButton
          else:
            - failTest:
                message: "ENV_FAILURE - ${env} - Pause membership landing page not displayed as expected"

  - name: us.functions.pause.pauseMembership.verifyResumeMembershipBottomSheetFromBenefitsTab
    platform: ios
    flow:
      - sleep:
          duration: 5000
      - executeFunction:
          name: us.functions.utils.scrollIfNotVisible
          params:
            - name: identifier
              string:  us.mappings.benefits.wplusTravel.title #us.mappings.pause.resumeWalmartPlusTodayButton
            - name: direction
              string: down
            - name: scrollPosition
              string: center 
      - click:
          identifier: us.mappings.benefits.wPlusTravel.tile
      - verifyIdentifier:
          present:
            - identifier: us.mappings.pause.resumeWalmartPlusTodayButton
      - click:
          identifier: us.mappings.pause.resumeWalmartPlusTodayButton
      - executeFunction:
          name: us.functions.pause.resumeMembership.verifyElementsOfResumeMembershipBottomsheet
      - click:
          identifier: us.mappings.pause.continuePausingMembershipButton

  - name: us.functions.pause.resumeMembership.verifyElementsOfResumeMembershipBottomsheet
    platform: ios
    flow:
      - if:
          identifier:
            present:
              - identifier: us.mappings.pause.resumeMembershipButton
          then:
            - log: "Resume membership bottom sheet displayed as expected"
            - verifyIdentifier:
                present:
                  - identifier: us.mappings.pause.continuePausingMembershipButton
                  - identifier: us.mappings.pause.resumeMembershipBottonsheetHeader
                  - identifier: us.mappings.pause.resumeMembershipBottomsheetSubHeader
                  - identifier: us.mappings.pause.resumeMembershipBottomsheetInfoText1
                  - identifier: us.mappings.pause.resumeMembershipBottomsheetInfoText2
          else:
            - failTest:
                message: "ENV_FAILURE - ${env} - Resume membership bottom sheet not displayed correctly"

  - name: us.functions.pause.resumeMembership.resumeMembershipFromManangeMembershipPage
    platform: ios
    flow:
      - sleep:
          duration: 3000
      - verifyIdentifier:
                present:
                  - identifier: us.mappings.wplus.managemembership.nbacard.pause.active.title
                  - identifier: us.mappings.wplus.managemembership.nbacard.pause.resumemembership.cta
                  - identifier: us.mappings.wplus.managemembership.walmartplus.planoverview.planname.paused.resumes.text                  
      - click:
          identifier: us.mappings.wplus.managemembership.nbacard.pause.resumemembership.cta
      - executeFunction:
          name: us.functions.pause.resumeMembership.verifyElementsOfResumeMembershipBottomsheet
      - click:
          identifier: us.mappings.pause.resumeMembershipButton
      - verifyIdentifier:
              timeout: 3000
              present:
                - identifier: us.mappings.wplus.managemembership.resumemembership.successful.dialog

      - verifyIdentifier:
              timeout: 3000
              notPresent:
                - identifier: us.mappings.wplus.managemembership.spinner
                - identifier: us.mappings.wplus.managemembership.nbacard.pause.active.title
                - identifier: us.mappings.wplus.managemembership.nbacard.pause.resumemembership.cta
                - identifier: us.mappings.wplus.managemembership.walmartplus.planoverview.planname.paused.resumes.text
      - if:
          identifier:
            notPresent:
              - identifier: us.mappings.wplus.managemembership.nbacard.pause.resumemembership.cta
          then:
            - log: "Resume membership confirmation text displayed as expected"
          else:
            - failTest:
                message: "ENV_FAILURE - ${env} - Resume membership confirmation text should be displayed but is not"

  # Click Review changes button on Manage Plus Ups page, then direct to Undo Pause/Resume Membership page to resume membership

  - name: us.functions.pause.undoPause.managePlusUpsScreen
    platform: ios
    flow:
        - loop:
            begin: 0
            end: 3
            storeIndex: j
            flow:
            - log: Try click inhome check box at index ${j}
            - if:
                identifier:
                    present:
                    - identifier: us.mappings.inHome.unSelectCheckbox
                then:
                    # inhome checkbox is not checked
                    - click:
                        identifier: us.mappings.inHome.unSelectCheckbox
                    - executeFunction:
                        name: us.functions.utils.handleTechnicalErrorPopup
                    - if:
                        identifier:
                            present:
                            - identifier: us.mappings.inHome.managePlusUps.addAddressButton
                        then:
                            - log: add address process
                            - executeFunction:
                                name: us.functions.wplus.inHome.modifyAddressOnManagePlusUps
                                params:
                                  - name: deliveryAddress
                                    string: 3839 Yates St, Denver, CO
                                  - name: method
                                    string: add
                            - break: true
                    - if:
                        identifier:
                            present:
                            - identifier: us.mappings.inHome.managePlusUps.changeAddressButton
                        then:
                            - log: add address is not needed
                            - break: true
                else:
                    - if:
                        # inhome checkbox is checked
                        identifier:
                            present:
                            - identifier: us.mappings.inHome.selectedCheckbox
                        then:
                            - break: true
            - if:
                condition: ${j} == 2
                then:
                    - failTest:
                        message: "TEST_FAILURE - ${env} - has technical issue, can't add address in Manage Plus Ups Screen"
        - sleep:
            duration: 5000
        - if:
            identifier:
                present:
                - identifier: us.mappings.pause.addAddressConfirmationTextPlusUps
            then:
                - log: inhome address has been added
                - if:
                    identifier:
                        present:
                        - identifier: us.mappings.inHome.unSelectCheckbox
                    then:
                        - click:
                            identifier: us.mappings.inHome.unSelectCheckbox
        - sleep:
            duration: 5000
        - executeFunction:
            name: us.functions.pause.undoPauseMembership

#******************************************************** Android ****************************************************************

  - name: us.functions.pause.pauseMembership
    platform: android
    flow:
      - executeFunction:
          name: us.functions.wplus.managemembership.navigateToPauseMembershipPageFromMemberShipPage
      - executeFunction:
          name: us.functions.pause.pauseMembership.verifyIdentifiersOfPauseMembershipLandingPage
      - click:
          identifier: us.mappings.pause.pauseMembershipButton
      - verifyIdentifier:
          present:
            - identifier: us.mappings.pause.membershipPauseConfirmationSheetHeader
            - identifier: us.mappings.pause.gotItButton
      - click:
          identifier: us.mappings.pause.gotItButton
      - sleep:
          duration: 3000
      - click:
          identifier: us.mappings.global.navigateBackArrow
      - executeFunction:
          name: us.functions.wplus.account.navigateToWalmartPlus
      - executeFunction:
          name: us.functions.wplus.navigateToManageMembershipFromBenefitsPage
      - if:
          identifier:
            present:
              - identifier: us.mappings.wplus.managemembership.nbacard.pause.initiated.title
          then:
            - log: "Pause membership alert displayed correctly"
          else:
            - failTest:
                message: "ENV_FAILURE - ${env} - Pause initiation not happened successfully"
      - verifyIdentifier:
          present:
            - identifier: us.mappings.wplus.managemembership.nbacard.pause.initiated.title
            - identifier: us.mappings.wplus.managemembership.nbacard.pause.undopause.cta
            - identifier: us.mappings.wplus.managemembership.walmartplus.planoverview.planname.pauses.text
            - identifier: us.mappings.wplus.managemembership.walmartplus.planoverview.planname.paid.title
            - identifier: us.mappings.wplus.managemembership.walmartplus.planoverview.planname.paid.price.title
      # - verifyIdentifier:
      #     present:
      #       - identifier: us.mappings.pause.pausedMembershipAlert

  - name: us.functions.pause.undoPauseMembership
    platform: android
    flow:
      - scroll:
          direction: down
          untilIdentifier: us.mappings.wplus.managemembership.nbacard.pause.initiated.title
      - click:
          # Click Undo pause button on manage membership page
          identifier: us.mappings.wplus.managemembership.nbacard.pause.undopause.cta
      - verifyIdentifier:
          present:
            - identifier: us.mappings.pause.undoPauseBottomsheetHeader
            - identifier: us.mappings.pause.undoPauseMembershipConfirmationBottomSheet
            - identifier: us.mappings.pause.undoPauseMembershipSubtitle
            - identifier: us.mappings.pause.undoPauseUninterruptedBenefitsText
            - identifier: us.mappings.pause.undoPauseBillingCycleText
            - identifier: us.mappings.pause.undoPauseButton
            - identifier: us.mappings.pause.continuePausingMembershipButton
      - click:
          wait: 2000
          identifier: us.mappings.pause.undoPauseButton
      - verifyIdentifier: 
          timeout: 3000
          present: 
            - identifier: us.mappings.wplus.managemembership.walmartplusmodule.title
            - identifier: us.mappings.wplus.managemembership.managewalmartplus.cta
            - identifier: us.mappings.wplus.managemembership.walmartplus.planoverview.planname.paid.title
            - identifier: us.mappings.wplus.managemembership.walmartplus.planoverview.planname.paid.price.title
            - identifier: us.mappings.wplus.managemembership.walmartplus.planoverview.paid.renew.title  
      # - if:
      #     identifier:
      #       present:
      #         - identifier: us.mappings.inHome.managePlusUps.screenHeader
      #     then:
      #       # verify the identifier on manage plus ups page
      #       - verifyIdentifier:
      #           present:
      #             - identifier: us.mappings.pause.resumedMembershipConfirmationTextPlusUps
      #     else:
      #       - scroll:
      #           direction: up
      #           untilIdentifier: us.mappings.pause.manageMembershipPageHeader
      #       # verify the identifier on manage merbership page
      #       - verifyIdentifier:
      #           present:
      #               - identifier: us.mappings.pause.continueMembershipConfirmationText

  - name: us.functions.pause.pauseMembership.verifyIdentifiersOfPauseMembershipLandingPage
    platform: android
    flow:
      - if:
          identifier:
            present:
              - identifier: us.mappings.pause.benefitsPauseText
          then:
            - log: "Pause membership landing page displayed as expected"
            - verifyIdentifier:
                present:
                  - identifier: us.mappings.pause.infoText1
                  - identifier: us.mappings.pause.pauseMembershipButton
                  - identifier: us.mappings.pause.dontPauseMembershipButton
          else:
            - failTest:
                message: "ENV_FAILURE - ${env} - Pause membership landing page not displayed as expected"
      # - verifyIdentifier:
      #     present:
      #       - identifier: us.mappings.pause.pauseMembershipLandingPageHeader
      #       - identifier: us.mappings.pause.benefitsPauseText
      #       - identifier: us.mappings.pause.infoText1
      #       - identifier: us.mappings.pause.pauseMembershipButton
      #       - identifier: us.mappings.pause.dontPauseMembershipButton

  - name: us.functions.pause.pauseMembership.verifyResumeMembershipBottomSheetFromBenefitsTab
    platform: android
    flow:
      - sleep:
          duration: 5000
      # - executeFunction:
      #     name: us.functions.utils.scrollIfNotVisible
      #     params:
      #     - name: identifier
      #       string: us.mappings.benefits.wPlusTravel.tile #us.mappings.pause.resumeWalmartPlusToday
      #     - name: direction
      #       string: down
      # - scroll: 
      #      direction: down
      #      untilIdentifier: us.mappings.benefits.wplusTravel.tile
      #      position: center
      - click: 
          identifier: us.mappings.benefits.earlyAccess.tile
      - if:
          identifier:
            present:
              - identifier: us.mappings.pause.resumeWalmartPlusToday
          then:
            - log: "Resume W+ button present as expected"
            - click:
                identifier: us.mappings.pause.resumeWalmartPlusToday
            - executeFunction:
                name: us.functions.pause.resumeMembership.verifyElementsOfResumeMembershipBottomsheet
            - click:
                identifier: us.mappings.pause.continuePausingMembershipButton
          else:
            - failTest:
                message: "ENV_FAILURE - ${env} - Resume membership option should be present but is not"

      # - verifyIdentifier:
      #     present:
      #       - identifier: us.mappings.pause.resumeWalmartPlusToday
      # - click:
      #     identifier: us.mappings.pause.resumeWalmartPlusToday
      # - executeFunction:
      #     name: us.functions.pause.resumeMembership.verifyElementsOfResumeMembershipBottomsheet
      # - click:
      #     identifier: us.mappings.pause.continuePausingMembershipButton

  - name: us.functions.pause.resumeMembership.resumeMembershipFromManangeMembershipPage
    platform: android
    flow:
      - sleep:
          duration: 3000
      - verifyIdentifier:
          present:
            - identifier: us.mappings.wplus.managemembership.nbacard.pause.active.title
            - identifier: us.mappings.wplus.managemembership.nbacard.pause.resumemembership.cta
            - identifier: us.mappings.wplus.managemembership.walmartplus.planoverview.planname.paused.resumes.text 
      - click:
          identifier: us.mappings.wplus.managemembership.nbacard.pause.resumemembership.cta
      - executeFunction:
          name: us.functions.pause.resumeMembership.verifyElementsOfResumeMembershipBottomsheet
      - click:
          identifier: us.mappings.pause.resumeMembershipButton
      - if:
          identifier:
            present:
              - identifier: us.mappings.pause.resumedMembershipConfirmationText
          then:
            - log: "Resume membership confirmation text displayed as expected"
          else:
            - failTest:
                message: "ENV_FAILURE - ${env} - Resume membership confirmation text should be displayed but is not"

      - verifyIdentifier:
              timeout: 3000
              notPresent:
                - identifier: us.mappings.wplus.managemembership.spinner
                - identifier: us.mappings.wplus.managemembership.nbacard.pause.active.title
                - identifier: us.mappings.wplus.managemembership.nbacard.pause.resumemembership.cta
                - identifier: us.mappings.wplus.managemembership.walmartplus.planoverview.planname.paused.resumes.text
      # - verifyIdentifier:
      #     present:
      #       - identifier: us.mappings.pause.resumedMembershipConfirmationText

  - name: us.functions.pause.resumeMembership.verifyElementsOfResumeMembershipBottomsheet
    platform: android
    flow:
      - if:
          identifier:
            present:
              - identifier: us.mappings.pause.resumeMembershipButton
          then:
            - log: "Resume membership bottom sheet displayed as expected"
            - verifyIdentifier:
                present:
                  - identifier: us.mappings.pause.continuePausingMembershipButton
                  - identifier: us.mappings.pause.resumeMembershipBottonsheetHeader
                  - identifier: us.mappings.pause.resumeMembershipBottomsheetSubHeader
                  - identifier: us.mappings.pause.resumeMembershipBottomsheetInfoText1
                  - identifier: us.mappings.pause.resumeMembershipBottomsheetInfoText2
          else:
            - failTest:
                message: "ENV_FAILURE - ${env} - Resume membership bottom sheet not displayed correctly"
      # - verifyIdentifier:
      #     present:
      #       - identifier: us.mappings.pause.resumeMembershipButton
      #       - identifier: us.mappings.pause.continuePausingMembershipButton
      #       - identifier: us.mappings.pause.resumeMembershipBottonsheetHeader
      #       - identifier: us.mappings.pause.resumeMembershipBottomsheetSubHeader
      #       - identifier: us.mappings.pause.resumeMembershipBottomsheetInfoText1
      #       - identifier: us.mappings.pause.resumeMembershipBottomsheetInfoText2


 # Verify paused membership details
  - name: us.functions.wplus.verifyPauseMembershipDetails
    platform: ios
    flow:
      - sleep:
          duration: 3000
      - verifyIdentifier:
          present:
            - identifier: us.mappings.wplus.managemembership.nbacard.pause.resumemembership.cta
      - verifyIdentifier:
          label:
            - identifier: us.mappings.pause.verifyPausedmembershipLabel
              contains: "Paused"
            
  - name: us.functions.pause.verifyShippingFeeOnCart
    platform: ios
    flow:
        - executeFunction:
            name: us.functions.utils.scrollIfNotVisible
            params:
                - name: identifier
                  string: us.mappings.pause.pausedMemberShippingFee
                - name: direction
                  string: down
        - log: Validating Free pickup 
        - if: 
            identifier:
                present: 
                    - identifier: us.mappings.pause.pausedMemberShippingFee
            then:
                - verifyIdentifier:
                    label:
                        - identifier: us.mappings.pause.pausedMemberShippingFee
                          contains: Pickup, Free
            else:

                - log: Free Pick up is not shown for Pickup order

  - name: us.functions.pause.selectPickupOption
    platform: ios
    flow:
        - executeFunction:
            name: us.functions.utils.scrollIfNotVisible
            params:
                - name: identifier
                  string: us.mapings.pause.clickSelectPickUp
                - name: direction
                  string: down
        - click: 
            identifier: us.mapings.pause.clickSelectPickUp
        - click:
            identifier: us.mappings.pause.switchToPickUpOption
            wait: 1000
        - click: 
            identifier: us.mappings.pause.clickOnPickupSlot
        - click:
            identifier: us.mappings.pause.clickReserveButton

  # Click Review changes button on Manage Plus Ups page, then direct to Undo Pause/Resume Membership page to resume membership
  - name: us.functions.pause.undoPause.managePlusUpsScreen
    platform: android
    flow:
        - loop:
            begin: 0
            end: 3
            storeIndex: j
            flow:
            - log: Try click inhome check box at index ${j}
            - if:
                identifier:
                    present:
                    - identifier: us.mappings.inHome.unSelectCheckbox
                then:
                    # inhome checkbox is not checked
                    - click:
                        identifier: us.mappings.inHome.managePlusUps.selectInhomeCheckbox
                    - executeFunction:
                        name: us.functions.utils.handleTechnicalErrorPopup
                    - if:
                        identifier:
                            present:
                            - identifier: us.mappings.inHome.managePlusUps.addAddressButton
                        then:
                            - log: add address process
                            - executeFunction:
                                name: us.functions.wplus.inHome.modifyAddressOnManagePlusUps
                                params:
                                  - name: address
                                    string: 3839 Yates St
                                  - name: cityState
                                    string: Denver, CO
                                  - name: method
                                    string: add
                            - break: true
                    - if:
                        identifier:
                            present:
                            - identifier: us.mappings.inHome.managePlusUps.changeAddressButton
                        then:
                            - log: add address is not needed
                            - break: true
                else:
                    - if:
                        # inhome checkbox is checked
                        identifier:
                            present:
                            - identifier: us.mappings.inHome.managePlusUpschecked
                        then:
                            - break: true
            - if:
                condition: ${j} == 2
                then:
                    - failTest:
                        message: "TEST_FAILURE - ${env} - has technical issue, can't add address in Manage Plus Ups Screen"
        - sleep:
            duration: 5000
        - if:
            identifier:
                present:
                - identifier: us.mappings.pause.addAddressConfirmationTextPlusUps
            then:
                - log: inhome address has been added
                - click:
                    identifier: us.mappings.inHome.managePlusUps.selectInhomeCheckbox
        # Undo Pause/Resume Membership
        - executeFunction:
            name: us.functions.pause.undoPauseMembership


  # Validate delivery from store charges for a paused member in cart
  - name: us.functions.pause.cart.verifyDeliveryFromStoreCharge
    platform: android
    flow :
        - if:
            identifier:
                present:
                - identifier: us.mappings.cart.navBarTitle
            then:
            - log: Cart is displayed. Verify delivery from store fulfillment fee.
            - verifyIdentifier:
                present:
                - identifier: us.mappings.cart.fulfillmentFee
            - scroll:
                direction: down
                position: center
                untilIdentifier: us.mappings.cart.subTotalItemCount
            - verifyIdentifier:
                present:
                  - identifier: us.mappings.cart.fulfillmentFee.desc

  # Validate delivery from store charges for a paused member in cart
  - name: us.functions.pause.cart.verifyDeliveryFromStoreCharge
    platform: ios
    flow :
        - if:
            identifier:
                present:
                - identifier: us.mappings.cart.navBarTitle
            then:
            - log: Cart is displayed. Verify delivery from store fulfillment fee.
            - try:
                  flow:
                    - verifyIdentifier:
                        label:
                          - identifier: us.mappings.cart.fulfillmentFee
                            contains: $5
                    - log: $5 delivery fee is displayed
                  catch:
                    flow:
                      - verifyIdentifier:
                          label:
                            - identifier: us.mappings.cart.fulfillmentFee
                              contains: $9.95
                      - log: $9.95 delivery fee is displayed
        - if:
            identifier:
              notPresent:
                - identifier: us.mappings.reviewOrder.scheduledDeliveryfee
            then:
              - scroll:
                  direction: down
                  untilIdentifier: us.mappings.reviewOrder.scheduledDeliveryfee
                  scrollLimit: 5
        - verifyIdentifier:
                  present:
                    - identifier: us.mappings.reviewOrder.scheduledDeliveryfee
           

            
  # Validate delivery from store charges for a paused member in review order page
  - name: us.functions.pause.reviewOrder.verifyDeliveryFromStoreCharge
    platform: android
    flow :
        - if:
            identifier:
                present:
                - identifier: us.mappings.reviewOrder.navBarTitle
            then:
            - log: Review Order is displayed. Verify delivery from store fulfillment fee POS
            - scroll:
                      direction: down
                      position: center
                      untilIdentifier: us.mappings.reviewOrder.deliveryFromStore.pos.fee
            - verifyIdentifier:
                    present:
                     - identifier: us.mappings.reviewOrder.deliveryFromStore.pos.feeValue

  # Validate delivery from store charges for a paused member in review order page
  - name: us.functions.pause.reviewOrder.verifyDeliveryFromStoreCharge
    platform: ios
    flow :
        - if:
            identifier:
                present:
                - identifier: us.mappings.reviewOrder.navBarTitle
            then:
            - log: Review Order is displayed. Verify delivery from store fulfillment fee POS
            
            - verifyIdentifier:
                    present:
                        - identifier: us.mappings.reviewOrder.scheduledDeliveryfee
                
            
     
# Verify paused membership details
  - name: us.functions.pause.verifyPauseMembershipDetails
    platform: android
    flow:
      - sleep:
          duration: 3000
      - verifyIdentifier:
          present:
            - identifier: us.mappings.pause.resumeMembershipButton
      
  
  - name: us.functions.wplus.navigateBackfromWplusHub
    platform: android
    flow:
      - click: 
          identifier: us.mappings.pause.navigateBackfromWplusHub
      - click:
          identifier: us.mappings.global.navigateBackArrow
            
  - name: us.functions.pause.verifyShippingFeeOnCart
    platform: android
    flow:
        - executeFunction:
            name: us.functions.utils.scrollIfNotVisible
            params:
                - name: identifier
                  string: us.mappings.pause.pausedMemberShippingFeeLabel
                - name: direction
                  string: down
        - log: Validating Free pickup 
        - if: 
            identifier:
                present: 
                    - identifier: us.mappings.pause.pausedMemberShippingFeeLabel
            then:
                - verifyIdentifier:
                    text:
                        - identifier: us.mappings.pause.pausedMemberShippingFeeLabel
                          contains: Pickup
                - verifyIdentifier:
                    text:
                        - identifier: us.mappings.pause.pausedMemberShippingFeeLabelValue
                          contains : Free
            else:
                - log: Free Pick up is not shown for Pickup order