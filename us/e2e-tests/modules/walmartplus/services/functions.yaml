functions:

  - name: us.functions.wplus.services.pharmacy.placeRefillRequestAndVerifyWplusBanners
    platform: android
    flow:
  
     # navigates to mu prescriptions
      - executeFunction:
         name: us.functions.utils.scrollIfNotVisible
         params:
          - name: identifier
            string: us.mappings.popularServices.pharmacy.myPrescriptions
          - name: direction
            string: down

      - verifyIdentifier:
         present:
          - identifier: us.mappings.popularServices.pharmacy.myPrescriptions
      - click:
          identifier: us.mappings.popularServices.pharmacy.myPrescriptions

     # selects a precription to refill and verfies W+ banner
      - executeFunction:
         name: us.functions.utils.scrollIfNotVisible
         params:
          - name: identifier
            string: us.mappings.wplus.services.pharmacy.refillAvailItem
          - name: direction
            string: down

      - verifyIdentifier:
         present:
          - identifier: us.mappings.wplus.services.pharmacy.refillAvailItem
      - click:
          identifier: us.mappings.wplus.services.pharmacy.refillAvailItem

      - click:
          identifier: us.mappings.popularServices.pharmacy.prescriptions.refill.continue
      - verifyIdentifier:
         present:
          - identifier: us.mappings.wplus.services.pharmacy.wplusBannerOnReviewRefillsPage
          - identifier: us.mappings.wplus.services.pharmacy.wPlusLogo

      #clicks on Request Refill
      - click:
          identifier: us.mappings.wplus.services.pharmacy.placeRefillRequest

      - verifyIdentifier:
         present:
          - identifier: us.mappings.wplus.services.pharmacy.wplusBannerOnRefillRequestPlacedPage
          - identifier: us.mappings.wplus.services.pharmacy.wPlusLogoRequestPlacedPage
      
  - name: us.functions.wplus.services.pharmacy.placeRefillRequestAndVerifyWplusBanners
    platform: ios
    flow:
      # navigates to mu prescriptions
      - executeFunction:
         name: us.functions.utils.scrollIfNotVisible
         params:
          - name: identifier
            string: us.mappings.popularServices.pharmacy.myPrescriptions
          - name: direction
            string: down

      - verifyIdentifier:
         present:
          - identifier: us.mappings.popularServices.pharmacy.myPrescriptions
      - click:
          identifier: us.mappings.popularServices.pharmacy.myPrescriptions

      # selects a precription to refill and verfies W+ banner
      - executeFunction:
         name: us.functions.utils.scrollIfNotVisible
         params:
          - name: identifier
            string: us.mappings.wplus.services.pharmacy.refillAvailItem
          - name: direction
            string: down

      - verifyIdentifier:
         present:
          - identifier: us.mappings.wplus.services.pharmacy.refillAvailItem
      - click:
          identifier: us.mappings.wplus.services.pharmacy.refillAvailItem
      - click:
          identifier: us.mappings.popularServices.pharmacy.prescriptions.refill.continue
      - verifyIdentifier:
         present:
          - identifier: us.mappings.wplus.services.pharmacy.wplusBannerOnReviewRefillsPage
          - identifier: us.mappings.wplus.services.pharmacy.wPlusLogo

      #clicks on Request Refill
      - executeFunction:
            name: us.functions.utils.scrollIfNotVisible
            params:
            - name: identifier
              string: us.mappings.wplus.services.pharmacy.placeRefillRequest
            - name: direction
              string: down

      - verifyIdentifier:
         present:
          - identifier: us.mappings.wplus.services.pharmacy.placeRefillRequest
      - click:
          identifier: us.mappings.wplus.services.pharmacy.placeRefillRequest
      - verifyIdentifier:
         present:
          - identifier: us.mappings.wplus.services.pharmacy.wplusBannerOnRefillRequestPlacedPage
          - identifier: us.mappings.wplus.services.pharmacy.wPlusLogoRequestPlacedPage

  # This function clicks on "How it works" link on Rx refill page and verfies W+ text and CTA.
  - name: us.functions.wplus.services.pharmacy.verifyWplusTextOnLearnMoreSplash
    platform: android
    flow:
      - click:
          identifier: us.mappings.wplus.services.pharmacy.infoButton
      - verifyIdentifier:
            present: 
              - identifier: us.mappings.wplus.services.pharmacy.learnMoreSplashDeliveryHeader
              - identifier: us.mappings.wplus.services.pharmacy.learnMoreSplashWPlusText
              - identifier: us.mappings.wplus.services.pharmacy.learnMoreSplashWPlusTextSubline
              - identifier: us.mappings.wplus.services.pharmacy.learnMoreSplashSignupForWplusLink
   
  # This function clicks on "How it works" link on Rx refill page and verfies W+ text and CTA.
  - name: us.functions.wplus.services.pharmacy.verifyWplusTextOnLearnMoreSplash
    platform: ios
    flow:
    - click:
          identifier: us.mappings.wplus.services.pharmacy.infoButton
    - verifyIdentifier:
            present: 
              - identifier: us.mappings.wplus.services.pharmacy.learnMoreSplashDeliveryHeader
              - identifier: us.mappings.wplus.services.pharmacy.learnMoreSplashWPlusText
              - identifier: us.mappings.wplus.services.pharmacy.learnMoreSplashWPlusTextSubline
              - identifier: us.mappings.wplus.services.pharmacy.learnMoreSplashSignupForWplusLink

  - name: us.functions.wplus.services.pharmacy.navigateToPharmacyFromPrescriptionRefillPage
    platform: android
    flow:
      - terminateApp: true
      - executeFunction:
          name: us.functions.global.navigation.goToDeepLink
          params:
            - name: deepLinkUrl
              string: us.data.teflon.home.deeplinkurl
      - executeFunction:
                name: us.functions.home.closeWPlusPromotionPopUpIfDisplayed

      # Navigate to Services
      - executeFunction:
          name: us.functions.global.navigation.goToServicesFromTabBar

      # Navigate to Pharmacy
      - executeFunction:
          name: us.functions.services.naviagteToServices
          params:
            - name: servicesName
              string: Pharmacy

      # Enter Pharmacy Pin
      - executeFunction:
          name: us.functions.services.pharmacy.enterPin

  - name: us.functions.wplus.services.pharmacy.navigateToPharmacyFromPrescriptionRefillPage
    platform: ios
    flow:
      - terminateApp: true
      - executeFunction:
          name: us.functions.global.navigation.goToDeepLink
          params:
            - name: deepLinkUrl
              string: us.data.teflon.home.deeplinkurl
      - executeFunction:
          name: us.functions.home.closeWPlusPromotionPopUpIfDisplayed

      # Navigate to Services
      - executeFunction:
          name: us.functions.global.navigation.goToServicesFromTabBar

      # Navigate to Pharmacy
      - executeFunction:
          name: us.functions.services.naviagteToServices
          params:
            - name: servicesName
              string: Pharmacy

      # Enter Pharmacy Pin
      - executeFunction:
          name: us.functions.services.pharmacy.enterPin