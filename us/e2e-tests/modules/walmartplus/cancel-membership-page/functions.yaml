functions:
 # * * * * * * * * * * * * * * * * * * * * * * *  IOS  * * * * * * * * * * * * * * * * * * * * * * * * * * * *

  # Navigate to manage Membership screen from click on the Continue free trial link

  - name: us.functions.wplus.cancelMembershipFeedback.selectContinueFreeTrialLinkToNavigateToManageMembershipScreen
    platform: ios
    flow:
      - click:
          identifier: us.mappings.global.navigateBackArrow    
      - try:
          flow:
            - verifyIdentifier:
                timeout: 8000
                present:
                  - identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.ContinuefreetriaLink      
          catch:
            flow:
              - failTest:
                  message: "ENV_FAILURE - ${env} - identifier is missing on cancel Membership confirmation screen"
      - click:
          identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.ContinuefreetriaLink 
      # - log: Click on the Continue free trail link    

  - name: us.functions.wplus.cancelMembershipFeedback.verifytheRemindmelaterflow
    platform: ios
    flow:
      - try:
          flow:
            - verifyIdentifier:
                timeout: 8000
                present:
                  - identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.RemindmeLaterbtn     
          catch:
            flow:
              - failTest:
                  message: "ENV_FAILURE - ${env} - identifier is missing on Remind me later button on cancel confirmation screen" 
      - click:
          identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.RemindmeLaterbtn       
          wait: 5000 
      # Bottom sheet not shown in latest UI
      # - log: Navigating to Remind me later bottomsheet 
      # - if:
      #     identifier:
      #       notPresent:
      #         - identifier: us.mappings.wplus.RML.reminder.titleLabel
      #     then:
      #       - verifyIdentifier:
      #           timeout: 8000
      #           present:
      #             - identifier: us.mappings.wplus.RML.reminder.titleLabel  
      #             - identifier: us.mappings.wplus.RML.reminder.subtitleLabel
      #             - identifier: us.mappings.wplus.RML.reminder.exploreyourbenefitslink  
      #     else:
      #       - failTest:
      #           message: "ENV_FAILURE - ${env} - identifier is missing on Remind me later bottomsheet"            
      # - click:
      #     identifier: us.mappings.wplus.RML.reminder.exploreyourbenefitslink
      #     wait: 1000

  # Click Cancel membership and verify Survey page
  - name : us.functions.wplus.cancelConfirmation.verifyConfirmationSurveyPage
    platform: ios
    flow:
      - verifyIdentifier:
          present:
            - identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.cancelFreeTrialOrCancelWalmartPlusLink
      - click:
          identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.cancelFreeTrialOrCancelWalmartPlusLink      
      - log: Navigating to Survey Page
      - verifyIdentifier:
          timeout: 8000
          present:
            - identifier: us.mapppings.wplus.cancelConfirmation.surveyPageTitle   
            - identifier: us.mapppings.wplus.cancelConfirmation.surveyPageHeader
      - sleep:
          duration: 8000
      - log: Validated Survey Page 

  - name : us.functions.wplus.cancelMembershipFeedback.verifythenotpresentRemindmelaterbtn
    platform: ios
    flow:
      - verifyIdentifier:
          notPresent:
            - identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.RemindmeLaterbtn            



# * * * * * * * * * * * * * * * * * * * * * * *  android  * * * * * * * * * * * * * * * * * * * * * * * * * * * *   

  # Navigate to manage Membership screen from click on the Continue free trial link

  - name: us.functions.wplus.cancelMembershipFeedback.selectContinueFreeTrialLinkToNavigateToManageMembershipScreen
    platform: android
    flow:
      - try:
          flow:
            - verifyIdentifier:
                timeout: 8000
                present:
                  - identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.ContinuefreetrialLink
          catch:
            flow:
              - failTest:
                  message: "ENV_FAILURE - ${env} - identifier is missing on cancel Membership confirmation screen"
      - click:
          identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.ContinuefreetrialLink 

  - name: us.functions.wplus.cancelMembershipFeedback.verifytheRemindmelaterflow
    platform: android
    flow:
      - try:
          flow:
            - verifyIdentifier:
                timeout: 8000
                present:
                  - identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.RemindmeLaterbtn
                  - identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.remindmelatersubtext
          catch:
            flow:
              - failTest:
                  message: "ENV_FAILURE - ${env} - identifier is missing on Remind me later button on cancel confirmation screen"
      - click:
          identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.RemindmeLaterbtn
          wait: 5000 
      - log: Navigating to Remind me later bottomsheet
      - try:
          flow:
            - verifyIdentifier:
                timeout: 8000
                present:
                  - identifier: us.mappings.wplus.RML.reminder.titleLabel 
                  - identifier: us.mappings.wplus.RML.reminder.subtitleLabel 
                  - identifier: us.mappings.wplus.RML.reminder.exploreyourbenefitslink                                         
          catch:
            flow:
              - failTest:
                  message: "ENV_FAILURE - ${env} - identifier is missing on Remind me later bottomsheet"              
      - click:
          identifier: us.mappings.wplus.RML.reminder.exploreyourbenefitslink
      - sleep:
          duration: 3000
      - scroll:
          direction: up
          untilIdentifier: us.mappings.benefits.title
          scrollLimit: 3
      - verifyIdentifier:
          present:
            - identifier: us.mappings.benefits.title

  - name: us.functions.wplus.cancelConfirmation.cancelmembershipbtn
    platform: android
    flow:   
      - verifyIdentifier:
          timeout: 5000
          present:
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelmembershipbutton
      - click:
          identifier: us.mapppings.wplus.cancelConfirmation.cancelmembershipbutton 
      - verifyIdentifier:
          timeout: 5000
          present:
            - identifier: us.mapppings.wplus.cancelConfirmation.surveydetailsText

  - name: us.functions.wplus.cancelConfirmation.cancelmembershipbtn
    platform: ios
    flow:   
      - verifyIdentifier:
          timeout: 10000
          present:
            - identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.cancelFreeTrialOrCancelWalmartPlusLink
      - click:
          identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.cancelFreeTrialOrCancelWalmartPlusLink
      # - verifyIdentifier:
      #     timeout: 5000
      #     present:
      #       - identifier: us.mappings.reserveSlot.messageLabel

  - name : us.functions.wplus.cancelMembershipFeedback.verifythenotpresentRemindmelaterbtn
    platform: android
    flow:
      - verifyIdentifier:
          notPresent:
            - identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.RemindmeLaterbtn
            - identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.remindmelatersubtext

  # Close W+Plus benefits on cancel membership confirmation page on IOS
  - name: us.functions.wplus.cancelConfirmation.goBackFromCancelMembershipOrCancelFreeTrialPage
    platform: ios
    flow:
      - verifyIdentifier:
          timeout: 5000
          present:
            - identifier: us.mapppings.wplus.cancelConfirmationOrCancelMembershipFeedback.continueMembership
      - click:
          identifier: us.mapppings.wplus.cancelConfirmationOrCancelMembershipFeedback.continueMembership
  
  # Cancel Free trial Member on IOS
  - name: us.functions.wplus.managemembership.cancelFreeTrialMember
    platform: ios
    flow:
      - sleep:
          duration: 5000
      - executeFunction: 
          name: us.functions.wplus.managemembership.navigateToCancelFreeTrialMemberFromMemberShipPage
      - executeFunction: 
          name: us.functions.wplus.navigateToCancelFeedbackFreeTrialOrCancelFeedbackWalmartPlusPageFromCancelConfirmationPage
      - executeFunction:
          name: us.functions.wplus.completeCancelFreeTrialOrCancelWplus
  
  # Cancel Paid Membership on IOS
  - name: us.functions.wplus.managemembership.cancelPaidMembership
    platform: ios
    flow:
      - sleep:
          duration: 5000
      - executeFunction: 
          name: us.functions.wplus.managemembership.navigateToCancelPaidMemberFromMemberShipPage
      - executeFunction: 
          name: us.functions.wplus.navigateToCancelFeedbackFreeTrialOrCancelFeedbackWalmartPlusPageFromCancelConfirmationPage
      - executeFunction:
          name: us.functions.wplus.completeCancelFreeTrialOrCancelWplus

  # Navigate to Cancel Membership or Free trial Feedback page from Cancel Confirmation page on IOS
  - name: us.functions.wplus.navigateToCancelFeedbackFreeTrialOrCancelFeedbackWalmartPlusPageFromCancelConfirmationPage
    platform: ios
    flow:
      - verifyIdentifier:
          timeout: 5000
          present:
            - identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.cancelFreeTrialOrCancelWalmartPlusLink
      - click:
          identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.cancelFreeTrialOrCancelWalmartPlusLink
  
  #Choose feedback option and click cancel membership
  - name: us.functions.wplus.completeCancelFreeTrialOrCancelWplus
    platform: ios
    flow:
      # Functionality has changed keeping this as backup for few days
      # - verifyIdentifier:
      #     present:
      #       - identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.cancelFreeTrialOrCancelWalmartPlusLink
      # - click:
      #     identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.cancelFreeTrialOrCancelWalmartPlusLink
      # - verifyIdentifier:
      #     timeout: 5000
      #     present:
      #       - identifier: us.mappings.wplus.cancelMembershipFeedback.chooseOptionToCancel
      # - click:
      #     identifier: us.mappings.wplus.cancelMembershipFeedback.chooseOptionToCancel
      # - verifyIdentifier:
      #     timeout: 5000
      #     present:
      #       - identifier: us.mappings.wplus.clickCancelMembershipButton
      # - click: 
      #     identifier: us.mappings.wplus.clickCancelMembershipButton

      - verifyIdentifier:
          timeout: 5000
          value:
            - identifier: us.mapppings.wplus.cancelMembershipFeedback.cancelFreeTrialOrCancelWalmartPlusHeader
              contains: Your feedback matters
      - click:
          identifier: us.mappings.wplus.cancelMembershipFeedback.chooseOptionToCancel
      - verifyIdentifier:
          present:
            - identifier: us.mappings.wplus.clickCancelMembershipButton
      - click:
          identifier: us.mappings.wplus.clickCancelMembershipButton

  # Navigate to W+Plus benefits on cancel membership confirmation page on IOS
  - name: us.functions.wplus.cancelConfirmation.verifyCancelFreeTrialOrCancelWalmartPlusDetails
    platform: ios
    flow:
      - if:
          condition: ${membershipType} == 'extendedTrial'
          then:
            - verifyIdentifier:
                label:
                  - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusHeader
                    contains: Need more time to explore what W+ has to offer?
          else:
            - verifyIdentifier:
                label:
                  - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusHeader
                    contains: Sure you want to cancel?
      -  scroll:
           direction: down
      - verifyIdentifier:
          label:
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusBenefitsViewParamountPlusImage
              contains: Video streaming with Paramount+
      - verifyIdentifier:
          label:
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusBenefitsViewRewardsImage
              contains: Walmart Rewards for members
      - verifyIdentifier:
          label:
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusBenefitsViewFreeDeliveryImage
              contains: Free delivery from store*
      - verifyIdentifier:
          label:
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusBenefitsViewFreeShippingImage
              contains: Free shipping,** no order minimum
      - verifyIdentifier:
          label:
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusBenefitsViewMemberPricesOnFuelImage
              contains: Member prices on fuel
      - verifyIdentifier:
          label:
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusBenefitsViewEarlyAccessImage
              contains: Early access
      - verifyIdentifier:
          label:
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusBenefitsViewMobileScanAndGoImage
              contains: Scan & go
      - verifyIdentifier:
          label:
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusBenefitsViewFreeReturnsImage
              contains: LMD_FREE_RETURNS
      # - verifyIdentifier:
      #     label:
      #       - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusBenefitsViewRXForLessImage
      #         contains: Rx for less***

  # Navigate to W+Plus benefits on cancel membership confirmation page on Android
  - name: us.functions.wplus.cancelConfirmation.verifyCancelFreeTrialOrCancelWalmartPlusDetails
    platform: android
    flow:
      - if:
          condition: ${membershipType} == 'extendedTrial'
          then:
            - verifyIdentifier:
                text:
                  - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusHeader
                    contains: Need more time to explore what W+ has to offer?
      - if:
          condition: ${canVerifyBenefits} == 'cancel'
          then:
            - verifyIdentifier:
                text:
                  - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusHeader
                    contains : Need more time to explore what W+ has to offer?
          else:
            - verifyIdentifier:
                text:
                  - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusHeader
                    contains: Sure you want to cancel?
      - verifyIdentifier:
          present:
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusBenefitsViewParamountImage
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusBenefitsViewWalmartRewardsImage
           # - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusBenefitsViewFreeDeliveryImage
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusBenefitsViewFreeShippingImage
      - if:
          identifier:
            present:
              - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusBenefitsViewFreeDeliveryImage
          then:
            - verifyIdentifier:
                present:
                  - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusBenefitsViewFreeDeliveryImage
          else:
            - click:
                identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusScrollscreen
            - scroll:
                direction: down
            - verifyIdentifier:
                present:
                  - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusBenefitsViewFreeDeliveryImage
           
      - click:
          identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusScrollscreen
      - scroll:
          direction: down  
      - verifyIdentifier:
          present:           
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusBenefitsViewMemberPricesOnFuelImage
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusBenefitsViewEarlyAccessImage
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusBenefitsViewMobileScanAndGoImage
          # - identifier: s.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusBenefitsViewLimitedFreeReturnsImage

              

  # Navigate to Cancel Membership or Free trial Feedback page from Cancel Confirmation page on Android
  - name: us.functions.wplus.navigateToCancelFeedbackFreeTrialOrCancelFeedbackWalmartPlusPageFromCancelConfirmationPage
    platform: android
    flow:
      - scroll:
          direction: down
          untilIdentifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.cancelFreeTrialOrCancelWalmartPlusLink
      - verifyIdentifier:
          timeout: 5000
          present:
            - identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.cancelFreeTrialOrCancelWalmartPlusLink
      - click:
          identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.cancelFreeTrialOrCancelWalmartPlusLink


  # Validate the options present in cancel membership page
  - name: us.functions.wplus.validateCancelMembershipOptions
    platform: android
    flow:
      - verifyIdentifier:
          present:
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelmembershipbutton
            - identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.RemindmeLaterbtn
            - identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.ContinuefreetrialLink

  # Function to click the cancel button on feedback page on Android
  - name: us.functions.wplus.completeCancelFreeTrialOrCancelWplus
    platform: android
    flow:
      - verifyIdentifier:
          text:
            - identifier: us.mapppings.wplus.cancelMembershipFeedback.cancelFreeTrialOrCancelWalmartPlusHeader
              contains: Your feedback matters – help us improve Walmart+
      - click:
          identifier: us.mappings.wplus.cancelMembershipFeedback.chooseOptionToCancel
      - verifyIdentifier:
          present:
            - identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.submitFeedbackButton
      - click:
          identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.submitFeedbackButton
  
  # Cancel Free trial Member on Android
  - name: us.functions.wplus.managemembership.cancelFreeTrialMember
    platform: android
    flow:
      - sleep:
          duration: 5000
      - executeFunction: 
          name: us.functions.wplus.managemembership.navigateToCancelFreeTrialMemberFromMemberShipPage
      - executeFunction: 
          name: us.functions.wplus.navigateToCancelFeedbackFreeTrialOrCancelFeedbackWalmartPlusPageFromCancelConfirmationPage
      - executeFunction:
          name: us.functions.wplus.completeCancelFreeTrialOrCancelWplus
  
  # Cancel Paid Membership on Android
  - name: us.functions.wplus.managemembership.cancelPaidMembership
    platform: android
    flow:
      - sleep:
          duration: 5000
      - executeFunction: 
          name: us.functions.wplus.managemembership.navigateToCancelPaidMemberFromMemberShipPage
      - executeFunction: 
          name: us.functions.wplus.navigateToCancelFeedbackFreeTrialOrCancelFeedbackWalmartPlusPageFromCancelConfirmationPage
      - executeFunction:
          name: us.functions.wplus.completeCancelFreeTrialOrCancelWplus

  # Close W+Plus benefits on cancel membership confirmation page on IOS
  - name: us.functions.wplus.cancelConfirmation.goBackFromCancelMembershipOrCancelFreeTrialPage
    platform: android
    flow:
      - verifyIdentifier:
          timeout: 5000
          present:
            - identifier: us.mapppings.wplus.cancelConfirmationOrCancelMembershipFeedback.continueMembership
      - click:
          identifier: us.mapppings.wplus.cancelConfirmationOrCancelMembershipFeedback.continueMembership

  # Navigate to W+Plus  CancelMembership screen on Android
  - name: us.functions.wplus.membership.verifyCancelMembershipNewdetailsforWalmartPlusMembers
    platform: android
    flow:
    - verifyIdentifier: 
          present: 
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelNewHeader
            - identifier: us.mapppings.wplus.cancelConfirmation.NewsavingsTabMoneySavedImage
            - identifier: us.mapppings.wplus.cancelConfirmation.NewsavingsTabHoursSavedImage
            - identifier: us.mapppings.wplus.cancelConfirmation.Newsavingsdetails
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelDescription
            - identifier: us.mapppings.wplus.cancelConfirmation.daysDescription
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelmembershipbutton
    - verifyIdentifier:
                text:
                  - identifier: us.mapppings.wplus.cancelConfirmation.NewsavingsTabMoneySavedMessage
                    contains : Up to $1300
    - verifyIdentifier:
                text:
                  - identifier: us.mapppings.wplus.cancelConfirmation.NewsavingsTabHoursSavedMessage
                    contains : Up to 90 hours          
    - verifyIdentifier:
        present:
          - identifier: us.mapppings.wplus.cancelConfirmation.Newsavingsdetails              
    - click:
        identifier: us.mapppings.wplus.cancelConfirmation.Newsavingsdetails 
    - verifyIdentifier:
        text:
          - identifier: us.mapppings.wplus.cancelConfirmation.NewsavingsdetailsText
            contains :  Savings details     
    - verifyIdentifier: 
        present: 
          - identifier: us.mapppings.wplus.cancelConfirmation.Newsavingsdetailsclose
    - click:
        identifier: us.mapppings.wplus.cancelConfirmation.Newsavingsdetailsclose     
    - verifyIdentifier:
        text:
          - identifier: us.mapppings.wplus.cancelConfirmation.cancelDescription
            contains : Here’s a snapshot of how much you could save
    #Validating No of days left description               
    - verifyIdentifier:
        text:
          - identifier: us.mapppings.wplus.cancelConfirmation.daysDescription
            contains : If you cancel, you can still enjoy your exclusive member benefits for
    #Validating cancel MembershipButton View button               
    - verifyIdentifier:
        present:
          - identifier: us.mapppings.wplus.cancelConfirmation.cancelmembershipbutton

  # Navigate to updated variantA W+Plus benefits on cancel membership confirmation page on IOS
  - name: us.functions.wplus.cancelConfirmation.verifyVariantACancelFreeTrialOrCancelWalmartPlusDetails
    platform: ios
    flow:
      - if:
          condition: ${membershipType} == 'extendedTrial'
          then:
            - verifyIdentifier:
                label:
                  - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlusHeader
                    contains: Need more time to explore what W+ has to offer?
          else:
            - verifyIdentifier:
                timeout: 3000
                label:
                  - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlus.variantAHeaderFirstName
                    contains: don’t miss out!

      - verifyIdentifier:
          label:
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlus.variantAHeaderFirstName
              contains: test

      - verifyIdentifier:
          label:
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlus.variantABenefitsViewSavedAmount
              contains: You’ve saved 
      - verifyIdentifier:
          label:
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlus.variantABenefitsViewSavedHours
              contains: You’ve saved 
      - verifyIdentifier:
          label:
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlus.variantADaysLeft
              contains: days
      - verifyIdentifier:
          present:
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlus.variantASavingsDetailsLink
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlus.variantACancelConfirmationText
            - identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.cancelFreeTrialOrCancelWalmartPlusLink

  # Verify 'see savings details' disclaimer
  - name: us.functions.wplus.cancelConfirmation.verifyVariantASeeSavingsDetailsDisclaimer
    platform: ios
    flow:
      - verifyIdentifier: 
          present:
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlus.variantASavingsDetailsLink
      - click:
          identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlus.variantASavingsDetailsLink

      - verifyIdentifier: 
          timeout: 8000 
          present:
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlus.variantASavingsDetailsDisclaimerHeader
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlus.variantASavingsDetailsDisclaimerText
      
      - getString: 
          identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlus.variantASavingsDetailsDisclaimerText
          attribute: label
          storeIn: disclaimer 
      - log: $disclaimer     
   
      # Dismissing the disclaimer and verify if the user is on the Cancellation Page
      - verifyIdentifier: 
          present:
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlus.variantASavingsDetailsDisclaimerCloseBtn
      - click:
          identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlus.variantASavingsDetailsDisclaimerCloseBtn
       
      - verifyIdentifier: 
          timeout: 4000
          present:
            - identifier: us.mapppings.wplus.cancelConfirmation.cancelFreeTrialOrCancelWalmartPlus.variantASavingsDetailsLink
      - log: Dismissed the disclaimer and verified if the user is on the Cancellation Page

  # Click Cancel membership and verify Survey page
  - name : us.functions.wplus.cancelConfirmation.verifyVariantACancelConfirmationSurveyPage
    platform: ios
    flow:
      - verifyIdentifier:
          present:
            - identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.cancelFreeTrialOrCancelWalmartPlusLink
      - click:
          identifier: us.mapppings.wplus.cancelConfirmationOrcancelMembershipFeedback.cancelFreeTrialOrCancelWalmartPlusLink
      - log: Navigating to Survey Page
      - verifyIdentifier:
          timeout: 8000
          present:
            - identifier: us.mapppings.wplus.cancelConfirmation.surveyPageTitle   
            - identifier: us.mapppings.wplus.cancelConfirmation.surveyPageHeader
            - identifier: us.mapppings.wplus.cancelConfirmation.surveyPageCancelConfirmation
            - identifier: us.mapppings.wplus.cancelConfirmation.surveyPageKeepMembership
      - log: Validated Survey Page

  # Keep membership from cancel confirmation survey page on IOS 
  - name: us.functions.wplus.cancelConfirmation.keepMembershipNGoBackFromSurveyPage
    platform: ios
    flow:
      - try:
          flow:
            - verifyIdentifier:
                present:
                - identifier: us.mapppings.wplus.cancelConfirmation.surveyPageKeepMembershipLink
          catch:
            flow:
              - log: Keep Membership link doesn't appear
      - verifyIdentifier:
          timeout: 5000
          present:
            - identifier: us.mapppings.wplus.cancelConfirmation.surveyPageKeepMembership
      - click:
          identifier: us.mapppings.wplus.cancelConfirmation.surveyPageKeepMembership

      - log: click 'Keep membership' and validate that user is taken to the Manage Membership Page
      - executeFunction:
            name: us.functions.utils.scrollIfNotVisible
            params:
              - name: identifier
                string: us.mappings.wplus.managemembership.genericHeader
              - name: direction
                string: up
      - verifyIdentifier:
          present:
            - identifier: us.mappings.wplus.managemembership.genericHeader
      - log: "Verified Manage Membership screen title"        
