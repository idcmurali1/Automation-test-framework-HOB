general:
  platform: android
  tags: example-test-ud


scenarios:
  - name: Before
    before: true
    endTestOnFailure: true
    flow:
      - log: Execute before steps    

  - name: Main
    flow:
      - log: Universal Deeplinking test
      - executeFunction:
          name: us.functions.global.onboarding.navigateOnboardingToHome
      # Navigate to sign in page

      - executeFunction:
          name: us.functions.home.navigateHomeToSignIn 
        # Sign in
      - executeFunction:
          name: us.functions.global.authentication.signInAccount
          params:
              - name: email
                string: provideProdEmail
              - name: password
                string: provideProdPassword
      - runAppInBackground:
          duration: 2
      
      - openLink: https://w-mt.co/g/rptrcks/comm-smart-app/services/tracking/clickTracker?redirectTo=osMa0sxrjFNEH%2B3e3%2BzUKUug9ioBnTDkVuHDl0ymtZqTOT%2BICDnk5gc49erET%2FJoy6WgoRMzNcrJDGdC9evyGoH2Xq9ZzaGBVtIpvQhqavFk1YGqDmQTL7RXP%2BPZ%2FRl8Uw6zZVPP4B4BJDS0FkTaONmcSnNnySu8IOX74ypHIg7gqjUhoQ%2BJo1Gi3puHzauz9OIzWbZWPDFCnH6hjAtruRu0Y3GRDKgda26IU%2B621ebdRWG5YMHJ2%2FXH2OfI24egg4eERs5aNa8wZKqlazSnAO0tvhAZZV99j9%2BvSa1MhH%2Fx2dB2SkgejuITm86dm8w%2Bs08UVN%2BZCEvAANwpx%2FQVxr%2BM0JzHk07epr6g7zpPbu9En5aZs5fEetiTBU2QPsoXTCVw3QExY2eQjObJYgZFejGQfT0AUzgJAS489kq0igw%2BdsZDvszGqip9RMrN84YhROWI%2BqmhmSKtjItzEGLqN9mfB8gG8dkDDoq8ko%2FWQjeaCXQdJomDA8BcFdylYLyS4NxemBHz3gWJx3Hrd56e7OIN2mQjuTz9oSbGmq1W2Cgt9E5LYM%2F8%2F8IOi19ntIrhzQTrwTDkSlYqB7wxxE0A4g%3D%3D&meta=YhH7XE2T%2BD%2FhwDxjLenWrvbrVYtIqIy4PuYlb3no9GtBAaBCqIZewJT24WzE2mJ%2BhOIIw0Qlh6FP7KEA2G5YvfzLrNIJThWOAp3A2Duwkh6Gn%2BF2QlJN0awVNFHfFsSdHBSlzlqpqkxVmTVcttWK9QdF8vX%2BdT3PNObRZRK2EpEyRJ749LyeXcPGo1wI0kJeR2EQQtc8eHpwi0ZT%2FK9uWA%3D%3D&iv=bOaxiC63XpFK1t7n5er0TQ%3D%3D

      - verifyIdentifier:
          present: 
            - identifier: us.mappings.orderDetails.orderNumberText
  - name: After
    after: true
    flow:
      - executeFunction:
          name: us.functions.utils.createFile
          params:
            - name: FILE_OUTPUT
              string: '{"status":"complete"}'
