general:
    platform: android
    tags: exploratory-test, exploratory-test-signin-user
    testTime: 15
    debug: true
    threads: 1
   
scenarios:
  - name: Before
    before: true
    endTestOnFailure: true
    flow:
      - log: Execute before steps
  - name: Main
    flow:
      - log: Start Main
      # Get timestamp
      - getTimestamp:
          asDate: false
          storeIn: timestamp
      # Navigate onboarding to home
      - executeFunction:
          name: us.functions.global.onboarding.navigateOnboardingToHome
      - if: 
          identifier: 
            present: 
              - identifier: NONE OF THE ABOVE
          then: 
            - click: 
                identifier: NONE OF THE ABOVE

      # Navigate to sign in page
      - executeFunction:
          name: us.functions.home.navigateHomeToSignIn
      
      # Sign in with default account
      - executeFunction:
          name: us.functions.global.authentication.signInAccount
          params:
            - name: email
              string: us.data.prod.et1.android.email
            - name: password
              string: us.data.prod.et1.android.pwd

      - executeFunction:
          name: us.functions.global.navigation.accountToHome

search:
  - identifier: us.mappings.home.searchBarSelected
    string: milk
  - identifier: us.mappings.home.searchBarSelected
    string: Diapers collection
  - identifier: us.mappings.home.searchBarSelected
    string: toilet roll
  - identifier: us.mappings.home.searchBarSelected
    string: Detergent 
errors:
  - description: Load Results
    identifier: Sorry, we can't load these results.
  - description: Service
    identifier: This service is currently unavailable
  - description: Oops
    identifier: Oops, we're having temporary system issues. Please try back soon.
blocklist:
  - description: Barcode scanner
    identifier: us.mappings.home.searchBar.scanner
  - description: My Items
    identifier: us.mappings.myItems.mainHeader
  - description: Services
    identifier: us.mappings.tabBar.services
  - description: Account
    identifier: us.mappings.pgc.accountTab
  - description: Header Store Update Link
    identifier: us.mappings.home.locationBannerButton
  - description: Header Store Zip Update Link
    identifier: us.mappings.home.location.storeAddress
  - description: Feedback Link
    identifier: com.walmart.android.debug:id/feedback_cta
  - description: SeeTimes
    identifier: us.mappings.home.seeTimes
  