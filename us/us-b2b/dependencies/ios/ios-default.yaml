general:
  automationName: XCUITest
  bundleId: com.walmartusa.beta.b2b
  appiumVersion: 2.0.0
  mappingLabels: ${MAPPING_LABELS:teflon}
  combineScenarios: ${COMBINE_SCENARIOS:true}
  glassEnv: '{"env":{"config":"{\"environment\":\"${GLASS_ENV:production}\"}"},"args":["-kGlassExpEnabled","true","-com.walmart.px.skip-catcha","YES"]}'
  fullReset: ${fullReset:false}
  noReset: false
  build: r2-${TEST_SESSION_ID}
  newCommandTimeout: 90000
  idleTimeout: 1000
  commandTimeout: 600
  # retryFailedTests: true
  launchTimeout: 6000000
  iosInstallPause: 20000
  noLimitTraceObject: true
  public: share

profiles:

  - name: local-prod
    general:
      app: ${WALMART_APP_FILENAME_IOS:./us/app/glass-development-b2b-latest.zip}
      mappingLabels: ${MAPPING_LABELS:production}
      serverURL: 'http://127.0.0.1:4723'
      combineScenarios: ${COMBINE_SCENARIOS:true}
      glassEnv: '{"env":{"config":"{\"environment\":\"${GLASS_ENV:production}\"}"},"args":["-kGlassExpEnabled","true","-com.walmart.px.skip-catcha","YES"]}'

    device:
      - deviceName: ${DEVICE_NAME_IOS:iPhone 14}
        platformName: ${PLATFORM_NAME_IOS:iOS}
        platformVersion: ${PLATFORM_VERSION_IOS:16.1}
        deviceOrientation: ${DEVICE_ORIENTATION_IOS:portrait}
        appiumVersion: ${APPIUM_VERSION:2.0.0}

  - name: sm-prod-deep-link
    general:
      app: $SAUCE_APP
      testrailProxyHost: sysproxy.wal-mart.com
      testrailProxyPort: 8080
      parallelExecution: true
      combineScenarios: ${COMBINE_SCENARIOS:true}
      mappingLabels: ${MAPPING_LABELS:production-sm}
      glassEnv: '{"env":{"config":"{\"environment\":\"production\"}"},"args":["-kGlassExpEnabled","true","-com.walmart.px.skip-catcha","YES"]}'
      threads: ${THREADS:100}
      maxDuration: 5400
      build: r2-${TEST_SESSION_ID}
      retryFailedTests: true

    device:
      - deviceName: ${DEVICE_NAME_IOS:iPhone 15 Simulator}
        platformName: ${PLATFORM_NAME_IOS:iOS}
        platformVersion: ${PLATFORM_VERSION_IOS:17.5}
        deviceOrientation: ${DEVICE_ORIENTATION_IOS:portrait}
        appiumVersion: ${APPIUM_VERSION:2.1.3}

    saucelabs:
      userName: $SAUCE_USERNAME
      accessKey: $SAUCE_ACCESS_KEY
      useNewSauceAPI: true
      armRequired: true