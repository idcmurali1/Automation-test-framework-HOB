functions:
  - name: us.functions.functional.checkout.reviewOrder.scrollUpToDeliveryTipModule
    flow:
      - scroll:
          direction: up
          untilIdentifier: us.mappings.reviewOrder.tipContainerView
          position: center

  - name: us.functions.functional.checkout.reviewOrder.verifyingSelectedTip
    flow:
      - log: us.mappings.functional.checkout.reviewOrder.selectTipAmount6 for selectTipAmount6
      - if:
          identifier:
            present:
              - identifier: us.mappings.functional.checkout.reviewOrder.selectTipAmount6
          then:
            - click:
                identifier: us.mappings.functional.checkout.reviewOrder.selectTipAmount6
            - sleep:
                duration: 3000
            - executeFunction:
                name: us.functions.functional.checkout.reviewOrder.scrollDownToPOS
            - verifyIdentifier:
                present:
                  - identifier: us.mappings.functional.checkout.reviewOrder.pos.selectedTipAmount6

  - name: us.functions.functional.checkout.reviewOrder.verifyingCustomTip
    flow:
      - if:
          identifier:
            present:
              - identifier: us.mappings.functional.checkout.reviewOrder.customTip
          then:
            - click:
                identifier: us.mappings.functional.checkout.reviewOrder.customTip
            - enterText:
                identifier: us.mappings.functional.checkout.reviewOrder.customTip
                string: 10.00
            - executeFunction:
                name: us.functions.functional.util.clickKeyboardDone
            - sleep:
                duration: 3000
            - executeFunction:
                name: us.functions.functional.checkout.reviewOrder.scrollDownToPOS
            - verifyIdentifier:
                present:
                  - identifier: us.mappings.functional.checkout.reviewOrder.pos.customTipAmount10

  - name: us.functions.functional.checkout.reviewOrder.verifyingTipPercentage
    flow:
      - if:
          identifier:
            present:
              - identifier: us.mappings.functional.checkout.reviewOrder.itemDetails.viewButton
          then:
            - click:
                identifier: us.mappings.functional.checkout.reviewOrder.itemDetails.viewButton
            - sleep:
                duration: 1000
            - if:
                identifier:
                  present:
                    - identifier: us.mappings.functional.checkout.reviewOrder.itemDetails.stepperIncrementButton
                then:
                  - click:
                      identifier: us.mappings.functional.checkout.reviewOrder.itemDetails.stepperIncrementButton
                  - sleep:
                      duration: 3000
                  - click:
                      identifier: us.mappings.functional.checkout.reviewOrder.itemDetails.doneButton
                  - sleep:
                      duration: 3000
                  - scroll:
                      direction: down
                      untilIdentifier: us.mappings.reviewOrder.tipContainerView
                      position: center
                  - verifyIdentifier:
                      present:
                        - identifier: us.mappings.functional.checkout.reviewOrder.tip10Percentage
                  - if:
                      identifier:
                        present:
                          - identifier: us.mappings.functional.checkout.reviewOrder.tip10Percentage
                      then:
                        - click:
                            identifier: us.mappings.functional.checkout.reviewOrder.tip10Percentage
                        - sleep:
                            duration: 3000
                        - executeFunction:
                            name: us.functions.functional.checkout.reviewOrder.scrollDownToPOS
                        - verifyIdentifier:
                            present:
                              - identifier: us.mappings.functional.checkout.reviewOrder.pos.tip10PercentageAmount
