#======================================================================================================================
#  AUTHOR: Isis Rojas Tolentino (vn53dge)
#  CREATED: Mar/13/2023
#  REVISION: ---
#
#  Copyright Â© 2022 Walmart. All rights reserved.
#======================================================================================================================

functions:

  # Description: This method taps on OD banner
  - name: mx.functions.prehome.tapODBanner
    flow:
      - click:
          identifier: mx.mappings.prehome.odBanner
      - if: 
          condition: ${APP_PLATFORM} == 'android'
          then:
            - executeFunction:
                name: mx.functions.onboarding.dismissOrderDiscountUpdatesIfDisplayed
      - log:
          message: "End function: prehome.tapODBanner"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------         

  # Description: This method taps on EA banner
  - name: mx.functions.prehome.tapEABanner
    flow:
      - click:
          identifier: mx.mappings.prehome.eaBanner
      - log:
          message: "End function: prehome.tapEABanner"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------         
  
  # Description: This method asserts Prehome Page is opened
  - name: mx.functions.prehome.assertPageDisplayed
    flow:
      - if:
          identifier:
            present:
              - identifier: mx.mappings.prehome.prehomeTitle
              - identifier: mx.mappings.prehome.odBanner
              - identifier: mx.mappings.prehome.eaBanner
          then:
            - log:
                message: "Successful Assertion: Prehome is displayed."
                color: GREEN_BOLD
          else:
            - failTest:
                message: "Failed: Prehome did not display."
      - log:
          message: "End function: prehome.assertPageDisplayed"
          color: BLUE