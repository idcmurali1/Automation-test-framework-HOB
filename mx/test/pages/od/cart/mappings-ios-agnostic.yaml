#======================================================================================================================
#  AUTHOR: Octavio Cabrales (vn53g23)
#  CREATED: Oct/17/2022
#  REVISION: ---
#
#  Copyright © 2022 Walmart. All rights reserved.
#======================================================================================================================

ios:

  - name: mx.mappings.cart.backCartArrow
    identifier: //XCUIElementTypeNavigationBar/XCUIElementTypeButton

  - name: mx.mappings.cart.discountLabel
    identifier: //*[contains(@name,"POSLineItemView.Ahorras")]

  - name: mx.mappings.cart.discountValue
    identifier: //*[contains(@name, "POSLineItemView.Ahorras")]//*[@name= "POSLineItemView.rightLabel"]

  - name: mx.mappings.cart.startBuyingButton
    identifier: //XCUIElementTypeButton[@name="CartEmptyStateViewController.startShoppingButton"]

  - name: mx.mappings.cart.continueButton
    identifier: //XCUIElementTypeButton[@name="CartFinishButton"] | //XCUIElementTypeButton[@name="CartPrimaryCTAButton"]

  - name: mx.mappings.cart.emptyView
    identifier: //*[@name="CartEmptyStateViewController.scrollView"]

  - name: mx.mappings.cart.cartProductListAndFulfillmentMethod
    identifier: //XCUIElementTypeOther[@name="CartDetailsViewController.stackView"]

  - name: mx.mappings.cart.oosMessage
    identifier: //XCUIElementTypeButton[@name="CartAlertOutOfStock"]

  - name: mx.mappings.cart.productByName
    identifier: //*[@name="CartItemTileView.nameLabel" and contains(@label,"${productName}")]

  - name: mx.mappings.cart.fulfillmentMethodCard
    identifier: //XCUIElementTypeOther[@name="CartCardViewController.fulfillmentDetailView"]

  - name: mx.mappings.cart.productWithStock
    identifier: //XCUIElementTypeOther[@name="GlassCard.stackView"]//XCUIElementTypeStaticText[@name="FulfillmentSummaryView.titlePrefixLabel" and (contains(@value, "Pickup") or contains(@value, "domicilio"))]/ancestor::XCUIElementTypeOther[@name="GlassCard.stackView"]//XCUIElementTypeButton[contains(@label,"${productName}")]

  - name: mx.mappings.cart.productOOS
    identifier: //XCUIElementTypeOther[@name="GlassCard.stackView"]//XCUIElementTypeStaticText[@name="FulfillmentSummaryView.detailLabel" and @value="Actualmente no disponible"]/ancestor::XCUIElementTypeOther[@name="GlassCard.stackView"]//XCUIElementTypeButton[contains(@label,"${productName}")]

  - name: mx.mappings.cart.piecesQuantity
    identifier: //XCUIElementTypeButton[contains(@label,"${productName}")]/following-sibling::XCUIElementTypeOther//XCUIElementTypeButton[@name="stepper.mainButton"]//XCUIElementTypeStaticText[not(contains(@name, " g") and @value="${quantity}")]

  - name: mx.mappings.cart.piecesQuantityByProductName # Checks the product quantity is in pieces.
    identifier: //XCUIElementTypeButton[contains(@label,"${productName}")]/following-sibling::XCUIElementTypeOther//XCUIElementTypeButton[@name="stepper.mainButton"]//XCUIElementTypeStaticText[not(contains(@name, " g"))]

  - name: mx.mappings.cart.weightQuantityByProductName # Checks the product quantity is in weight.
    identifier: //XCUIElementTypeButton[contains(@label,"${productName}")]/following-sibling::XCUIElementTypeOther//XCUIElementTypeButton[@name="stepper.mainButton"]//XCUIElementTypeStaticText[contains(@name, " g")]

  - name: mx.mappings.cart.mainButtonForProduct
    identifier: //XCUIElementTypeButton[contains(@label,"${productName}")]/following-sibling::XCUIElementTypeOther//XCUIElementTypeButton[@name="stepper.mainButton"]//XCUIElementTypeStaticText

  - name: mx.mappings.cart.productUOMSelectorPiecesActive
    identifier: //XCUIElementTypeButton[contains(@label,"${productName}")]/following-sibling::XCUIElementTypeOther//XCUIElementTypeButton[(@name="Pza(s)" or @name="Pieza(s)") and @value="1"]

  - name: mx.mappings.cart.productUOMSelector
    identifier: //XCUIElementTypeButton[contains(@label,"${productName}")]/following-sibling::XCUIElementTypeOther//XCUIElementTypeSegmentedControl[@name="weighableItemSelector.addToCartButton"]

  - name: mx.mappings.cart.cartBanner
    identifier: //XCUIElementTypeStaticText[@name="Carrito" or @name="Cart"]

  - name: mx.mappings.cart.weightQuantity
    identifier: //XCUIElementTypeButton[contains(@label,"${productName}")]/following-sibling::XCUIElementTypeOther//XCUIElementTypeButton[@name="stepper.mainButton"]//XCUIElementTypeStaticText[contains(@name, " g")]

  - name: mx.mappings.cart.UOMSelectorWeightActive
    identifier: //XCUIElementTypeButton[contains(@label,"${productName}")]/following-sibling::XCUIElementTypeOther//XCUIElementTypeButton[(@name="Peso" or @name="Gramos") and @value="1"]

  - name: mx.mappings.cart.productNameLabelByProductName
    identifier: //XCUIElementTypeCell[contains(@name,'CartItemTileCell')]//XCUIElementTypeButton[@name='CartItemTileView.nameLabel' and contains(@label,"${productName}")]

  - name: mx.mappings.cart.pickupStore
    identifier: //*[@name="SCGroup_fulfillmentPlaceLabel"]
    
  - name: mx.mappings.cart.fulfillmentMethod
    identifier: //XCUIElementTypeStaticText[@name="FulfillmentSummaryView.titlePrefixLabel"]

  - name: mx.mappings.cart.deliverySlot
    identifier: //XCUIElementTypeStaticText[@name="SCGroup_FulfillmentSummaryView.detailLabel"]

  - name: mx.mappings.cart.homeAddress
    identifier: //XCUIElementTypeStaticText[@name="SCGroup_fulfillmentPlaceLabel"]

  - name: mx.mappings.cart.deliveryCharge
    identifier: //XCUIElementTypeStaticText[@name="FulfillmentSummaryView.chargesLabel"]

  - name: mx.mappings.cart.availableItems
    identifier: //XCUIElementTypeTable[@name="CartItemListViewController.tableView"]/XCUIElementTypeStaticText[contains(@name, "artículo")]
  
  - name: mx.mappings.cart.badgeType
    identifier: //XCUIElementTypeButton[contains(@label,"${productByName}")]/preceding-sibling::XCUIElementTypeOther

  - name: mx.mappings.cart.totalBottomSection
    identifier: //XCUIElementTypeStaticText[@name="CartCheckoutView.totalLabel" or @name="CartCheckoutView.grandTotalLabel"]

  - name: mx.mappings.cart.rightPOSLineItem
    identifier: //*[contains(@name, "POSLineItemView.${posLineItem}")]//XCUIElementTypeStaticText[@name="POSLineItemView.rightLabel"]

  - name: mx.mappings.cart.leftPOSLineItem
    identifier: //XCUIElementTypeStaticText[@name="POSLineItemView.leftLabel" and contains(@label, "${posLineItem}")]

  - name: mx.mappings.cart.replacementMessage
    identifier: //XCUIElementTypeOther[@name="CartCardViewController.shopSimilarToast"]//XCUIElementTypeButton

  - name: mx.mappings.cart.totalBottomLabel
    identifier: //XCUIElementTypeStaticText[@name="CartCheckoutView.totalLabel" or @name="CartCheckoutView.grandTotalLabel"]

  - name: mx.mappings.cart.reserveSlotButton
    identifier: //XCUIElementTypeButton[@name="FulfillmentSummaryView.actionButton"]

  - name: mx.mappings.cart.availableExpandCollapseCheckbox
    identifier: //XCUIElementTypeOther[@name="FulfillmentSummaryView.horizontalContainerStackView"]//XCUIElementTypeStaticText[@name="SCGroup_FulfillmentSummaryView.detailLabel"]/ancestor::XCUIElementTypeOther[@name="CartCardViewController.containerStackView"]//XCUIElementTypeButton[@name="CartCardViewController.expandCollapseView"]

  - name: mx.mappings.cart.oosExpandCollapseCheckbox
    identifier: //XCUIElementTypeOther[@name="FulfillmentSummaryView.horizontalContainerStackView"]//XCUIElementTypeStaticText[@name="FulfillmentSummaryView.detailLabel"]/ancestor::XCUIElementTypeOther[@name="CartCardViewController.containerStackView"]//XCUIElementTypeButton[@name="CartCardViewController.expandCollapseView"]

  - name: mx.mappings.cart.yellowOOSMessageButton
    identifier: //XCUIElementTypeButton[@name="CartAlertOutOfStock"]

  - name: mx.mappings.cart.buySimilarButtonByProductName
    identifier: //XCUIElementTypeButton[contains(@label,"${productByNameOOS}")]/following-sibling::XCUIElementTypeButton[@name="CartItemTileView.shopSimilarButton"]

  - name: mx.mappings.cart.UOMSelectorPiecesButton
    identifier: //XCUIElementTypeButton[contains(@label,"${productName}")]/following-sibling::XCUIElementTypeOther//XCUIElementTypeButton[@name="Pza(s)" or @name="Pieza(s)"]

  - name: mx.mappings.cart.UOMSelectorWeightButton
    identifier: //XCUIElementTypeButton[contains(@label,"${productName}")]/following-sibling::XCUIElementTypeOther//XCUIElementTypeButton[@name="Peso" or @name="Gramos"]

  - name: mx.mappings.cart.productDecreaseButton
    identifier: //XCUIElementTypeButton[contains(@label,"${productByName}")]/following-sibling::XCUIElementTypeOther//XCUIElementTypeButton[@name="stepper.decrementButton"]

  - name: mx.mappings.cart.productIncreaseButton
    identifier: //XCUIElementTypeButton[contains(@label,"${productName}")]/following-sibling::XCUIElementTypeOther//XCUIElementTypeButton[@name="stepper.incrementButton"]

  - name: mx.mappings.cart.deleteProductButton
    identifier: //*[@name= "CartItemTileView.nameLabel" and contains(@label, "${productName}")]/../*[@name= "CartItemTileView.remove"]

  - name: mx.mappings.cart.deleteProductButtonGeneral
    identifier: //XCUIElementTypeStaticText[@name="Eliminar"]

  - name: mx.mappings.cart.deleteOOSProductButton
    identifier: //XCUIElementTypeButton[contains(@label,"${productByNameOOS}")]/following-sibling::XCUIElementTypeButton[@name="Eliminar"]

  - name: mx.mappings.oos-replacements-list.closeButton
    identifier: //XCUIElementTypeButton[@name="CartItemTileView.nameLabel" and contains(@label, "${productByNameOOS}")]/following-sibling::XCUIElementTypeButton[@name="ShopSimilarView.closeButton" and @accessible="true"]

  - name: mx.mappings.cart.oos-replacements-list.carousel
    identifier: //XCUIElementTypeButton[@name="CartItemTileView.nameLabel" and contains(@label, "${productByNameOOS}")]/following-sibling::XCUIElementTypeOther[@name="ShopSimilarView.contentStackView" and @visible="true"]

  - name: mx.mappings.oos-replacements-list.replacementPriceByPosition
    identifier: //XCUIElementTypeButton[@name="CartItemTileView.nameLabel" and contains(@label, "${productByNameOOS}")]/following-sibling::XCUIElementTypeOther[@name="ShopSimilarView.contentStackView" and @visible="true"]//XCUIElementTypeCell[${position}]//XCUIElementTypeStaticText[@name="PriceView.primaryPriceLabel"]

  - name: mx.mappings.oos-replacements-list.replacementButtonByPosition
    identifier: //XCUIElementTypeButton[@name="CartItemTileView.nameLabel" and contains(@label, "${productByNameOOS}")]/following-sibling::XCUIElementTypeOther[@name="ShopSimilarView.contentStackView" and @visible="true"]//XCUIElementTypeCell[${position}]//XCUIElementTypeButton[contains(@name, "Replace")]

  - name: mx.mappings.oos-replacements-list.replacementNameByPosition
    identifier: //XCUIElementTypeButton[@name="CartItemTileView.nameLabel" and contains(@label, "${productByNameOOS}")]/following-sibling::XCUIElementTypeOther[@name="ShopSimilarView.contentStackView" and @visible="true"]//XCUIElementTypeCell[${position}]//XCUIElementTypeStaticText[@name="GlassProductTile_title"]

  - name: mx.mappings.oos-replacements-list.replacementPrice
    identifier: //XCUIElementTypeButton[@name="CartItemTileView.nameLabel" and contains(@label, "${productByNameOOS}")]/following-sibling::XCUIElementTypeOther[@name="ShopSimilarView.contentStackView" and @visible="true"]//XCUIElementTypeButton[contains(@name, "${productByName}")]//XCUIElementTypeStaticText[@name="PriceView.primaryPriceLabel"]

  - name: mx.mappings.oos-replacements-list.replacementButton 
    identifier: //XCUIElementTypeButton[@name="CartItemTileView.nameLabel" and contains(@label, "${productByNameOOS}")]/following-sibling::XCUIElementTypeOther[@name="ShopSimilarView.contentStackView" and @visible="true"]//XCUIElementTypeButton[contains(@name, "${productByName}") and contains(@name, "Replace")]

  - name: mx.mappings.cart.subtotalLabel
    identifier: //XCUIElementTypeOther[@name="POSViewController.stackView"]//XCUIElementTypeOther[contains(@name,"POSLineItemView.Subtotal")]

  - name: mx.mappings.cart.subtotalValue # This mapping points to the subtotal, if there are discounts, this will point to the subtotal value BEFORE discounts.
    identifier: //*[contains(@name,"POSLineItemView.Subtotal")]//*[@name="POSLineItemView.rightLabel"]

  - name: mx.mappings.cart.deliveryFee
    identifier: //*[contains(@name, "POSLineItemView.Costodeenvío")]//XCUIElementTypeStaticText[@name="POSLineItemView.rightLabel"]

  - name: mx.mappings.cart.deliveryFeeToAssert
    identifier: //*[contains(@name, "POSLineItemView.Costodeenvío")]//XCUIElementTypeStaticText[@name="POSLineItemView.rightLabel" and @value="$${deliveryFee}"]

  - name: mx.mappings.cart.subtotalValueAfterDiscount
    identifier: //*[contains(@name,"POSLineItemView..$")]//*[contains(@value,"Subtotal,")]

  - name: mx.mappings.cart.totalProductsCount
    identifier: //XCUIElementTypeStaticText[contains(@name,"POSLineItemView.leftLabel") and contains(@value,"Anterior Subtotal (${expectedProductsCount} artículo") or contains(@value,"Subtotal (${expectedProductsCount} artículo")]

  - name: mx.mappings.cart.userShortAddressForAssertion
    identifier: //XCUIElementTypeStaticText[@name="SCGroup_fulfillmentPlaceLabel" and contains(@label, "${userShortAddress}")] 

  - name: mx.mappings.cart.storeAddressForAssertion
    identifier: //XCUIElementTypeStaticText[@name="SCGroup_fulfillmentPlaceLabel" and contains(@label, "${storeAddress}")]
  
  - name: mx.mappings.cart.userShortAddress
    identifier: //*[@name="SCGroup_fulfillmentPlaceLabel"] | //*[@name="FCGroup_fulfillmentPlaceLabel"] # First mapping works in OD, second in EA

  - name: mx.mappings.cart.homeSlot
    identifier: //XCUIElementTypeStaticText[@name="FulfillmentSummaryView.titlePrefixLabel" and contains(@value,"a domicilio")]

  - name: mx.mappings.cart.pickupSlot
    identifier: //XCUIElementTypeStaticText[@name="FulfillmentSummaryView.titlePrefixLabel" and contains(@value,"Pickup")]

  - name: mx.mappings.cart.homeSlotDeliveryFee
    identifier: //XCUIElementTypeStaticText[@name="FulfillmentSummaryView.chargesLabel" and @label="$${expectedDeliveryFee} de cargo por entrega"]

  - name: mx.mappings.cart.estimatedTotalInDetailsSection
    identifier: //*[contains(@name, "POSLineItemView.Totalestimado")]//XCUIElementTypeStaticText[@name="POSLineItemView.rightLabel" and @value="$${expectedEstimatedTotal}"]

  - name: mx.mappings.cart.estimatedTotalInDetailsSectionValue
    identifier: //*[contains(@name, "POSLineItemView.Totalestimado")]//XCUIElementTypeStaticText[@name="POSLineItemView.rightLabel"]

  - name: mx.mappings.cart.multiSavingsBadgeByProductName
    identifier: //*[contains(@name, "CartItemTileCell-") and(.//*[@name= "CartItemTileView.nameLabel" and contains(@label, "${productName}")])]//*[@name= "GlassBadge.label" and contains(@label, "x $") and @visible= "true"]

  - name: mx.mappings.cart.estimatedTotalLeftLabel
    identifier: //*[@name="POSLineItemView.leftLabel" and contains(@value,"Total estimado")]

  - name: mx.mappings.cart.badgeByProductNameAndBadgeText
    identifier: //*[@name="CartItemTileView.nameLabel" and contains(@label,"${productName}")]/preceding-sibling::XCUIElementTypeOther[@label="${badgeText}"]

  - name: mx.mappings.cart.badgeByProductNameAndIndex
    identifier: //*[@name="CartItemTileView.nameLabel" and contains(@label,"${productName}")]/preceding-sibling::XCUIElementTypeOther[${i}]

  - name: mx.mappings.cart.allBadgesByProductName
    identifier: //*[@name="CartItemTileView.nameLabel" and contains(@label,"${productName}")]/preceding-sibling::XCUIElementTypeOther

  - name: mx.mappings.cart.productContainerByProductName
    identifier: //*[@name="CartItemTileView.nameLabel" and contains(@label,"${productName}")]/parent::*
  
  - name: mx.mappings.cart.expandProductsDetails
    identifier: //XCUIElementTypeImage[@name="CartCardExpandCollapseView.iconView"]
  
  - name: mx.mappings.cart.saveForLater
    identifier: //XCUIElementTypeButton[@name="CartItemTileView.saveForLater" and @label="Guardar para después, ${productName}"]
  
  - name: mx.mappings.cart.sfl.moveToCart
    identifier: //XCUIElementTypeButton[@label="Mover al carrito, ${productName}"]

  - name: mx.mappings.cart.quantityByProductName # this mapping does not differ between pieces or weighable products.
    identifier: //XCUIElementTypeButton[@name="stepper.mainButton" and contains(@label,"${productName}") and @accessible="true"]/XCUIElementTypeStaticText

  - name: mx.mappings.cart.addressLink
    identifier: //XCUIElementTypeButton[@name="FCGroup_fulfillmentPlaceLabel"]
  
  - name: mx.mappings.cart.deleteSFLProduct
    identifier: Eliminar

  - name: mx.mappings.cart.productDeleteFromSaveForLater
    identifier: //XCUIElementTypeButton[@name="SaveForLaterItemTileView.remove" and contains(@label,"${productName}")]

  - name: mx.mappings.cart.saveForLaterHeader
    identifier: SaveForLaterCardViewController.cardHeaderView

  - name: mx.mappings.cart.saveForLaterItemContainer
    identifier: SaveForLaterCardViewController.itemListCollapseView