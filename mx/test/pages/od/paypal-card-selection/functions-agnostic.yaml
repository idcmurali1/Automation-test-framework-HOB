#======================================================================================================================
#  AUTHOR: Rodrigo Pacheco Cámara (vn53p0i)
#  CREATED: Abr/12/2023
#  REVISION: ---
#
#  Copyright © 2023 Walmart. All rights reserved.
#======================================================================================================================

functions:
  
  - name: mx.functions.paypal-card-selection.assertPageDisplayed
    flow:
      - verifyIdentifier:
          present:
            - identifier: mx.mappings.paypal-card-selection.pageTitle
            - identifier: mx.mappings.paypal-card-selection.backButton
            - identifier: mx.mappings.paypal-card-selection.closeButton
            - identifier: mx.mappings.paypal-card-selection.agreeAndContinueButton
      - log:
          message: "End function: paypal-card-selection.assertPageDisplayed"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------
  
  # Description: This function asserts the correct PayPal user logged in.
  # Param   ${expectedPaypalUserName}  [Mandatory]  Paypal card's last four digits.
  - name: mx.functions.paypal-card-selection.assertUserLoggedIn
    flow:
      - log:
          message: "Expected PayPal user name: ${expectedPaypalUserName}"
          color: CYAN
      - verifyIdentifier:
          present:
            - identifier: mx.mappings.paypal-card-selection.welcomeMessageByPaypalUserName
      - log:
          message: "End function: paypal-card-selection.assertUserLoggedIn"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------
  
  # Description: This function asserts the correct card is selected.
  # Param   ${expectedPaypalCardFourDigits}  [Mandatory]  Paypal card's last four digits.
  - name: mx.functions.paypal-card-selection.assertSelectedCard
    flow:
      - log:
          message: "Expected PayPal card's last four digits: ${expectedPaypalCardFourDigits}"
          color: CYAN
      - verifyIdentifier:
          present:
            - identifier: mx.mappings.paypal-card-selection.selectedCardByFourDigits
      - log:
          message: "End function: paypal-card-selection.assertSelectedCard"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function selects the paypal card by its last four digits specified in parameter.
  # Param   ${paypalCardFourDigits}  [Mandatory]  Paypal card's last four digits.
  - name: mx.functions.paypal-card-selection.selectCard
    flow:
      - log:
          message: "Paypal card's last four digits: ${paypalCardFourDigits}"
          color: CYAN
      - click:
          identifier: mx.mappings.paypal-card-selection.cardRadioButtonByCardFourDigits
      - log:
          message: "End function: paypal-card-selection.selectCard"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  - name: mx.functions.paypal-card-selection.tapAgreeAndContinue
    flow:
      - click:
          identifier: mx.mappings.paypal-card-selection.agreeAndContinueButton
      - log:
          message: "End function: paypal-card-selection.tapAgreeAndContinue"
          color: BLUE
