#======================================================================================================================
#  AUTHOR: Isis Rojas (vn53dge)
#  CREATED: Oct/20/2022
#  REVISION: ---
#
#  Copyright © 2022 Walmart. All rights reserved.
#======================================================================================================================

android:

  # This mapping is used to assert any of the possible elements that might appear at the top of the page to avoid scrolling down and improve Page Loaded Assertion performance...
  - name: mx.mappings.home.anyInitialElement
    identifier: //*[contains(@resource-id,"hero_pov_story_view") or contains(@resource-id,"services_grid_module_view") or contains(@resource-id,"hubspoke_module_view") or contains(@resource-id,"item_carousel_view") or contains(@resource-id,"pov_carousel_view") or contains(@resource-id,"card_background_image") or contains(@resource-id,"hero_carousel_view")]

  - name: mx.mappings.home.genericPageContainer
    identifier: //*[contains(@resource-id, "content_container_main_module")]

  - name: mx.mappings.home.genericCarouselView
    identifier: //*[contains(@resource-id, "item_carousel_view") or contains(@resource-id, "item_carousel_layout")]
  
  - name: mx.mappings.home.wpBannerContainer
    identifier: //androidx.cardview.widget.CardView[contains(@resource-id,"tempo_shared_walmartplus_banner_card")]

  - name: mx.mappings.home.promotionsCarouselContainer
    identifier: ${APP_PACKAGE:com.walmart.mg.debug}:id/hero_pov_view
  
  - name: mx.mappings.home.promotionsCarouselCardView
    identifier: ${APP_PACKAGE:com.walmart.mg.debug}:id/hero_pov_story_view
  
  - name: mx.mappings.home.promotionsCarouselFirstCardView
    identifier: //androidx.cardview.widget.CardView[contains(@resource-id, "hero_pov_story_view") and contains(@text, "Página 1 de ")]

  - name: mx.mappings.home.carouselNameTitle
    identifier: //android.widget.TextView[(contains(@resource-id,"carousel_header_title") or contains(@resource-id,"services_grid_title") or contains(@resource-id,"grid_container_title") or contains(@resource-id,"pov_carousel_module_title") or contains(@resource-id,"category_container_title") or contains(@resource-id,"ad_sp_header_title")) and contains(@text,'${carouselName}')]

  - name: mx.mappings.home.mostPopularSection
    identifier: //android.widget.TextView[contains(@text,"Los más populares") or(@text="Lo más popular")]

  - name: mx.mappings.home.homePageViewController
    identifier: //android.widget.LinearLayout[contains(@resource-id,"action_bar_root")]

  - name: mx.mappings.home.walmartLogo
    identifier: //android.widget.ImageView[contains(@resource-id,"integration_toolbar_walmart_icon")]

  - name: mx.mappings.home.productContainerByName
    identifier: //android.widget.TextView[contains(@text,"${productName}") and contains(@resource-id,"product_tile_title")]//parent::android.view.ViewGroup[contains(@resource-id,"ui_shared_grid_product_tile")] 
    
  - name: mx.mappings.home.genericAddToCartButtonWithPrice
    identifier: //android.view.ViewGroup[contains(@resource-id, "product_tile_pricing")]/android.widget.TextView[contains(@resource-id, "product_tile_primary_price") and not(contains(@text, "kg"))]/ancestor::android.view.ViewGroup/preceding-sibling::android.widget.FrameLayout[contains(@resource-id, "product_tile_quantity_stepper")]//android.widget.TextView[contains(@resource-id, "textview_count") and @text="Agregar"]
  
  - name: mx.mappings.home.homeCartSubtotal
    identifier: //android.widget.TextView[contains(@resource-id, "cart_summary_subtotal")]

  - name: mx.mappings.home.addedProductDescriptionByIndex
    identifier: (//android.widget.TextView[contains(@resource-id, "textview_count") and @text!="Agregar"])[${i}]/ancestor::android.widget.FrameLayout[contains(@resource-id, "product_tile_quantity_stepper")]/following-sibling::android.widget.TextView[contains(@resource-id, "product_tile_title")]
  
  - name: mx.mappings.home.addedProductDescription
    identifier: //android.widget.TextView[contains(@resource-id, "textview_count") and @text!="Agregar"]/ancestor::android.widget.FrameLayout[contains(@resource-id, "product_tile_quantity_stepper")]/following-sibling::android.widget.TextView[contains(@resource-id, "product_tile_title")]

  - name: mx.mappings.home.pageContainer
    identifier: (//*[@resource-id="${APP_PACKAGE}:id/content_container_main_module"])[last()]
  
  - name: mx.mappings.home.productContainer
    identifier: //*[@resource-id="${APP_PACKAGE}:id/product_tile_shared_grid_product_tile"]

  - name: mx.mappings.home.primaryPriceGeneric
    identifier: //*[@resource-id="${APP_PACKAGE}:id/product_tile_primary_price"]

  - name: mx.mappings.home.primaryPriceByIndex
    identifier: (//*[@resource-id="${APP_PACKAGE}:id/product_tile_primary_price"])[${i}]

  - name: mx.mappings.home.addToCartByIndex
    identifier: (//*[@resource-id="${APP_PACKAGE}:id/textview_count"])[${i}]

  - name: mx.mappings.home.productNameByIndex
    identifier: (//*[@resource-id="${APP_PACKAGE}:id/product_tile_title"])[${i}]
  
  - name: mx.mappings.home.categoryHubspokeModuleView
    identifier: ${APP_PACKAGE:com.walmart.mg.debug}:id/hubspoke_module_view
  
  - name: mx.mappings.home.categoryHubspokeView
    identifier: ${APP_PACKAGE:com.walmart.mg.debug}:id/hubspoke_view
  
  - name: mx.mappings.home.adsMarqueeView
    identifier: ${APP_PACKAGE:com.walmart.mg.debug}:id/ads_marquee2_id
  
  # Snkinny Banner ------------------------------------------------------------------------------------------------
  - name: mx.mappings.home.skinnyBannerView
    identifier: ${APP_PACKAGE}:id/tempo_shared_skinny_banner_view
  
  # EA MAPPING: Adjustable Banner ---------------------------------------------------------------------------------
  - name: mx.mappings.home.adjustableBannerView
    identifier: ${APP_PACKAGE}:id/adjustable_banner_view

  # Adjustable Banner Or Triple Pack Cards View or Category View -------------------------------------------------
  - name: mx.mappings.home.adjustableBannerOrTriplePackOrCategoriesCardsView
    identifier: //*[@resource-id="${APP_PACKAGE}:id/adjustable_banner_view" or @resource-id="${APP_PACKAGE}:id/top_left_card" or @resource-id="${APP_PACKAGE}:id/top_right_card" or @resource-id="${APP_PACKAGE}:id/bottom_left_card" or @resource-id="${APP_PACKAGE}:id/bottom_right_card" or @resource-id="${APP_PACKAGE}:id/category_view"]
  
  # Personalize Shopping Experience Popup ---------------------------------------------------------------------
  - name: mx.mappings.home.shopping-experience-popup.titleTextView
    identifier: ${APP_PACKAGE:com.walmart.mg.debug}:id/marketing_privacy_bottom_sheet_title
  
  - name: mx.mappings.home.shopping-experience-popup.allowButton
    identifier: ${APP_PACKAGE:com.walmart.mg.debug}:id/marketing_privacy_bottom_sheet_allow_btn

  # Walmart Plus Banner -----------------------------------------------------------------------------------------------

  - name: mx.mappings.home.wp-banner.subscribeButton
    identifier: //android.widget.Button[contains(@resource-id, "tempo_shared_wplus_cta") and @text="¡Suscríbete ya!"]
  
  # Most Popular Section ----------------------------------------------------------------------------------------------

  - name: mx.mappings.home.most-popular-section.optionButton
    identifier: //android.widget.TextView[contains(@text, "${mostPopularOption}")]
  
  # Promotions Carousel -----------------------------------------------------------------------------------------------

  - name: mx.mappings.home.promotions-carousel.promotionTitle
    identifier: //android.view.ViewGroup[contains(@resource-id,"hero_pov_view")]//android.widget.TextView[contains(@text, "${promotionName}")]

  - name: mx.mappings.home.promotions-carousel.ctaButton
    identifier: ${APP_PACKAGE:com.walmart.mg.debug}:id/hero_pov_story_cta
  
  - name: mx.mappings.home.promotions-carousel.playPauseButton
    identifier: ${APP_PACKAGE:com.walmart.mg.debug}:id/hero_pov_widget_play_pause
  
  # Sponsored Products Carousel ---------------------------------------------------------------------------------------

  - name: mx.mappings.home.sponsored-carousel.carouselNameLabel
    identifier: ${APP_PACKAGE}:id/ad_sp_header_title
  
  - name: mx.mappings.home.sponsored-carousel.carouselSponsoredTagLabel
    identifier:  ${APP_PACKAGE}:id/ad_sp_header_tag

  - name: mx.mappings.home.sponsored-carousel.anyProductAddToCartButton
    identifier: //*[contains(@resource-id,"sp_carousel_ad_header_layout")]//parent::*[contains(@resource-id, "product_container")]//*[contains(@resource-id, "textview_count")]
  
  - name: mx.mappings.home.sponsored-carousel.productNameLabelInCarousel
    identifier: //*[contains(@resource-id,"sp_carousel_ad_header_layout")]//parent::*[contains(@resource-id, "product_container")]//*[contains(@resource-id, "product_tile_title")]

  # General Carousel --------------------------------------------------------------------------------------------------

  - name: mx.mappings.home.carousel.carouselContainerByName
    identifier: //android.widget.TextView[contains(@text,"${carouselName}")]/following-sibling::androidx.recyclerview.widget.RecyclerView[contains(@resource-id,"carousel_products")]

  - name: mx.mappings.home.carousel.productNameLabelInCarousel
    identifier: //*[contains(@text,"${carouselName}")]//parent::*[contains(@resource-id, "item_carousel_view")]//*[contains(@resource-id, "product_tile_title")]

  - name: mx.mappings.home.carousel.favoriteHeartButtonByName
    identifier: //android.view.ViewGroup[contains(@content-desc,"${productName}")]/child::android.widget.Button[contains(@resource-id,"product_tile_hearting")]

  - name: mx.mappings.home.carousel.productContainerByName
    identifier: //android.view.ViewGroup[contains(@content-desc,"${productName}")] | //android.widget.TextView[@text="${carouselName}" and contains(@resource-id,"carousel_header_title")]//following-sibling::androidx.recyclerview.widget.RecyclerView[contains(@resource-id,"carousel_products")]//android.widget.TextView[contains(@text,"${productName}") and contains(@resource-id,"product_tile_title")]

  - name: mx.mappings.home.carousel.markedFavoritesHeartButton
    identifier: //android.widget.Button[contains(@content-desc,"Eliminar de favoritos, ${productName}")]
  
  - name: mx.mappings.home.carousel.addToCartButtonByProductName
    identifier: //android.widget.TextView[contains(@content-desc,"${productName}") and contains(@text,"Agregar")] | //android.view.ViewGroup[contains(@content-desc,"${productName}")]/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup | //android.view.ViewGroup[contains(@content-desc,"${productName}")]/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup[contains(@resource-id,"quantitystepper_root")]/android.widget.TextView[contains(@resource-id,"textview_count") and contains(@text,"Agregar")]
  
  - name: mx.mappings.home.carousel.addToCartButtonByCarouselAndProductName
    identifier: //*[(contains(@resource-id,"item_carousel_view") or contains(@resource-id,"sponsored_product_ad_container")) and .//android.widget.TextView[(contains(@resource-id,"carousel_header_title") or contains(@resource-id,"services_grid_title") or contains(@resource-id,"grid_container_title") or contains(@resource-id,"pov_carousel_module_title") or contains(@resource-id,"category_container_title") or contains(@resource-id,"ad_sp_header_title")) and contains(@text,'${carouselName}')]]//android.widget.TextView[contains(@content-desc,"${productName}") and contains(@text,"Agregar")]

  - name: mx.mappings.home.carousel.horizontallyScrollableCarouselByCarouselName
    identifier: //*[(contains(@resource-id,"item_carousel_view") or contains(@resource-id,"sponsored_product_ad_container")) and .//android.widget.TextView[(contains(@resource-id,"carousel_header_title") or contains(@resource-id,"services_grid_title") or contains(@resource-id,"grid_container_title") or contains(@resource-id,"pov_carousel_module_title") or contains(@resource-id,"category_container_title") or contains(@resource-id,"ad_sp_header_title")) and contains(@text,"${carouselName}")]]//*[contains(@resource-id,"id/carousel_products") or contains(@resource-id,"product_tile_recycler_view")]

  - name: mx.mappings.home.carousel.mainButtonByProductName
    identifier: //android.widget.TextView[contains(@text,"${productName}")]/ancestor::android.widget.FrameLayout[contains(@resource-id,"ui_shared_async_frame_layout")]//android.view.ViewGroup[contains(@resource-id,"quantitystepper_root")]

  - name: mx.mappings.home.carousel.increaseButtonByProductName
    identifier: //android.widget.TextView[contains(@text,"${productName}")]/ancestor::android.widget.FrameLayout[contains(@resource-id,"ui_shared_async_frame_layout")]//android.widget.ImageButton[contains(@resource-id,"button_plus")]

  - name: mx.mappings.home.carousel.decreaseButtonByProductName
    identifier: //android.widget.TextView[contains(@text,"${productName}")]/ancestor::android.widget.FrameLayout[contains(@resource-id,"ui_shared_async_frame_layout")]//android.widget.ImageButton[contains(@resource-id,"button_minus")]

  - name: mx.mappings.home.carousel.piecesButtonByProductName
    identifier: //android.widget.TextView[contains(@text,"${productName}")]/ancestor::android.widget.FrameLayout[contains(@resource-id,"ui_shared_async_frame_layout")]//android.widget.TextView[contains(@resource-id,"tv_unit_by_unit")]

  - name: mx.mappings.home.carousel.weightButtonByProductName
    identifier: //android.widget.TextView[contains(@text,"${productName}")]/ancestor::android.widget.FrameLayout[contains(@resource-id,"ui_shared_async_frame_layout")]//android.widget.TextView[contains(@resource-id,"tv_unit_by_weight")]

  - name: mx.mappings.home.carousel.piecesAndWeightButtonByProductName
    identifier: //android.widget.TextView[contains(@text,"${productName}")]/ancestor::android.widget.FrameLayout[contains(@resource-id,"ui_shared_async_frame_layout")]//android.widget.FrameLayout[contains(@resource-id,"product_tile_unit_measure_selector")]

  - name: mx.mappings.home.carousel.labelWeightByProductName
    identifier: //android.view.ViewGroup[contains(@content-desc,"${productName}")]//following-sibling::android.widget.TextView[contains(@text," g") and contains(@resource-id,"textview_count")]

  - name: mx.mappings.home.carousel.productPriceByProductName
    identifier: //*[contains(@resource-id,"product_tile_title") and contains(@text,"${productName}")]/preceding-sibling::*[contains(@resource-id,"product_tile_pricing")]/*[contains(@resource-id,"product_tile_primary_price")]

  - name: mx.mappings.home.carousel.productOldPriceByProductName
    identifier: //*[contains(@resource-id,"product_tile_title") and contains(@text,"${productName}")]/preceding-sibling::*[contains(@resource-id,"product_tile_pricing")]/*[contains(@resource-id,"product_tile_strikethrough_price")]
    
  - name: mx.mappings.home.carousel.piecesQuantity
    identifier: //android.view.ViewGroup[contains(@content-desc,"${productName}")]//android.view.ViewGroup[contains(@resource-id,"quantitystepper_root")]//android.widget.TextView[not(contains(@text, " g"))] | //android.widget.TextView[contains(@content-desc,"${productName}") and not(contains(@text, " g"))]
  
  - name: mx.mappings.home.carousel.weightQuantity
    identifier: //android.view.ViewGroup[contains(@content-desc,"${productName}")]//android.view.ViewGroup[contains(@resource-id,"quantitystepper_root")]//android.widget.TextView[contains(@text, " g")] | //android.widget.TextView[contains(@content-desc,"${productName}") and contains(@text, " g")]

  - name: mx.mappings.home.carousel.productsContainer
    identifier: //androidx.recyclerview.widget.RecyclerView[contains(@resource-id,"carousel_products")]/android.widget.FrameLayout[contains(@resource-id,"ui_shared_async_frame_layout")]
    
  - name: mx.mappings.home.carousel.productQuantityAsPiecesOnContainer
    identifier: //android.widget.TextView[contains(@resource-id,"textview_count") and contains(@content-desc,"${productName}") and contains(@text,"${expectedQuantityAsPieces}") and not(contains(@text," g") or contains(@text," gr") or contains(@text,"Agregar"))] 

  - name: mx.mappings.home.carousel.productQuantityAsWeightOnContainer
    identifier: //android.widget.TextView[contains(@resource-id,"textview_count") and contains(@content-desc,"${productName}") and((contains(@text,"${expectedQuantityAsPieces} g")) or(contains(@text,"${expectedQuantityAsPieces} gr")) and not(contains(@text,"Agregar")))]

  - name: mx.mappings.home.carousel.firstProductContainerOnCarousel
    identifier: //android.widget.LinearLayout/android.widget.LinearLayout[contains(@resource-id,sp_carousel_ad_header_layout)]/android.widget.TextView[contains(@text,"${carouselName}") and contains(@resource-id,"ad_sp_header_title")]/ancestor::android.widget.LinearLayout/androidx.recyclerview.widget.RecyclerView[contains(@resource-id,"product_tile_recycler_view")]/android.widget.FrameLayout[contains(@resource-id,"ui_shared_async_frame_layout") and @index=0] | //android.widget.TextView[contains(@text,"${carouselName}") and contains(@resource-id,"carousel_header_title")]//following-sibling::androidx.recyclerview.widget.RecyclerView[contains(@resource-id,"carousel_products")]/android.widget.FrameLayout[(@resource-id,"ui_shared_async_frame_layout") and @index=0]

  - name: mx.mappings.home.carousel.titleContainer
    identifier: ${APP_PACKAGE}:id/carousel_header_title

  - name: mx.mappings.home.carousel.nameOfCarousel
    identifier: //android.widget.FrameLayout[2]/android.widget.FrameLayout/android.widget.FrameLayout/androidx.recyclerview.widget.RecyclerView/android.view.ViewGroup[3]/android.widget.TextView[1]
