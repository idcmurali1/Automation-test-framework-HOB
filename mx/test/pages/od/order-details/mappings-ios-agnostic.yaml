#======================================================================================================================
#  AUTHOR: Rodrigo Pacheco Cámara (vn53p0i)
#  CREATED: Dic/08/2022
#  REVISION: ---
#
#  Copyright © 2022 Walmart. All rights reserved.
#======================================================================================================================

ios:

  - name: mx.mappings.order-details.backButton
    identifier: //XCUIElementTypeNavigationBar[contains(@name,"Pedido")]//XCUIElementTypeButton[@name="Pedidos"]
  
  - name: mx.mappings.order-details.productContainerByProductName
    identifier: //*[@name="GlassProductList.horizontalStackView" and contains(@label, "${productName}")]/../..
  
  - name: mx.mappings.order-details.elementAtTheTop
    identifier: //XCUIElementTypeStaticText[@name="OrderNumberView.label"]
  
  - name: mx.mappings.order-details.elementInsideCollapsedProductsSection
    identifier: //XCUIElementTypeStaticText[@name="PlusCountLabelView.label"]
  
  - name: mx.mappings.order-details.expandCollapseProductsSectionButton
    identifier: //XCUIElementTypeImage[@name="OrderDetailsHeaderView.icon"]
  
  - name: mx.mappings.order-details.addToCartButtonByProductName
    identifier: //XCUIElementTypeButton[@name="stepper.mainButton" and contains(@label,"${productName}")]
  
  - name: mx.mappings.order-details.mainButtonByProductName
    identifier: //XCUIElementTypeButton[@name="stepper.mainButton" and contains(@label,"${productName}")]
  
  - name: mx.mappings.order-details.increaseButtonByProductName
    identifier: //XCUIElementTypeButton[contains(@label,"${productName}")]/following-sibling::XCUIElementTypeButton[@name="stepper.incrementButton"]
  
  - name: mx.mappings.order-details.decreaseButtonByProductName
    identifier: //XCUIElementTypeButton[contains(@label,"${productName}")]/following-sibling::XCUIElementTypeButton[@name="stepper.decrementButton"]
  
  - name: mx.mappings.order-details.piecesButtonByProductName
    identifier: //XCUIElementTypeButton[@name="stepper.mainButton" and contains(@label,"${productName}")]/parent::XCUIElementTypeOther[@name="GlassStepperView.inner"]/following-sibling::XCUIElementTypeSegmentedControl[@name="weighableItemSelector.addToCartButton"]/XCUIElementTypeButton[@name="Pza(s)"]
  
  - name: mx.mappings.order-details.weightButtonByProductName
    identifier: //XCUIElementTypeButton[@name="stepper.mainButton" and contains(@label,"${productName}")]/parent::XCUIElementTypeOther[@name="GlassStepperView.inner"]/following-sibling::XCUIElementTypeSegmentedControl[@name="weighableItemSelector.addToCartButton"]/XCUIElementTypeButton[@name="Peso"]
  
  - name: mx.mappings.order-details.productUOMSelectorByName
    identifier: //XCUIElementTypeButton[@name="stepper.mainButton" and contains(@label,"${productName}")]/parent::XCUIElementTypeOther[@name="GlassStepperView.inner"]/following-sibling::XCUIElementTypeSegmentedControl[@name="weighableItemSelector.addToCartButton"]
  
  - name: mx.mappings.order-details.mainButtonTextByProductName
    identifier: //XCUIElementTypeButton[@name="stepper.mainButton" and contains(@label,"${productName}")]/XCUIElementTypeStaticText
  
  - name: mx.mappings.order-details.productPriceByProductNameForAssertion
    identifier: //XCUIElementTypeStaticText[contains(@value,"${productName}")]/following-sibling::XCUIElementTypeStaticText[@name="PriceView.primaryPriceLabel" and contains(@label,"$${expectedProductPrice}")]
  
  - name: mx.mappings.order-details.piecesProductCounterByProductName
    identifier: //XCUIElementTypeButton[@name="stepper.mainButton" and contains(@label,"${productName}")]/XCUIElementTypeStaticText[not(contains(@name,"g"))]
  
  - name: mx.mappings.order-details.weightProductCounterByProductName
    identifier: //XCUIElementTypeButton[@name="stepper.mainButton" and contains(@label,"${productName}")]/XCUIElementTypeStaticText[contains(@name,"g")]
  
  - name: mx.mappings.order-details.elementAtTheBottom
    identifier: //XCUIElementTypeButton[@name="Cancelar pedido"] | //XCUIElementTypeImage[@name="Barcode"]
  
  - name: mx.mappings.order-details.subtotalValue
    identifier: //XCUIElementTypeStaticText[contains(@name,"Subtotal")]/XCUIElementTypeStaticText[@name="OrderDetailsBreakdownLine.trailingLabel" and contains(@label,"$${expectedSubtotal}")]
  
  - name: mx.mappings.order-details.subtotalValueForAssertion
    identifier: //XCUIElementTypeStaticText[contains(@name,"Subtotal")]/XCUIElementTypeStaticText[@name="OrderDetailsBreakdownLine.trailingLabel"]
  
  - name: mx.mappings.order-details.discountValue
    identifier: //XCUIElementTypeStaticText[contains(@name,"Descuento")]/XCUIElementTypeStaticText[@name="OrderDetailsBreakdownLine.trailingLabel"]
  
  - name: mx.mappings.order-details.discountValueForAssertion
    identifier: //XCUIElementTypeStaticText[contains(@name,"Descuento")]/XCUIElementTypeStaticText[@name="OrderDetailsBreakdownLine.trailingLabel" and @label="-$${expectedDiscount}"]
  
  - name: mx.mappings.order-details.deliveryFeeValue
    identifier: //XCUIElementTypeStaticText[contains(@name,"Costo de entrega")]/XCUIElementTypeStaticText[@name="OrderDetailsBreakdownLine.trailingLabel"]
  
  - name: mx.mappings.order-details.totalValue
    identifier: //XCUIElementTypeStaticText[contains(@name,"Total")]/XCUIElementTypeStaticText[@name="OrderDetailsBreakdownLine.trailingLabel"]
  
  - name: mx.mappings.order-details.totalValueForAssertion
    identifier: //XCUIElementTypeStaticText[contains(@name,"Total")]/XCUIElementTypeStaticText[@name="OrderDetailsBreakdownLine.trailingLabel" and contains(@label,"$${orderTotal}")]
  
  - name: mx.mappings.order-details.orderNumberForAssertion
    identifier: //XCUIElementTypeStaticText[contains(@name,"Pedido# ${parsedOrderNumber}")]
  
  - name: mx.mappings.order-details.orderedDate
    identifier: //XCUIElementTypeNavigationBar[contains(@name,"Pedido el")]//XCUIElementTypeStaticText[contains(@label,"Pedido el")]
  
  - name: mx.mappings.order-details.orderedDateForAssertion
    identifier: //XCUIElementTypeNavigationBar[@name="${displayedOrderedDate}"]
  
  - name: mx.mappings.order-details.deliveryMethod
    identifier: //XCUIElementTypeStaticText[@name="OrderStatusTrackerView.fulfillmentTypeLabel"]

  - name: mx.mappings.order-details.orderFulfillmentTypeLabel.pickup
    identifier: //*[@name="OrderStatusTrackerView.fulfillmentTypeLabel" and contains(@label,"Pickup")]

  - name: mx.mappings.order-details.orderFulfillmentTypeLabel.delivery
    identifier: //*[@name="OrderStatusTrackerView.fulfillmentTypeLabel" and contains(@label,"a domicilio")]
  
  - name: mx.mappings.order-details.deliverySlotLabel
    identifier: //XCUIElementTypeStaticText[@name="OrderStatusTrackerView.statusMessageLabel"]

  - name: mx.mappings.order-details.walmartExpressBanner
    identifier: //XCUIElementTypeStaticText[@name="OrderStatusTrackerView.statusMessageLabel" and contains(@label,"Walmart Express")]

  - name: mx.mappings.order-details.walmartODBanner
    identifier: //XCUIElementTypeStaticText[@name="OrderStatusTrackerView.statusMessageLabel" and not(contains(@label,"Express"))]

  - name: mx.mappings.order-details.orderStatusBar
    identifier: //XCUIElementTypeOther[@name="LDProgressTracker.contentView"]

  - name: mx.mappings.order-details.orderStatusForAssertion
    identifier: //*[@name="LDProgressTracker.contentView" and contains(@value,"${expectedOrderStatus}")] | //*[@name="OrderStatusTrackerView.statusMessageLabel" and contains(@value,"${expectedOrderStatus}")]

  - name: mx.mappings.order-details.storeName
    identifier: //XCUIElementTypeStaticText[@name="OrderDetailDeliveryAddressView.nameLabel"] | //*[@name= "OrderDetailDeliveryAddressView.titleLabel"]//following-sibling::XCUIElementTypeStaticText[1]

  - name: mx.mappings.order-details.storeAddress
    identifier: //XCUIElementTypeStaticText[@name="OrderDetailDeliveryAddressView.addressLabel"] | //*[@name= "OrderDetailDeliveryAddressView.titleLabel"]//following-sibling::XCUIElementTypeStaticText[2]

  - name: mx.mappings.order-details.homeAddressNameForAssertion
    identifier: //XCUIElementTypeStaticText[@name="OrderDetailDeliveryAddressView.nameLabel" and contains(@label,"${homeAddressName}")]

  - name: mx.mappings.order-details.totalProductsCount
    identifier: //XCUIElementTypeStaticText[@name="OrderDetailsHeaderView.headerLabel"]
  
  - name: mx.mappings.order-details.totalProductsCountForAssertion
    identifier: //XCUIElementTypeStaticText[@name="OrderDetailsHeaderView.headerLabel" and contains(@label,"${expectedProductsCount} artículo")]

  - name: mx.mappings.order-details.orderedQuantityAsPiecesByProductName
    identifier: //*[@name="InfoView.topView" and .//*[@name="FlexibleStackView.leadingLabel" and contains(@value, "${productName}")]]/following-sibling::*[@name="InfoView.centerStack"]//*[@name="CenterInfoView.leftLabel" and not(contains(@label,"$")) and not(contains(@label,"kg"))]

  - name: mx.mappings.order-details.orderedQuantityAsPiecesByProductName
    identifier: //*[@name="InfoView.topView" and .//*[@name="FlexibleStackView.leadingLabel" and contains(@value, "${productName}")]]/following-sibling::*[@name="InfoView.centerStack"]//*[@name="CenterInfoView.leftLabel" and not(contains(@label,"$")) and not(contains(@label,"kg")) and contains(@label,"${expectedOrderedQuantityAsPieces} pz")]

  - name: mx.mappings.order-details.orderedQuantityAsWeightByProductName
    identifier: //*[@name="GlassProductList.infoView" and .//*[@name="FlexibleStackView.leadingLabel" and contains(@value, "${productName}")]]//*[@name= "FlexibleStackView.leadingLabel" and contains(@label, "kg") and not(contains(@label, "$"))]

  - name: mx.mappings.order-details.addToCartTextByProductName
    identifier: //XCUIElementTypeButton[@name="stepper.mainButton" and(contains(@label,"Agregar")) and(contains(@label,"${productName}"))]
  
  - name: mx.mappings.order-details.paymentMethodLabel
    identifier: //*[@type="XCUIElementTypeStaticText" and .//following-sibling::*[@name="OrderDetailPaymentsHeaderView.headerLabel"]]
  
  - name: mx.mappings.order-details.paymentMethodForAssertion
    identifier: //XCUIElementTypeStaticText[@name="OrderDetailPaymentMethodView.amountsLabel" and contains(@label,"${expectedPaymentMethod}")]

  - name: mx.mappings.order-details.productSubtotalByProductName
    identifier: //*[@name="TopInfoView.vStack" and .//*[@name="FlexibleStackView.leadingLabel" and contains(@value, "${productName}")]]//*[@name= "FlexibleStackView.trailingLabel"]

  - name: mx.mappings.order-details.productPriceByProductName
    identifier: //*[@name="GlassProductList.infoView" and .//*[@name="FlexibleStackView.leadingLabel" and contains(@value, "${productName}")]]//*[@name= "FlexibleStackView.leadingLabel" and contains(@label, "$")]
  
  - name: mx.mappings.order-details.productUnitPriceByProductName
    identifier: //XCUIElementTypeStaticText[contains(@value,"${productName}")]/preceding-sibling::XCUIElementTypeStaticText[@name="CenterInfoView.leftLabel"]

  - name: mx.mappings.order-details.productsDetailsExpandedButton
    identifier: //*[@name= "OrderDetailsTableViewController.tableView"]//XCUIElementTypeButton[@value= "Expandido"]

  - name: mx.mappings.order-details.discountIndicator
    identifier: //XCUIElementTypeStaticText[contains(@name, "Descuento")]//*[@name= "OrderDetailsBreakdownLine.trailingLabel" and not(contains(@label, "$0.00"))]

  - name: mx.mappings.order-details.orderNumberLabel
    identifier: //*[contains(@name,"OrderNumberView.label")]

  - name: mx.mappings.order-details.deliveryMethodLabel
    identifier: //*[contains(@name,"OrderStatusTrackerView.fulfillmentTypeLabel")]

  - name: mx.mappings.order-details.statusMessageLabel
    identifier: OrderStatusTrackerView.statusMessageLabel || LDProgressTrackerLabelGroup.labelStackView

  - name: mx.mappings.order-details.returnAndCancellationLink
    identifier: //*[contains(@name,"consulta devoluciones y cancelaciones")]

  - name: mx.mappings.order-details.orderDeliveryInfoLabel
    identifier: //*[contains(@name,"OrderDetailDeliveryAddressView.titleLabel")]

  - name: mx.mappings.order-details.orderProductsQuantityLabel
    identifier: //*[contains(@name,"OrderDetailsHeaderView.headerLabel")]

  - name: mx.mappings.order-details.reorderButton
    identifier: //*[contains(@name,"Reordenar todo")]

  - name: mx.mappings.order-details.subtotalLabel
    identifier: //*[contains(@name,"Subtotal, $")]

  - name: mx.mappings.order-details.discountLabel
    identifier: //*[contains(@name,"Descuento, ") and contains(@name,"$")]

  - name: mx.mappings.order-details.deliveryFeeLabel
    identifier: //*[contains(@name,"Costo de entrega, $")] | //*[contains(@name,"Costo de envío, $")]

  - name: mx.mappings.order-details.totalLabel
    identifier: //*[contains(@name,"Total, $")]

  - name: mx.mappings.order-details.orderCancelledLabel
    identifier: //*[contains(@resource-id, "status_message") and (@text,"Cancelado")]

  - name: mx.mappings.order-details.expandProductDetailsSectionButton # Click to expand.
    identifier: //*[contains(@name, "artículo") and @value= "Oculto"]

  - name: mx.mappings.order-details.productNameLabel
    identifier: (//*[@name="InfoView.topView"]//*[@name="FlexibleStackView.leadingLabel"])[${productIndex}]
  
  - name: mx.mappings.order-details.productNameLabelByName
    identifier: //*[@name="FlexibleStackView.leadingLabel" and @label="${productName}"]

  - name: mx.mappings.order-details.productQuantityLabel
    identifier: (//*[@name="FlexibleStackView.leadingLabel"])[3]

  - name: mx.mappings.order-details.returnsAndCancellationsLink
    identifier: //*[@name= "consulta devoluciones y cancelaciones"]

  - name: mx.mappings.order-details.cancelOrderButton
    identifier: DynamicLDButton_cta || Cancelar pedido

  - name: mx.mappings.order-details.cancel-order-popup.popupTitle
    identifier: ¿Por qué te gustaría cancelar esto? || ¿Por qué motivo deseas cancelar? || ¿Por qué quieres cancelar?

  - name: mx.mappings.order-details.cancel-order-popup.anyReasonRadioButton
    identifier: CancellationReasonView.reasonRadioButton

  - name: mx.mappings.order-details.cancel-order-popup.reasonRadioButton
    identifier: //*[@name="CancellationReasonView.reasonRadioButton" and @label="${reason}"]

  - name: mx.mappings.order-details.cancel-order-popup.cancelOrderButton
    identifier: CancellationCTAView_cta_button
