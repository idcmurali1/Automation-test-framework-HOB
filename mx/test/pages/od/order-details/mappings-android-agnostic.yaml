#======================================================================================================================
#  AUTHOR: Rodrigo Pacheco Cámara (vn53p0i)
#  CREATED: Dic/07/2022
#  REVISION: ---
#
#  Copyright © 2022 Walmart. All rights reserved.
#======================================================================================================================

android:

  - name: mx.mappings.order-details.pageContainer
    identifier: com.walmart.mg.debug:id/rootFragmentContainer

  - name: mx.mappings.order-details.backButton
    identifier: //*[contains(@resource-id,"platform_sdk_toolbar_navigation_button")]
  
  - name: mx.mappings.order-details.productContainerByProductName
    identifier: //android.widget.TextView[contains(@text,"${productName}")]/parent::android.view.ViewGroup/parent::android.view.ViewGroup[contains(@resource-id,"description_view")]/parent::android.view.ViewGroup[contains(@resource-id,"item_container")]
  
  - name: mx.mappings.order-details.elementAtTheTop
    identifier: //android.widget.TextView[contains(@resource-id,"order_number")]
  
  - name: mx.mappings.order-details.elementAtTheBottom
    identifier: //*[@resource-id="com.walmart.mg.debug:id/total_label"]
  
  - name: mx.mappings.order-details.productsSection
    identifier: //*[contains(@resource-id,"items_header")]
  
  - name: mx.mappings.order-details.collapseProductsSectionButton
    identifier: //android.widget.ImageView[@content-desc="ampliado, toca dos veces para ocultar" and contains(@resource-id,"item_list_expand_button")]
  
  - name: mx.mappings.order-details.productsExpandedListContainer
    identifier: ${APP_PACKAGE}:id/expanded_list_container
  
  - name: mx.mappings.order-details.expandProductsSectionButton
    identifier: ${APP_PACKAGE}:id/item_list_expand_button
  
  - name: mx.mappings.order-details.addToCartButtonByProductName
    identifier: //android.widget.FrameLayout[contains(@resource-id,"add_to_cart")]//android.widget.TextView[contains(@content-desc,"${productName}")]
  
  - name: mx.mappings.order-details.addToCartTextByProductName
    identifier: //android.widget.TextView[contains(@resource-id,"textview_count") and contains(@content-desc,"${productName}") and(@text="Agregar")]
  
  - name: mx.mappings.order-details.mainButtonByProductName
    identifier: //android.widget.TextView[contains(@content-desc,"${productName}")]/parent::android.view.ViewGroup/parent::android.widget.FrameLayout[contains(@resource-id,"add_to_cart")]
  
  - name: mx.mappings.order-details.increaseButtonByProductName
    identifier: //android.widget.TextView[contains(@content-desc,"${productName}")]/following-sibling::android.widget.ImageButton[contains(@resource-id,"button_plus")]
  
  - name: mx.mappings.order-details.decreaseButtonByProductName
    identifier: //android.widget.TextView[contains(@content-desc,"${productName}")]/preceding-sibling::android.widget.ImageButton[contains(@resource-id,"button_minus")]
  
  - name: mx.mappings.order-details.piecesButtonByProductName
    identifier: //android.widget.TextView[contains(@text,"${productName}")]/parent::android.view.ViewGroup/parent::android.view.ViewGroup[contains(@resource-id,"description_view")]/following-sibling::android.view.ViewGroup[contains(@resource-id,"unit_of_measure_selector_view")]//android.widget.TextView[contains(@resource-id,"tv_unit_by_unit")]
  
  - name: mx.mappings.order-details.weightButtonByProductName
    identifier: //android.widget.TextView[contains(@text,"${productName}")]/parent::android.view.ViewGroup/parent::android.view.ViewGroup[contains(@resource-id,"description_view")]/following-sibling::android.view.ViewGroup[contains(@resource-id,"unit_of_measure_selector_view")]//android.widget.TextView[contains(@resource-id,"tv_unit_by_weight")]
  
  - name: mx.mappings.order-details.productUOMSelectorByName
    identifier: //android.widget.TextView[contains(@text,"${productName}")]/parent::android.view.ViewGroup/parent::android.view.ViewGroup[contains(@resource-id,"description_view")]/following-sibling::android.view.ViewGroup[contains(@resource-id,"unit_of_measure_selector_view")]
  
  - name: mx.mappings.order-details.piecesProductCounterByProductName
    identifier: //android.widget.TextView[contains(@resource-id,"textview_count") and contains(@content-desc,"${productName}") and not(contains(@text, "g"))]
  
  - name: mx.mappings.order-details.weightProductCounterByProductName
    identifier: //android.widget.TextView[contains(@resource-id,"textview_count") and contains(@content-desc,"${productName}") and(contains(@text, "g"))]

  - name: mx.mappings.order-details.productSubtotalByProductName
    identifier: //android.view.ViewGroup[contains(@resource-id,"item_container") and .//android.widget.TextView[contains(@resource-id,"description") and contains(@text,"${productName}")]]//android.widget.TextView[ends-with(@resource-id,"price")]

  - name: mx.mappings.order-details.productPriceByProductName
    identifier: //android.view.ViewGroup[contains(@resource-id,"item_container") and .//android.widget.TextView[contains(@resource-id,"description") and contains(@text,"${productName}")]]//android.widget.TextView[ends-with(@resource-id,"price_per_unit")]

  - name: mx.mappings.order-details.productPriceByProductNameForAssertion
    identifier: //android.widget.TextView[contains(@text,"${productName}")]/parent::android.view.ViewGroup/parent::android.view.ViewGroup[contains(@resource-id,"description_view")]/following-sibling::android.view.ViewGroup//android.widget.TextView[contains(@resource-id,"price") and contains(@text,"$${expectedProductPrice}")]
  
  - name: mx.mappings.order-details.subtotalValue
    identifier: //android.view.ViewGroup[contains(@resource-id,"pos_summary")]//android.widget.TextView[contains(@resource-id,"/sub_total_value")]
  
  - name: mx.mappings.order-details.subtotalValueForAssertion
    identifier: //android.view.ViewGroup[contains(@resource-id,"pos_summary")]//android.widget.TextView[contains(@resource-id,"/sub_total_value") and contains(@text,"$${expectedSubtotal}")]
  
  - name: mx.mappings.order-details.discountValue
    identifier: //android.view.ViewGroup[contains(@resource-id,"pos_summary")]//android.widget.TextView[contains(@resource-id,"discount_value")]
  
  - name: mx.mappings.order-details.discountValueForAssertion
    identifier: //android.view.ViewGroup[contains(@resource-id,"pos_summary")]//android.widget.TextView[contains(@resource-id,"discount_value") and @text="-$${expectedDiscount}"]

  - name: mx.mappings.order-details.productUnitPriceByProductName
    identifier: //android.view.ViewGroup[contains(@resource-id,"item_container") and .//android.widget.TextView[contains(@resource-id,"description") and contains(@text,"${productName}")]]//android.widget.TextView[ends-with(@resource-id,"price_per_unit")]
  
  - name: mx.mappings.order-details.deliveryFeeValue
    identifier: //android.view.ViewGroup[contains(@resource-id,"pos_summary")]//android.widget.TextView[contains(@resource-id,"fee_value")]
  
  - name: mx.mappings.order-details.deliveryFeeForAssertion
    identifier: //android.view.ViewGroup[contains(@resource-id,"pos_summary")]//android.widget.TextView[contains(@resource-id,"fee_value") and contains(@text,"$${expectedDeliveryFee}")]
  
  - name: mx.mappings.order-details.totalValue
    identifier: //android.view.ViewGroup[contains(@resource-id,"pos_summary")]//android.widget.TextView[contains(@resource-id,"/total_value")]
  
  - name: mx.mappings.order-details.totalValueForAssertion
    identifier: //android.view.ViewGroup[contains(@resource-id,"pos_summary")]//android.widget.TextView[contains(@resource-id,"/total_value") and contains(@text,"$${orderTotal}")]
  
  - name: mx.mappings.order-details.orderNumber
    identifier: com.walmart.mg.debug:id/order_number
  
  - name: mx.mappings.order-details.orderNumberForAssertion
    identifier: //android.widget.TextView[contains(@resource-id,"/order_number") and contains(@text,"Pedido# ${parsedOrderNumber}")]
  
  - name: mx.mappings.order-details.orderedDate
    identifier: //*[contains(@resource-id,"platform_sdk_toolbar_title")]
    
  - name: mx.mappings.order-details.orderFulfillmentTypeLabel.pickup
    identifier: //*[contains(@resource-id,"status_tracker")]//android.widget.TextView[contains(@resource-id,"status_title") and contains(@text,"Pickup")]

  - name: mx.mappings.order-details.orderFulfillmentTypeLabel.delivery
    identifier: //*[contains(@resource-id,"status_tracker")]//android.widget.TextView[contains(@resource-id,"status_title") and contains(@text,"a domicilio")]

  - name: mx.mappings.order-details.deliverySlotLabel
    identifier: //android.view.ViewGroup[contains(@resource-id,"status_tracker")]//android.widget.TextView[contains(@resource-id,"status_message")]
  
  - name: mx.mappings.order-details.walmartODBanner
    identifier: //android.view.ViewGroup[contains(@resource-id,"status_tracker")]//android.widget.TextView[contains(@resource-id,"status_message") and contains(@text,"Walmart") and not(contains(@text,"Express"))]
  
  - name: mx.mappings.order-details.walmartExpressBanner
    identifier: //android.view.ViewGroup[contains(@resource-id,"status_tracker")]//android.widget.TextView[contains(@resource-id,"status_message") and contains(@text,"Walmart Express")]
  
  - name: mx.mappings.order-details.orderStatusBar
    identifier: //android.view.ViewGroup[contains(@resource-id,"status_tracker")]//android.view.View[contains(@resource-id,"dot_tracker_view")]
  
  - name: mx.mappings.order-details.orderStatusForAssertion
    identifier: //android.view.ViewGroup[contains(@resource-id,"status_tracker")]//android.view.View[contains(@resource-id,"dot_tracker_view") and contains(@content-desc,"${expectedOrderStatus}")] | //*[contains(@resource-id,"dot_tracker_view") and contains(@content-desc,"${expectedOrderStatus}")]
  
  # NOTE:
  #   Currently, the Store Name is being displayed in the same Store Address element. That's why we are using the same locator
  #   as 'mx.mappings.order-details.storeAddress'. The Store Name is the starting substring of the element and the Store Address the
  #   rest of the string.
  - name: mx.mappings.order-details.storeName
    identifier: //android.widget.TextView[contains(@resource-id,"pickup_store_address")]
    # identifier: //android.view.ViewGroup[contains(@resource-id,"pickup_info")]/android.widget.TextView[contains(@resource-id,"pickup_store_name")]
  
  - name: mx.mappings.order-details.storeAddress
    identifier: //android.widget.TextView[contains(@resource-id,"pickup_store_address")]

  - name: mx.mappings.order-details.homeAddressName
    identifier: //android.view.ViewGroup[contains(@resource-id,"delivery_info")]//android.widget.TextView[contains(@resource-id,"delivery_customer_name")]

  - name: mx.mappings.order-details.homeAddressNameForAssertion
    identifier: //android.view.ViewGroup[contains(@resource-id,"delivery_info")]//android.widget.TextView[contains(@resource-id,"delivery_customer_name") and contains(@text,"${homeAddressName}")]

  - name: mx.mappings.order-details.homeAddress
    identifier: //android.view.ViewGroup[contains(@resource-id,"delivery_info")]//android.widget.TextView[contains(@resource-id,"delivery_customer_address")]

  - name: mx.mappings.order-details.totalProductsCount
    identifier: //android.widget.TextView[contains(@resource-id,"cluster_header")]

  - name: mx.mappings.order-details.totalProductsCountForAssertion
    identifier: //android.widget.TextView[contains(@resource-id,"cluster_header") and contains(@text,"${expectedProductsCount} artículo")]

  - name: mx.mappings.order-details.orderedQuantityAsPiecesByProductName
    identifier: //android.widget.TextView[contains(@text,"${productName}")]/following-sibling::android.widget.TextView[contains(@resource-id,"quantity") and(not(contains(@text,"kg")))]

  - name: mx.mappings.order-details.orderedQuantityAsPiecesByProductNameForAssertion
    identifier: //android.widget.TextView[contains(@text,"${productName}")]/following-sibling::android.widget.TextView[contains(@resource-id,"quantity") and(not(contains(@text,"kg")) and contains(@text,"${expectedOrderedQuantityAsPieces} pz"))]

  - name: mx.mappings.order-details.orderedQuantityAsWeightByProductName
    identifier: //android.widget.TextView[contains(@text,"${productName}")]/following-sibling::android.widget.TextView[contains(@resource-id,"quantity") and(not(contains(@text,"pz")))]

  - name: mx.mappings.order-details.paymentMethodLabel
    identifier: //*[contains(@resource-id,"id/payments_info")]//*[contains(@resource-id,"id/description")]

  - name: mx.mappings.order-details.paymentMethodForAssertion
    identifier: //androidx.cardview.widget.CardView[contains(@resource-id,"payments_info_container")]//android.widget.TextView[contains(@resource-id,"values") and contains(@text,"${expectedPaymentMethod}")]

  - name: mx.mappings.order-details.productsDetailsExpandedButton
    identifier: //android.widget.ImageView[contains(@resource-id,"item_list_expand_button") and contains(@content-desc,"ampliado")] | //*[contains(@resource-id,"items_header") and contains(@content-desc,"Expandido")]

  - name: mx.mappings.order-details.discountIndicator
    identifier: //*[@resource-id="com.walmart.mg.debug:id/discount_value" and not(contains(@text, "$0.00"))]

  - name: mx.mappings.order-details.productNameLabel
    identifier: ${APP_PACKAGE}:id/description
  
  - name: mx.mappings.order-details.productNameLabelByName
    identifier: //*[contains(@resource-id, "description") and contains(@text, "${productName}")]

  - name: mx.mappings.order-details.orderNumberLabel
    identifier: //*[contains(@resource-id,"order_number")]

  - name: mx.mappings.order-details.deliveryMethodLabel
    identifier: //*[contains(@resource-id,"status_title")]

  - name: mx.mappings.order-details.statusMessageLabel
    identifier: //*[contains(@resource-id,"status_message")]

  - name: mx.mappings.order-details.returnAndCancellationLink
    identifier: //*[contains(@text,"consulta devoluciones y cancelaciones")]

  - name: mx.mappings.order-details.orderDeliveryInfoLabel
    identifier: //*[contains(@resource-id,"delivery_info")] | //*[contains(@resource-id,"pickup_info")]

  - name: mx.mappings.order-details.orderProductsQuantityLabel
    identifier: //*[contains(@resource-id,"cluster_header")]

  - name: mx.mappings.order-details.reorderButton
    identifier: //*[contains(@resource-id,"reorder_button")]

  - name: mx.mappings.order-details.subtotalLabel
    identifier: //*[contains(@resource-id,"sub_total_label")]

  - name: mx.mappings.order-details.discountLabel
    identifier: //*[contains(@resource-id,"discount_contents")]

  - name: mx.mappings.order-details.deliveryFeeLabel
    identifier: //*[contains(@resource-id,"fee_contents")]

  - name: mx.mappings.order-details.totalLabel
    identifier: //*[@resource-id="com.walmart.mg.debug:id/total_label"] | //*[@resource-id="com.mx.walmart.bodega.debug:id/total_label"] 

  - name: mx.mappings.order-details.cancelItems
    identifier: //*[contains(@resource-id,"order_detail_configurable_cta_underline_button")]

  - name: mx.mappings.order-details.cancelOrderButton
    identifier: ${appPackage}:id/cancel_cta

  - name: mx.mappings.order-details.cancel-order-popup.popupTitle
    identifier: //*[@text="¿Por qué te gustaría cancelar esto?"] | //*[@text="¿Por qué motivo deseas cancelar?"]

  - name: mx.mappings.order-details.cancel-order-popup.anyReasonRadioButton
    identifier: ${appPackage}:id/radiobutton_cancellation_reason

  - name: mx.mappings.order-details.cancel-order-popup.reasonRadioButton
    identifier: //*[contains(@resource-id,"id/radiobutton_cancellation_reason") and @text="${reason}"]

  - name: mx.mappings.order-details.cancel-order-popup.cancelOrderButton
    identifier: ${appPackage}:id/cancellation_reason_action_button

  - name: mx.mappings.order-details.cancelation-pop.cancelationFirstOption
    identifier: //*[@resource-id,"radiobutton_cancellation_reason" and @text="Necesito cambiar el horario de entrega"]

  - name: mx.mappings.order-details.cancelation-pop.confirmCancelationButton
    identifier: //*[contains(@resource-id,"cancellation_reason_action_button")]

  - name: mx.mappings.order-details.cancelledOrderStatusLabel
    identifier: //*[contains(@resource-id,"status_message") and contains(@text,"Cancelado")]

  - name: mx.mappings.order-details.invoiceNotAvailableLabel
    identifier: //*[contains(@resource-id,"invoice_instruction") and contains(@text,"no puedes facturar")]