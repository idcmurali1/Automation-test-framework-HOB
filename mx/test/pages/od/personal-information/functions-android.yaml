#======================================================================================================================
#  AUTHOR: Francisco Javier Ramírez Hernández (vn53vq4)
#  CREATED: Jan/17/2023
#  REVISION: ---
#
#  Copyright © 2022 Walmart. All rights reserved.
#======================================================================================================================

functions:
  
  # Description: This function edits user's fields
  # Param ${userFirstName} [Mandatory] User's first name
  # Param ${userLastName} [Mandatory] User's last name
  - name: mx.functions.personal-information.editUser
    platform: android
    flow: 
        - log:
            message: "Tapping on edit user... "
            color: CYAN
        - click:
            identifier: mx.mappings.personal-information.editUserButton
        - enterText:
            identifier: mx.mappings.personal-information.firstNameField
            clearField: true
            string: ${userFirstName}
        - enterText:
            identifier: mx.mappings.personal-information.lastNameField
            clearField: true
            string: ${userLastName}
        - hideKeyboard: true
        - click:
            identifier: mx.mappings.personal-information.saveButton
        - log:
            message: User first and last name updated successfully!
            color: CYAN
    
  #--------------------------------------------------------------------------------------------------------------------
  
  # Description: This function add user's phone number
  # Param ${codeNumberOption} [Mandatory] Number code (Lada)
  # Param ${userPhoneNumber} [Mandatory] User phone number
  - name: mx.functions.personal-information.addPhoneNumber
    platform: android
    flow: 
        - log:
           message: "Adding user phone number... "
           color: CYAN
        - click:
           identifier: mx.mappings.personal-information.addPhoneNumberButton
        - click:
            identifier: mx.mappings.personal-information.codeNumberField
        - click:
            identifier: mx.mappings.personal-information.codeNumberOption
        - enterText:
            identifier: mx.mappings.personal-information.phoneNumberField
            clearField: true
            string: ${userPhoneNumber}
        - click:
            identifier: mx.mappings.personal-information.saveButton
        - log:    
           message: User phone number added successfully!
           color: CYAN
    
  #--------------------------------------------------------------------------------------------------------------------
  
  # Description: This function edits the user phone number
  # Param ${codeNumberOption} [Mandatory] Number code (Lada)
  # Param ${userPhoneNumber} [Mandatory] User phone number
  - name: mx.functions.personal-information.editPhoneNumber
    platform: android
    flow: 
        - log:
           message: "Editing user's phone number... "
           color: CYAN
        - click:
           identifier: mx.mappings.personal-information.editPhoneNumberButton
        - click:
            identifier: mx.mappings.personal-information.codeNumberField
        - click:
            identifier: mx.mappings.personal-information.codeNumberOption
        - enterText:
            identifier: mx.mappings.personal-information.phoneNumberField
            clearField: true
            string: ${userPhoneNumber}
        - click:
            identifier: mx.mappings.personal-information.saveButton
        - log:
            message: User phone number updated successfully!
            color: CYAN

  #--------------------------------------------------------------------------------------------------------------------
  
  # Description: This function changes the current user password
  # Param ${currentPassword} [Mandatory] Current password
  # Param ${newPassword} [Mandatory] New Password
  - name: mx.functions.personal-information.changePassword
    platform: android
    flow: 
      - log:
          message: Changing password... 
          color: CYAN
      - click:
          identifier: mx.mappings.personal-information.editPasswordButton
      - enterText:
          identifier: mx.mappings.personal-information.currentPasswordField
          clearField: true
          string: ${currentPassword}
      - enterText:
          identifier: mx.mappings.personal-information.newPasswordField
          clearField: true
          string: ${newPassword}
      - click:
            identifier: mx.mappings.personal-information.pageTitle
      - click:
            identifier: mx.mappings.personal-information.saveButton
      - log:
          message: Password updated successfully!
          color: CYAN
  
  #--------------------------------------------------------------------------------------------------------------------
  
  # Description: This function selects the user gender
  # Param ${userGender} [Mandatory] User gender
  - name: mx.functions.personal-information.addGender
    platform: android
    flow: 
      - log:
          message: Selecting the user gender...
          color: CYAN
      - click:
          identifier: mx.mappings.personal-information.addGenderButton
      - click:
          identifier: mx.mappings.personal-information.genderField
      - click:
          identifier: mx.mappings.personal-information.genderOption
      - click:
            identifier: mx.mappings.personal-information.saveButton
      - log:
          message: User gender added successfully!
          color: CYAN