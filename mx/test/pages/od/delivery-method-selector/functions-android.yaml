#======================================================================================================================
#  AUTHOR: Rodrigo Pacheco Cámara (vn53p0i)
#  CREATED: Oct/6/2023
#  REVISION: ---
#
#  Copyright © 2023 Walmart. All rights reserved.
#======================================================================================================================

functions:

  # Description: This function opens the store selector on from the delivery method selector widget (old and new).
  # Author: Rodrigo Pacheco Cámara (vn53p0i)
  - name: mx.functions.delivery-method-selector.tapStoreSelector
    platform: android
    flow:
      - if:
          identifier:
            present:
              - identifier: mx.mappings.home.storeSelectorButton
          then:
            - click: 
               identifier: mx.mappings.home.storeSelectorButton
          else:
            - executeFunction:
                name: mx.functions.delivery-method-selector.expandSelectorIfCollapsed
            - executeFunction:
                name: mx.functions.delivery-method-selector.tapPickupButtonIfNotSelected
            - click:
                identifier: mx.mappings.delivery-method-selector.pickupStoreSelectorButton
      - log: 
          message: "End function: delivery-store-selector.tapStoreSelector"
          color: CYAN

