#======================================================================================================================
#    AUTHOR: Francisco Javier Ramirez Hernandez
#   CREATED: Mar/31/2023
#  REVISION: ---
#
#  Copyright Â© 2023 Walmart. All rights reserved.
#======================================================================================================================

functions:

#--------------------------------------------------------------------------------------------------------------------
   
  # Description: This method selects a card by last 4 digits termination.
  # Param: ${last4DigitsTermination} [Mandatory] User's card last 4 digits termination (E.g: x x x x)
  - name: mx.functions.edit-card-form.selectCardByLast4Digits
    platform: ios
    flow: 
      - if: 
          identifier:
            present:
              - identifier: mx.mappings.wallet.add-card.cardWithLast4DigitsSelected
          then:
            - log:
                message: "End function: edit-form.selectCardByLast4Digits (card is already selected)"
                color: BLUE
          else:
            - if:
                identifier:
                  present:
                    - identifier: mx.mappings.wallet.add-card.selectRadioButtonByLast4Digits
                then:
                  - click:
                      identifier: mx.mappings.wallet.add-card.selectRadioButtonByLast4Digits
                  - log:
                      message: "End function: edit-form.selectCardByLast4Digits"
                      color: BLUE
                else:
                  - failTest:
                      message: "Error, cannot select card with termination: ${last4DigitsTermination}"
