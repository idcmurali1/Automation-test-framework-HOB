#======================================================================================================================
#    AUTHOR: Rodrigo Pacheco Cámara (vn53p0i)
#   CREATED: Oct/18/2022
#  REVISION: ---
#
#  Copyright © 2022 Walmart. All rights reserved.
#======================================================================================================================

functions:

## ANDROID ------------------------------------------------------------------------------------------------------------
  
  # Description: This function performs a small drag action that shows the bottom menu if not present.
  # EDITOR: Rodrigo Pacheco (vn53p0i)
  - name: mx.functions.bottom-menu.showBottomMenu
    platform: android
    flow:
      - log:  
          message: Checking if bottom menu is already displayed...
          color: GREEN
      - if:
          identifier:
            notPresent:
              - identifier: mx.mappings.bottom-menu.bottomMenuContainer
          then:
            - drag:
                from:
                  x: 50%
                  y: 50%
                to:
                  x: 50%
                  y: 55%
            - log:
                message: Bottom Menu now displayed.
                color: GREEN
          else:
            - log:
                message: Bottom Menu already displayed.
                color: GREEN
      - log:
          message: "End function: bottom-menu.showBottomMenu"
          color: BLUE
  
  # -------------------------------------------------------------------------------------------------------------------
  
  - name: mx.functions.bottom-menu.tapDepartments
    platform: android
    flow:
      - executeFunction:
            name: mx.functions.bottom-menu.showBottomMenu
      - click:
          identifier: mx.mappings.bottom-menu.departmentsButton
      - log:
          message: "End function: bottom-menu.tapDepartments"
          color: BLUE

  # -------------------------------------------------------------------------------------------------------------------

  # Description: This method tries to hide the bottom menu and centers into an specific element if provide
  # AUTHOR: Octavio Cabrales Zárate (vn53g23)
  # EDITOR: Rodrigo Pacheco C. (vn53g23)
  - name: mx.functions.bottom-menu.hideBottomMenu
    platform: android
    flow:
      - if:
          identifier:
            present:
              - identifier: mx.mappings.bottom-menu.bottomMenuContainer
          then:
            - drag:
                from:
                  x: 50%
                  y: 55%
                to:
                  x: 50%
                  y: 50%
          else:
            - log:
                message: "Bottom Menu is already hidden."
                color: GREEN
      - log:
          message: "End function: bottom-menu.hideBottomMenu"
          color: BLUE
