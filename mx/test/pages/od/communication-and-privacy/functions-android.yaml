#======================================================================================================================
#    AUTHOR: Octavio Cabrales Zárate (vn53g23)
#   CREATED: Jan/24/2023
#  REVISION: ---
#
#  Copyright © 2023 Walmart. All rights reserved.
#======================================================================================================================

functions:

  # Description: This function expand email options dropdown
  - name: mx.functions.communication-and-privacy.expandEmailOptions
    platform: android
    flow:
      - log:
          message: Expanding email dropdown options
          color: CYAN
      - if:
          identifier:
            notPresent:
              - identifier: mx.mappings.communication-and-privacy.acceptEmailsToggleButton
          then:
            - click:
                identifier: mx.mappings.communication-and-privacy.expandCollapseEmailsOptionButton
          else:
            - log:
                message: Emails dropdown is already expanded
                color: CYAN
  
  # -------------------------------------------------------------------------------------------------------------------
  
  # Description: This function goes back to account page
  - name: mx.functions.communication-and-privacy.tapBack
    platform: android
    flow:
      - log:
          message: Going back to account page
          color: CYAN
      - goBack: true
 
  # -------------------------------------------------------------------------------------------------------------------
 
  # Description: This function expand email options dropdown
  - name: mx.functions.communication-and-privacy.expandPhoneOptions
    platform: android
    flow:
      - log:
          message: Expanding phone options dropdown
          color: CYAN
      - if:
          identifier:
            notPresent:
              - identifier: mx.mappings.communication-and-privacy.acceptCallsToggleButton
          then:
            - click:
                identifier: mx.mappings.communication-and-privacy.expandCollapsePhoneOptionButton
          else:
            - log:
                message: Phone options dropdown is already expanded
                color: CYAN
                
  # -------------------------------------------------------------------------------------------------------------------
  
  # Description: This function collapses email options dropdown
  - name: mx.functions.communication-and-privacy.collapseEmailOptions
    platform: android
    flow:
      - log:
          message: Collapsing email dropdown options
          color: CYAN
      - if:
          identifier:
            present:
              - identifier: mx.mappings.communication-and-privacy.acceptEmailsToggleButton
          then:
            - click:
                identifier: mx.mappings.communication-and-privacy.expandCollapseEmailsOptionButton
          else:
            - log:
                message: Emails dropdown is already collapsed
                color: CYAN
 
  # -------------------------------------------------------------------------------------------------------------------
  
  # Description: This function collapses phone options dropdown
  - name: mx.functions.communication-and-privacy.collapsePhoneOptions
    platform: android
    flow:
      - log:
          message: Collapsing phone dropdown options
          color: CYAN
      - if:
          identifier:
            present:
              - identifier: mx.mappings.communication-and-privacy.acceptCallsToggleButton
          then:
            - click:
                identifier: mx.mappings.communication-and-privacy.expandCollapsePhoneOptionButton
          else:
            - log:
                message: Phone dropdown is already collapsed
                color: CYAN
 
  # -------------------------------------------------------------------------------------------------------------------
  
  # Description: This function enables the emails about products reception
  - name: mx.functions.communication-and-privacy.markEmailAboutProductsOption
    platform: android
    flow:
      - executeFunction:
          name: mx.functions.utils.togglingOption
          params:
            - name: previousState
              string: false
            - name: togglingElement
              string: mx.mappings.communication-and-privacy.acceptEmailsToggleButton
            - name: startMessage
              string: Enabling reception of emails about products
            - name: endMessage
              string: Emails about products reception has been enabled
            - name: alternateEndMessage
              string: Emails about products reception is already enabled
 
  # -------------------------------------------------------------------------------------------------------------------
  
  # Description: This function enables email reception
  - name: mx.functions.communication-and-privacy.enableEmailReception
    platform: android
    flow:
      - executeFunction:
          name: mx.functions.utils.togglingOption
          params:
            - name: previousState
              string: false
            - name: togglingElement
              string: mx.mappings.communication-and-privacy.acceptEmailsToggleButton
            - name: startMessage
              string: Enabling email reception
            - name: endMessage
              string: Email reception enabled
            - name: alternateEndMessage
              string: Email reception is already enabled
 
  # -------------------------------------------------------------------------------------------------------------------
 
  # Description: This function disables the emails about products reception
  - name: mx.functions.communication-and-privacy.unmarkEmailAboutProductsOption
    platform: android
    flow:
      - executeFunction:
          name: mx.functions.utils.togglingOption
          params:
            - name: previousState
              string: true
            - name: togglingElement
              string: mx.mappings.communication-and-privacy.emailAboutProductsCheckbox
            - name: startMessage
              string: Disabling reception of emails about products
            - name: endMessage
              string: Emails about products reception has been disabled
            - name: alternateEndMessage
              string: Emails about products reception is already disabled
 
  # -------------------------------------------------------------------------------------------------------------------
  
  # Description: This function disables email reception
  - name: mx.functions.communication-and-privacy.disableEmailReception
    platform: android
    flow:
      - executeFunction:
          name: mx.functions.utils.togglingOption
          params:
            - name: previousState
              string: true
            - name: togglingElement
              string: mx.mappings.communication-and-privacy.acceptEmailsToggleButton
            - name: startMessage
              string: Disabling email reception
            - name: endMessage
              string: Email reception disabled
            - name: alternateEndMessage
              string: Email reception is already disabled
 
  # -------------------------------------------------------------------------------------------------------------------
  
  # Description: This function enables reception of email about promotions
  - name: mx.functions.communication-and-privacy.markEmailAboutPromotionsOption
    platform: android
    flow:
      - executeFunction:
          name: mx.functions.utils.togglingOption
          params:
            - name: previousState
              string: false
            - name: togglingElement
              string: mx.mappings.communication-and-privacy.acceptCallsToggleButton
            - name: startMessage
              string: Enabling email reception about promotions
            - name: endMessage
              string: Promotions emails reception enabled
            - name: alternateEndMessage
              string: Promotions emails reception is already enabled
 
  # -------------------------------------------------------------------------------------------------------------------
  
  # Description: This function enables phone communication
  - name: mx.functions.communication-and-privacy.enablePhoneCommunication
    platform: android
    flow:
      - executeFunction:
          name: mx.functions.utils.togglingOption
          params:
            - name: previousState
              string: false
            - name: togglingElement
              string: mx.mappings.communication-and-privacy.acceptCallsToggleButton
            - name: startMessage
              string: Enabling phone communication
            - name: endMessage
              string: Phone communication is enabled
            - name: alternateEndMessage
              string: Phone communication is already enabled
 
  # -------------------------------------------------------------------------------------------------------------------
  
  # Description: This function disables phone communication
  - name: mx.functions.communication-and-privacy.disablePhoneCommunication
    platform: android
    flow:
      - executeFunction:
          name: mx.functions.utils.togglingOption
          params:
            - name: previousState
              string: true
            - name: togglingElement
              string: mx.mappings.communication-and-privacy.acceptCallsToggleButton
            - name: startMessage
              string: Disabling phone communication
            - name: endMessage
              string: Phone communication is disabled
            - name: alternateEndMessage
              string: Phone communication is already disabled
  
  # -------------------------------------------------------------------------------------------------------------------
 
  # Description: This function disables reception of email about promotions
  - name: mx.functions.communication-and-privacy.unmarkEmailAboutPromotionsOption
    platform: android
    flow:
      - executeFunction:
          name: mx.functions.utils.togglingOption
          params:
            - name: previousState
              string: true
            - name: togglingElement
              string: mx.mappings.communication-and-privacy.emailAboutPromotionsCheckbox
            - name: startMessage
              string: Disabling email reception about promotions
            - name: endMessage
              string: Promotions emails reception disabled
            - name: alternateEndMessage
              string: Promotions emails reception is already disabled
 
  # -------------------------------------------------------------------------------------------------------------------
 
  # Description: This function disables reception of notifications through WhatsApp
  - name: mx.functions.communication-and-privacy.unmarkWhatsAppOption
    platform: android
    flow:
      - executeFunction:
          name: mx.functions.utils.togglingOption
          params:
            - name: previousState
              string: true
            - name: togglingElement
              string: mx.mappings.communication-and-privacy.whatsAppNotificationsCheckbox
            - name: startMessage
              string: Disabling WhatsApp notifications
            - name: endMessage
              string: WhatsApp notifications disabled
            - name: alternateEndMessage
              string: WhatsApp notifications are already disabled
 
  # -------------------------------------------------------------------------------------------------------------------
 
  # Description: This function enables WhatsApp notifications
  - name: mx.functions.communication-and-privacy.markWhatsAppOption
    platform: android
    flow:
      - executeFunction:
          name: mx.functions.utils.togglingOption
          params:
            - name: previousState
              string: false
            - name: togglingElement
              string: mx.mappings.communication-and-privacy.whatsAppNotificationsCheckbox
            - name: startMessage
              string: Enabling WhatsApp notifications
            - name: endMessage
              string: WhatsApp notifications are enabled
            - name: alternateEndMessage
              string: WhatsApp notifications are enabled already
  
  # -------------------------------------------------------------------------------------------------------------------
 
  # Description: This function enables push notifications
  - name: mx.functions.communication-and-privacy.markPushNotificationsOption
    platform: android
    flow:
      - executeFunction:
          name: mx.functions.utils.togglingOption
          params:
            - name: previousState
              string: false
            - name: togglingElement
              string: mx.mappings.communication-and-privacy.pushUpNotificationsCheckbox
            - name: startMessage
              string: Enabling push notifications
            - name: endMessage
              string: Push notifications enabled
            - name: alternateEndMessage
              string: Push notifications are already enabled
 
  # -------------------------------------------------------------------------------------------------------------------
 
  # Description: This function disables push notifications
  - name: mx.functions.communication-and-privacy.unmarkPushNotificationsOption
    platform: android
    flow:
      - executeFunction:
          name: mx.functions.utils.togglingOption
          params:
            - name: previousState
              string: true
            - name: togglingElement
              string: mx.mappings.communication-and-privacy.pushUpNotificationsCheckbox
            - name: startMessage
              string: Disabling push notifications
            - name: endMessage
              string: Push notifications disabled
            - name: alternateEndMessage
              string: Push notifications are already disabled
 
  # -------------------------------------------------------------------------------------------------------------------
 
  # Description: This function disables phone call confirmation
  - name: mx.functions.communication-and-privacy.unmarkPhoneCallOption
    platform: android
    flow:
      - executeFunction:
          name: mx.functions.utils.togglingOption
          params:
            - name: previousState
              string: true
            - name: togglingElement
              string: mx.mappings.communication-and-privacy.callConfirmationCheckbox
            - name: startMessage
              string: Disabling phone call confirmation
            - name: endMessage
              string: Phone call confirmation is disabled
            - name: alternateEndMessage
              string: Phone call confirmation is already disabled
 
  # -------------------------------------------------------------------------------------------------------------------
 
  # Description: This function enables call confirmation option
  - name: mx.functions.communication-and-privacy.markPhoneCallOption
    platform: android
    flow:
      - executeFunction:
          name: mx.functions.utils.togglingOption
          params:
            - name: previousState
              string: false
            - name: togglingElement
              string: mx.mappings.communication-and-privacy.callConfirmationCheckbox
            - name: startMessage
              string: Enabling phone call confirmation
            - name: endMessage
              string: Phone call confirmation is enabled
            - name: alternateEndMessage
              string: Phone call confirmation is already enabled
