#======================================================================================================================
#  AUTHOR: Gustavo Antonio Lopez Cambambia (vn53g21)
#  CREATED: Dec/14/2022
#  REVISION: ---
#
#  Copyright Â© 2022 Walmart. All rights reserved.
#======================================================================================================================

functions:

  - name: mx.functions.lists.tapCreateList
    platform: ios
    flow:
      - click: 
          identifier: mx.mappings.lists.createListButton

  #--------------------------------------------------------------------------------------------------------------------
  
  # Description: This function scrolls down to specific list
  # Param: ${listName}  [Mandatory]  Name of the specific list.
  - name: mx.functions.lists.scrollDownToList
    platform: ios
    flow: 
      - scroll:
          direction: down
          untilIdentifier: mx.mappings.lists.listName
          position: center
          scrollLimit: 8
          wait: 1000

  #--------------------------------------------------------------------------------------------------------------------
  
  # Description: This function scrolls up to specific list
  # Param: ${listName}  [Mandatory]  Name of the specific list.
  - name: mx.functions.lists.scrollDownToList
    platform: ios
    flow: 
      - scroll:
          direction: up
          untilIdentifier: mx.mappings.lists.listName
          position: center
          scrollLimit: 8
          wait: 1000

  #--------------------------------------------------------------------------------------------------------------------
  
  # Description: This function taps on list name
  # Param: ${listName}  [Mandatory]  Name of the specific list.
  - name: mx.functions.lists.openList
    platform: ios
    flow:
      - log:
          message: "Opening list with name: ${listName}..."
          color: CYAN
      - click: 
          identifier: mx.mappings.lists.listByName
      - log:
          message: "End function: lists.openList"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  - name: mx.functions.lists.scrollToTop
    platform: ios
    flow: 
      - scroll:
          direction: up
          untilIdentifier: mx.mappings.lists.locationBar
          position: up
          scrollLimit: 8
          wait: 1000

  #--------------------------------------------------------------------------------------------------------------------
  
  # Description: This function asserts the empty list
  # Param: ${listName}  [Mandatory]  Name of the empty list to assert.
  - name: mx.functions.lists.assertListIsEmpty
    platform: ios
    flow: 
      - verifyIdentifier:
          present:
            - identifier: mx.mappings.lists.listEmptyLabel

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function assert the not empty list
  # Param: ${listName}  [Mandatory]  Name of the list.
  - name: mx.functions.lists.assertListIsNotEmpty
    platform: ios
    flow: 
      - verifyIdentifier:
          notPresent:
            - identifier: mx.mappings.lists.listEmptyLabel

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function assert the quantity displayed on list
  # Params: ${listName}  [Mandatory]  Name of the list
  #         ${expectedQuantity} [Mandatory]  items number to assert bellow list name
  - name: mx.functions.lists.assertListProductCount
    platform: ios
    flow: 
      - verifyIdentifier:
          present:
            - identifier: mx.mappings.lists.itemsNumberLabel

  #--------------------------------------------------------------------------------------------------------------------

  - name: mx.functions.lists.create-list-popup.tapClose
    platform: ios
    flow:
      - click: 
          identifier: mx.mappings.lists.create-list-popup.closeButton

  #--------------------------------------------------------------------------------------------------------------------
  
  # Description: This function enter the new list name on text field
  # Params: ${newListName}  [Mandatory]  Name to enter on text field
  - name: mx.functions.lists.create-list-popup.enterListName
    platform: ios
    flow: 
      - enterText: 
          identifier: mx.mappings.lists.create-list-popup.enterListName
          string: ${newListName}
      - executeFunction:
          name: mx.functions.utils.tapCloseKeyboardButton

  #--------------------------------------------------------------------------------------------------------------------

  - name: mx.functions.lists.create-list-popup.tapCreate
    platform: ios
    flow:
      - click: 
          identifier: mx.mappings.lists.create-list-popup.createButton

  #--------------------------------------------------------------------------------------------------------------------

  - name: mx.functions.lists.create-list-popup.assertPopupDisplayed
    platform: ios
    flow: 
      - verifyIdentifier:
          present:
            - identifier: mx.mappings.lists.create-list-popup.closeButton
            - identifier: mx.mappings.lists.create-list-popup.enterListName
            - identifier: mx.mappings.lists.create-list-popup.popupNameLabel
            - identifier: mx.mappings.lists.create-list-popup.createButtonDisabled
