#======================================================================================================================
#  AUTHOR: Octavio Cabrales Zárate (vn53g23)
#  CREATED: Jul/10/2023
#  REVISION: ---
#
#  Copyright © 2023 Walmart. All rights reserved.
#======================================================================================================================

functions:

  # DESCRIPTION: Asserts if page is displayed correctly
  # AUTHOR: Octavio Cabrales Zárate (vn53g23)
  - name: mx.functions.add-to-list-popup.assertPageDisplayed
    flow: 
      - verifyIdentifier:
          present:
            - identifier: mx.mappings.add-to-list-popup.title
            - identifier: mx.mappings.add-to-list-popup.createListButton
            - identifier: mx.mappings.add-to-list-popup.listContainer
            - identifier: mx.mappings.add-to-list-popup.saveButton
          timeout: 35000
      - log:
          message: "End function: add-to-list.assertPageDisplayed"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # DESCRIPTION: Clicks on the create list button
  # AUTHOR: Octavio Cabrales Zárate (vn53g23)
  - name: mx.functions.add-to-list-popup.tapCreateList
    flow:
      - click:
          identifier: mx.mappings.add-to-list-popup.createListButton
          coordinates: 20%,75%
      - log:
          message: "End function: add-to-list-popup.tapCreateList"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # DESCRIPTION: Asserts if create new list page is displayed
  # AUTHOR: Octavio Cabrales Zárate (vn53g23)
  - name: mx.functions.add-to-list-popup.create-new-list.assertPageDisplayed
    flow:
      - verifyIdentifier:
          present:
            - identifier: mx.mappings.add-to-list-popup.create-new-list.title
            - identifier: mx.mappings.add-to-list-popup.create-new-list.nameInput
            - identifier: mx.mappings.add-to-list-popup.create-new-list.createButton
      - log:
          message: "End function: add-to-list-create-new-list.assertPageDisplayed"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # DESCRIPTION: Inputs the new list name
  # PARAMS: ${newListName} List name
  # AUTHOR: Octavio Cabrales Zárate (vn53g23)
  - name: mx.functions.add-to-list-popup.create-new-list.inputNewListName
    flow:
      - log:
          message: "New list name: ${newListName}"
          color: CYAN
      - enterText:
          identifier: mx.mappings.add-to-list-popup.create-new-list.nameInput
          string: ${newListName}
          clickFirst: true
          clearField: true
      - log:
          message: "End function: add-to-list-popup.create-new-list.inputNewListName"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # DESCRIPTION: Clicks on create list button
  # AUTHOR: Octavio Cabrales Zárate (vn53g23)
  - name: mx.functions.add-to-list-popup.create-new-list.tapCreateList
    flow:
      - click:
          identifier: mx.mappings.add-to-list-popup.create-new-list.createButton
          coordinates: 75%,75%
      - log:
          message: "End function: add-to-list.create-new-list.tapCreateList"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # PARAMS: ${listName} List name
  # AUTHOR: Octavio Cabrales Zárate (vn53g23)
  # EDITOR: Osmar Juárez (vn56dce)
  - name: mx.functions.add-to-list-popup.assertProductAddedToList
    flow:  
      - if:
          identifier:
            present:
              - identifier: mx.mappings.add-to-list-popup.savedToListBlackBox
          then:
            - log:
                message: Assertion succeded '${productName}' added to list '${listName}'
                color: GREEN_BOLD
          else:
            - failTest:
                message: Not able to find the black box with message 
      - log:
          message: "End function: add-to-list-popup.assertProductAddedToList"
          color: BLUE
  
  #--------------------------------------------------------------------------------------------------------------------

  # DESCRIPTION: This function select the radio button of one of the displayed lists in pop given the list name
  # PARAMS: ${listName} List name
  # AUTHOR: Osmar Juárez (vn56dce)
  - name: mx.functions.add-to-list-popup.selectListByName
    flow:
      - log:
          message: "Select list: '${listName}'"
          color: CYAN
      - click:
          identifier: mx.mappings.add-to-list-popup.listRadioButtonByName # PARAM: --${listName}--
      - log:
          message: "End function: add-to-list-popup.selectListByName"
          color: BLUE
  
  #--------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Osmar Juárez (vn56dce)
  - name: mx.functions.add-to-list-popup.tapSave
    flow:
      - click:
          identifier: mx.mappings.add-to-list-popup.saveButton
      - log:
          message: "End function: add-to-list-popup.tapSave"
          color: BLUE