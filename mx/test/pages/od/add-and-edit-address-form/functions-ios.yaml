#======================================================================================================================
#    AUTHOR: Olga Gonzalez (vn55r4a)
#   CREATED: Dec/26/2024
#  REVISION: ---
#
#  Copyright © 2024 Walmart. All rights reserved.
#======================================================================================================================

functions:

#--------------------------------------------------------------------------------------------------------------------
  # AUTHOR: Olga D. González (vn55r4a)
  # Description: This function enters first name to the first name field.
  # Param:  ${firstName}  [Mandatory]  First Name to enter 
  - name: mx.functions.add-and-edit-address-form.enterFirstName
    platform: ios
    flow:
      - enterText:
          identifier: mx.mappings.add-and-edit-address-form.firstName
          string: ${firstName}
          clearField: true
          clickFirst: true
      - executeFunction:
          name: functions.utils.keyboard.tapNextBtn
      - log:
          message: "End functions: add-and-edit-address-form.enterFirstName"
          color: BLUE

#--------------------------------------------------------------------------------------------------------------------
  # AUTHOR: Olga D. González (vn55r4a)
  # Description: This function enters last name to the last name field.
  # Param:  ${lastName}  [Mandatory]  Last Name to enter
  - name: mx.functions.add-and-edit-address-form.enterLastName
    platform: ios
    flow:
      - enterText:
          identifier: mx.mappings.add-and-edit-address-form.lastName
          string: ${lastName}
          clearField: true
          clickFirst: true
      - executeFunction:
          name: functions.utils.keyboard.tapNextBtn
      - log:
          message: "End functions: add-and-edit-address-form.enterLastName"
          color: BLUE          

  #--------------------------------------------------------------------------------------------------------------------
  # AUTHOR: Olga D. González (vn55r4a)
  # Description: This function enters street address to the street address field.
  # Param:  ${streetAddress}  [Mandatory]  Street address to enter
  - name: mx.functions.add-and-edit-address-form.enterStreetAddress
    platform: ios
    flow:
      - click:
          identifier: mx.mappings.add-and-edit-address-form.streetAddress
      - enterText:
          identifier: mx.mappings.add-and-edit-address-form.streetAddress
          string: ${streetAddress}
          clearField: true
          clickFirst: true
      - executeFunction:
          name: functions.utils.keyboard.tapNextBtn   
      - log:
          message: "End functions: add-and-edit-address-form.enterStreetAddress"
          color: BLUE
  
  #--------------------------------------------------------------------------------------------------------------------
  # AUTHOR: Olga D. González (vn55r4a)
  # Description: This function enters exterior number.
  # Param:  ${exteriorNumber}  [Mandatory]  Exterior Number to enter
  - name: mx.functions.add-and-edit-address-form.enterExteriorNumber
    platform: ios
    flow:
      - enterText:
          identifier: mx.mappings.add-and-edit-address-form.exteriorNumber
          string: ${exteriorNumber}
          clearField: true
          clickFirst: true
      - executeFunction:
          name: functions.utils.keyboard.tapNextBtn        
      - log:
          message: "End functions: add-and-edit-address-form.enterExteriorNumber"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------
  # AUTHOR: Olga D. González (vn55r4a)
  # Description: This function enters interior number.
  # Param:  ${interiorNumber}  [Mandatory]  Interior Number to enter
  - name: mx.functions.add-and-edit-address-form.enterInteriorNumber
    platform: ios
    flow:
      - enterText:
          identifier: mx.mappings.add-and-edit-address-form.interiorNumber
          string: ${interiorNumber}
          clearField: true
          clickFirst: true
      - executeFunction:
          name:  functions.utils.keyboard.tapNextBtn
      - log:
          message: "End functions: add-and-edit-address-form.enterInteriorNumber"
          color: BLUE

 #--------------------------------------------------------------------------------------------------------------------
  # AUTHOR: Olga D. González (vn55r4a)
  # Description: This function enters zip code to the zip code field.
  # Param:  ${zipCode}  [Mandatory]  Zip code to enter 
  - name: mx.functions.add-and-edit-address-form.enterZipCode
    platform: ios
    flow:
      - click:
          identifier: mx.mappings.add-and-edit-address-form.zipCodeField
      # Accept location permission pop up if displayed
      - if:
          identifier:
            present:
              - identifier: addAddressPage.allowLocationPermission
            timeout: 3000
          then:
            - click:
                identifier: addAddressPage.allowLocationPermission           
      - enterText:
          identifier: mx.mappings.add-and-edit-address-form.zipCodeField
          string: ${zipCode}
          clearField: true
          clickFirst: true
      - executeFunction:
          name: functions.utils.keyboard.tapNextBtn
      - log:
          message: "End functions: add-and-edit-address-form.enterZipCode"
          color: BLUE
 #--------------------------------------------------------------------------------------------------------------------
  # AUTHOR: Olga D. González (vn55r4a)
  # Description: This function enters Crossing Streets info in the corresponding field.
  # Param:  ${crossingStreets}  [Mandatory]  Crossing Streets info to enter 
  - name: mx.functions.add-and-edit-address-form.enterCrossingStreets
    platform: ios
    flow:
      - scroll:
          direction: down
          untilIdentifier: mx.mappings.add-and-edit-address-form.crossingStreetsField
          position: center
      - enterText:
          identifier: mx.mappings.add-and-edit-address-form.crossingStreetsField
          string: ${crossingStreets}
          clearField: true
          clickFirst: true
      - executeFunction:
          name: functions.utils.keyboard.tapNextBtn
      - log:
          message: "End function: functions.add-and-edit-address-form.enterCrossingStreets"
          color: BLUE
 #--------------------------------------------------------------------------------------------------------------------
  # AUTHOR: Olga D. González (vn55r4a)
  # Description: This function enters References info in the corresponding field.
  # Param:  ${references}  [Mandatory]  References info to enter 
  - name: mx.functions.add-and-edit-address-form.enterReferences
    platform: ios
    flow:    
      - scroll:
          direction: down
          untilIdentifier: mx.mappings.add-and-edit-address-form.referencesField
          position: center
      - enterText:
          identifier: mx.mappings.add-and-edit-address-form.referencesField
          string: ${references}
          clearField: true
          clickFirst: true
      - executeFunction:
          name: functions.utils.keyboard.tapNextBtn
      - log:
          message: "End function: functions.add-and-edit-address-form.enterReferences"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------
  # AUTHOR: Olga D. González (vn55r4a)
  # Description: This function enters phone number to the phone number field.
  # Param:  ${phoneNumber}  [Mandatory]  Phone number to enter 
  - name: mx.functions.add-and-edit-address-form.enterPhoneNumber
    platform: ios
    flow:
      - scroll:
          direction: down
          untilIdentifier: mx.mappings.add-and-edit-address-form.phoneNumber
          position: center
      - enterText:
          identifier: mx.mappings.add-and-edit-address-form.phoneNumber
          string: ${phoneNumber}
          clearField: true
          clickFirst: true
      - executeFunction:
          name: functions.utils.hideKeyboard   
      - log:
          message: "End functions: add-and-edit-address-form.enterPhoneNumber"
          color: BLUE         
#--------------------------------------------------------------------------------------------------------------------
  # AUTHOR: Olga D. González (vn55r4a)
  # Description: This function sets the Delivery Address as Favorite Delivery Address.
  - name: functions.add-and-edit-address-form.setDeliveryAddressAsFavoriteDeliveryAddress
    platform: ios
    flow:
      - try:
          flow:
            - getString:
                identifier: mx.mappings.add-and-edit-address-form.preferredCheck
                attribute: value
                storeIn: FavoriteAddressCheckbox
          catch:
            flow:
              - storeIn:
                  key: FavoriteAddressCheckbox
                  value: 0
      - if:
          condition: ${FavoriteAddressCheckbox} == 1
          then:
            - log:
                message: Billing Address already set as Favorite Delivery Address.
                color: GREEN
          else:
            - scroll:
               direction: down
               untilIdentifier: mx.mappings.add-and-edit-address-form.preferredCheck
               position: center
            - log:
               message: "Billing Address has been set as Favorite Delivery Address ..."
               color: CYAN
            - click:
               identifier: mx.mappings.add-and-edit-address-form.preferredCheck
      - log:
          message: "End function: add-and-edit-address-form.setDeliveryAddressAsFavoriteDeliveryAddress"
          color: BLUE

#--------------------------------------------------------------------------------------------------------------------
# AUTHOR: Olga D. González (vn55r4a)
  - name: mx.functions.add-and-edit-address-form.tapBackButtonFromAddressConfirmation
    platform: ios
    flow:
      - click:
          identifier: mx.mappings.add-and-edit-address-form.backbuttonFromAddressConfirmation
      - log:
          message: "End function: addresses.tapDeleteAddress"
          color: BLUE