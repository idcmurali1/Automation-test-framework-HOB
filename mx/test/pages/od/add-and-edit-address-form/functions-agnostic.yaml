#======================================================================================================================
#    AUTHOR: Francisco Ramirez (vn53vq4)
#   CREATED: Nov/26/2024
#  REVISION: ---
#
#  Copyright © 2024 Walmart. All rights reserved.
#======================================================================================================================

functions:

  #--------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Francisco Ramirez (vn53vq4)
  # DESCRIPTION: This functions taps back buttton.
  - name: mx.functions.add-and-edit-address-form.confirmation-map.tapBack
    flow:
      - click:
          identifier: mx.mappings.add-and-edit-address-form.geo-localization.backButton
      - log:
          message: "End function: add-and-edit-address-form.confirmation-map.tapBack"
          color: BLUE
  
#--------------------------------------------------------------------------------------------------------------------
# AUTHOR: Francisco Ramirez (vn53vq4)
# DESCRIPTION: This functions allows to move pin and confirm location in order to save delivery address.
  - name: mx.functions.add-and-edit-address-form.confirmation-map.dragGeolocationPin
    flow:
      - log:
          message: "[!] DRAGGING GEO-LOCATION PIN...."
          color: YELLOW
      - drag:
          from:
            x: 50%
            y: 55%
          to:
            x: 50%
            y: 50%
      - sleep:
          duration: 3000
      - log:
          message: "End function: add-and-edit-address-form.confirmation-map.dragGeolocationPin"
          color: BLUE

#--------------------------------------------------------------------------------------------------------------------
# PARAMS: ${userFullName}    [Mandatory] User full name
# AUTHOR: Olga D. González (vn55r4a)
  - name: mx.functions.add-and-edit-address-form.tapEditDeliveryAddressByUser
    flow:
      - click:
          identifier: mx.mappings.add-and-edit-address-form.editDeliveryAddressButtonByUser
      - log:
          message: "End function: add-and-edit-address-form.tapEditDeliveryAddressByUser"
          color: BLUE
  
#--------------------------------------------------------------------------------------------------------------------
# AUTHOR: Olga D. González (vn55r4a)
  - name: mx.functions.add-and-edit-address-form.scrollUpToDeliveryAddressFirstName
    flow:
      - if:
          identifier:
            notPresent:
              - identifier: addAddressPage.firstName
          then: 
            - scroll:
                direction: up
                scrollLimit: 1
                untilIdentifier: addAddressPage.firstName
                wait: 1000
            - log:
                message: "Scrolled up to First Name"
                color: CYAN
      - log:
          message: "End function: add-and-edit-address-form.scrollUpToDeliveryAddressFirstName"
          color: BLUE

# ----------------------------------------------------------------------------------------------------------------
# PARAMS:      ${userFullName}  [Mandatory]  User full name
# AUTHOR: Olga D. González (vn55r4a)
  - name: mx.functions.add-and-edit-addres-form.assertEditAddress
    flow:
      - log:
          message: Checking if address by full name '${userFullName}' is succesfully edited..
          color: GREEN
      - verifyIdentifier:
          present:
            - identifier: mx.mappings.add-and-edit-address-form.asserEditAddress
          timeout: 5000
      - log:
          message: "End function: add-and-edit-addres-form.assertEditAddress"
          color: BLUE

#--------------------------------------------------------------------------------------------------------------------
# PARAMS: ${userFullName}    [Mandatory] User full name
# AUTHOR: Olga D. González (vn55r4a)
  - name: mx.functions.add-and-edit-address-form.tapEditDeliveryAddressCheckoutFullUser
    flow:
      - click:
          identifier: mx.mappings.add-and-edit-address-form.editDeliveryAddressFromCheckout
      - log:
          message: "End function: add-and-edit-address-form.tapEditDeliveryAddressCheckoutFullUser"
          color: BLUE