#======================================================================================================================
#  AUTHOR: Rodrigo Pacheco C. (vn53p0i)
#  CREATED: Oct/27/2023
#  REVISION: ---
#
#  Copyright © 2023 Walmart. All rights reserved.
#======================================================================================================================

functions:

  # AUTHOR: Rodrigo Pacheco (vn53p0i)
  - name: mx.functions.ea.payment.assertPageDisplayed
    platform: android
    flow:
      - verifyIdentifier:
          present:
            - identifier: mx.mappings.ea.payment.pageTitle
            - identifier: mx.mappings.ea.payment.closeButton
            - identifier: mx.mappings.ea.payment.continueButton
          timeout: 30000
      - log:
          message: "Assertion Succeeded: Page is Displayed."
          color: GREEN_BOLD
      - log:
          message: "End function: payment.assertPageDisplayed"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Osmar Juárez (vn56dce)
  - name: mx.functions.ea.payment.selectCashiPaymentMethod
    platform: android
    flow:
      - click:
          identifier: mx.mappings.ea.payment.cashiPaymentRadioButton
      - verifyIdentifier:
          checked:
            - identifier: mx.mappings.ea.payment.cashiPaymentRadioButton
              value: true
          timeout: 15000
      - log:
          message: "End function: ea.payment.selectCashiPaymentMethod"
          color: BLUE
  
  #--------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Rodrigo Pacheco (vn53p0i)
  - name: mx.functions.ea.payment.selectInStorePaymentMethod
    platform: android
    flow:
      - if:
          identifier:
            notPresent:
              - identifier: mx.mappings.ea.payment.inStorePaymentRadioButton
          then:
            - scroll:
                direction: down
                scrollLimit: 2
      - click:
          identifier: mx.mappings.ea.payment.inStorePaymentRadioButton
      - log:
          message: "End function: payment.selectInStorePaymentMethod"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Rodrigo Pacheco (vn53p0i)
  - name: mx.functions.ea.payment.tapContinueButton
    platform: android
    flow:
      - click:
          identifier: mx.mappings.ea.payment.continueButton
      - log:
          message: "End function: payment.tapContinueButton"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Isis Tolentino (vn53dge)
  - name: mx.functions.ea.payment.tapCloseButton
    platform: android
    flow:
      - click:
          identifier: mx.mappings.ea.payment.closeButton
      - log:
          message: "End function: payment.tapCloseButton"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Isis Tolentino (vn53dge)
  - name: mx.functions.ea.payment.tapAddCardButton
    platform: android
    flow:
      - click:
          identifier: mx.mappings.ea.payment.addCardButton
      - log:
          message: "End function: payment.tapAddCardButton"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Isis Tolentino (vn53dge)
  - name: mx.functions.ea.payment.tapCreditOrDebitCardButton
    platform: android
    flow:
      - click:
          identifier: mx.mappings.ea.payment.creditOrDebitCardButton
      - log:
          message: "End function: payment.tapCreditOrDebitCardButton"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Isis Tolentino (vn53dge)
  # EDITOR: Osmar Juárez (vn56dce)
  - name: mx.functions.ea.payment.assertCardAdded
    platform: android
    flow:
      - verifyIdentifier:
          present:
            - identifier: mx.mappings.ea.payment.successfulCreditAddedMessage
      - log: 
         message: "Assert Succeeded: Successful Card Added Message is displayed"
         color: CYAN
      - log:
          message: "End function: payment.assertCardAdded"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Francisco Ramirez (vn53vq4)
  - name: mx.functions.ea.payment.assertRestrictionMessage
    platform: android
    flow:
      - verifyIdentifier:
          present:
            - identifier: mx.mappings.ea.payment.restrictionMessage
      - log: 
         message: "Assert Succeeded: Successful Restriction Message is displayed"
         color: CYAN
      - log:
          message: "End function: payment.assertRestrictionMessage"
          color: BLUE