#======================================================================================================================
#  AUTHOR: Rodrigo Pacheco Cámara (vn53p0i)
#  CREATED: Feb/27/2024
#  REVISION: ---
#
#  Copyright © 2024 Walmart. All rights reserved.
#======================================================================================================================

functions:

  # AUTHOR: Rodrigo Pacheco (vn53p0i)
  - name: mx.functions.ea.payment.assertPageDisplayed
    platform: ios
    flow:
      - verifyIdentifier:
          present:
            - identifier: mx.mappings.ea.payment.pageTitle
            - identifier: mx.mappings.ea.payment.closeButton
            - identifier: mx.mappings.ea.payment.continueButton
          timeout: 30000
      - log:
          message: "Assertion Succeeded: Page is Displayed."
          color: GREEN_BOLD
      - log:
          message: "End function: payment.assertPageDisplayed"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Rodrigo Pacheco (vn53p0i)
  - name: mx.functions.ea.payment.selectCashiPaymentMethod
    platform: ios
    flow:
      - click:
          identifier: mx.mappings.ea.payment.cashiPaymentRadioButton
      - log:
          message: "End function: ea.payment.selectCashiPaymentMethod"
          color: BLUE
  
  #--------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Rodrigo Pacheco (vn53p0i)
  - name: mx.functions.ea.payment.selectInStorePaymentMethod
    platform: ios
    flow:
      - scroll:
          direction: down
          scrollLimit: 2
          wait: 1000
      - click:
          identifier: mx.mappings.ea.payment.inStorePaymentRadioButton
      - log:
          message: "End function: payment.selectInStorePaymentMethod"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Rodrigo Pacheco (vn53p0i)
  - name: mx.functions.ea.payment.tapContinueButton
    platform: ios
    flow:
      - click:
          identifier: mx.mappings.ea.payment.continueButton
      - log:
          message: "End function: payment.tapContinueButton"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Rodrigo Pacheco (vn53p0i)
  - name: mx.functions.ea.payment.tapCloseButton
    platform: ios
    flow:
      - click:
          identifier: mx.mappings.ea.payment.closeButton
      - log:
          message: "End function: payment.tapCloseButton"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Rodrigo Pacheco (vn53p0i)
  - name: mx.functions.ea.payment.tapAddCardButton
    platform: ios
    flow:
      - click:
          identifier: mx.mappings.ea.payment.addCardButton
      - log:
          message: "End function: payment.tapAddCardButton"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Rodrigo Pacheco (vn53p0i)
  - name: mx.functions.ea.payment.tapCreditOrDebitCardButton
    platform: ios
    flow:
      - click:
          identifier: mx.mappings.ea.payment.creditOrDebitCardButton
      - log:
          message: "End function: payment.tapCreditOrDebitCardButton"
          color: BLUE
  
  #--------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Francisco Ramirez (vn53vq4)
  - name: mx.functions.ea.payment.assertRestrictionMessage
    platform: ios
    flow:
      - scroll:
          direction: down
          scrollLimit: 1
          wait: 1000
          untilIdentifier: mx.mappings.ea.payment.restrictionMessage
      - verifyIdentifier:
          present:
            - identifier: mx.mappings.ea.payment.restrictionMessage
      - log: 
         message: "Assert Succeeded: Successful Restriction Message is displayed"
         color: CYAN