#======================================================================================================================
#  AUTHOR: Rodrigo Pacheco C. (vn53p0i)
#  CREATED: Feb/21/2024
#  REVISION: ---
#
#  Copyright © 2024 Walmart. All rights reserved.
#======================================================================================================================

functions:

  # AUTHOR: Rodrigo Pacheco Cámara (vn53p0i)
  - name: mx.functions.ea.store-selector-popup.assertPopupDisplayed
    platform: ios
    flow:
      - if:
          identifier:
            present:
              - identifier: mx.mappings.ea.store-selector-popup.popupTitle
              - identifier: mx.mappings.ea.store-selector-popup.zipcodeField
              - identifier: mx.mappings.ea.store-selector-popup.closeButton
          then:
            - log:
                message: "Assertion Succeeded: Store Selector Popup is displayed."
                color: GREEN_BOLD
          else:
            - failTest:
                message: "Failed: Store Selector Popup is not displayed."
      - log:
          message: "End function: store-selector-popup.assertPopupDisplayed"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # PARAM:  ${zipCode} [Mandatory] Store zip code 
  # AUTHOR: Rodrigo Pacheco Cámara (vn53p0i)
  - name: mx.functions.ea.store-selector-popup.enterZipCode
    platform: ios
    flow:
      - log:
          message: "Zip Code to enter: '${zipCode}'"
          color: CYAN
      - enterText:
          identifier: mx.mappings.ea.store-selector-popup.zipcodeField # <--PARAM--${zipCode}
          string: "${zipCode}"
          clearField: true
          pressEnter: true
      - log:
          message: "End function: store-selector-popup.enterZipCode"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Rodrigo Pacheco Cámara (vn53p0i)
  - name: mx.functions.ea.store-selector-popup.tapSave
    platform: ios
    flow:
      - click:
          identifier: mx.mappings.ea.store-selector-popup.saveChooseButton
      - log:
          message: "End function: store-selector-popup.tapSave"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # PARAM:  ${storeName} [Mandatory] Store name to select
  # AUTHOR: Rodrigo Pacheco Cámara (vn53p0i)
  - name: mx.functions.ea.store-selector-popup.selectStoreByStoreName
    platform: ios
    flow:
      - click:
          identifier: mx.mappings.ea.store-selector-popup.storeByName # <--PARAM--${storeName}
      - log:
          message: "End function: mx.functions.ea.store-selector-popup.selectStoreByStoreName"
          color: BLUE