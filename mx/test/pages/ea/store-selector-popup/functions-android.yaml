#======================================================================================================================
#  AUTHOR: Rodrigo Pacheco Cámara (vn53p0i)
#  CREATED: Oct/24/2023
#  REVISION: ---
#
#  Copyright © 2023 Walmart. All rights reserved.
#======================================================================================================================

functions:

  #--------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Rodrigo Pacheco Cámara (vn53p0i)
  # EDITOR: Gustavo Antonio López Cambambia
  - name: mx.functions.ea.store-selector-popup.assertPopupDisplayed
    platform: android
    flow:
      - verifyIdentifier:
          present:
            - identifier: mx.mappings.ea.store-selector-popup.popupTitle
            - identifier: mx.mappings.ea.store-selector-popup.zipcodeField
            - identifier: mx.mappings.ea.store-selector-popup.closeButton
      - log:
          message: "End function: store-selector-popup.assertPopupDisplayed"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # PARAM:  ${zipCode} [Mandatory] Store zip code 
  # AUTHOR: Rodrigo Pacheco Cámara (vn53p0i)
  - name: mx.functions.ea.store-selector-popup.enterZipCode
    platform: android
    flow:
      - log:
          message: "Zip Code to enter: '${zipCode}'"
          color: CYAN
      - enterText:
          identifier: mx.mappings.ea.store-selector-popup.zipcodeField
          string: "${zipCode}"
          clearField: true
          pressEnter: true
      - log:
          message: "End function: store-selector-popup.enterZipCode"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Rodrigo Pacheco Cámara (vn53p0i)
  - name: mx.functions.ea.store-selector-popup.tapSave
    platform: android
    flow:
      - click:
          identifier: mx.mappings.store-selector-popup.saveChooseButton
      - log:
          message: "End function: store-selector-popup.tapSave"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # PARAM:  ${storeName} [Mandatory] Store name to select 
  # AUTHOR: Gustavo Antonio López Cambambia (vn53g21)
  - name: mx.functions.ea.store-selector-popup.selectStoreByStoreName
    platform: android
    flow:
      - click:
          identifier: mx.mappings.ea.store-selector-popup.storeByName
      - log:
          message: "End function: mx.functions.ea.store-selector-popup.selectStoreByStoreName"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Gustavo Antonio López Cambambia (vn53g21)
  - name: mx.functions.ea.store-selector-popup.getSelectedStoreAddress
    platform: android
    flow:
      - getString:
          identifier: mx.mappings.ea.store-selector-popup.selectedStoreAddress
          attribute: text
          storeIn: returnedStoreAddress
      - log:
          message: "Selected Store Address got: '${returnedStoreAddress}'"
          color: CYAN
      - log:
          message: "End function: ea.store-selector-popup.getSelectedStoreAddress"
          color: BLUE
