#======================================================================================================================
#  AUTHOR: Francisco Ramirez (vn53vq4)
#  CREATED: Jul/19/2024
#  REVISION: ---
#
#  Copyright © 2024 Walmart. All rights reserved.
#======================================================================================================================

functions:
# R2CODEIN CFG functionNamePrefix mx.functions.ea.cashi-payment

  # DESCRIPTION: Assert function to validate page is succesfully displayed with expected title name for page 'Pagar con Cashi'
  # AUTHOR: Osmar Juárez (vn56dce)
  - name: mx.functions.ea.cashi-payment.assertPageDisplayed
    platform: ios
    flow:
      - verifyIdentifier:
          present:
            - identifier: mx.mappings.ea.cashi-payment.cashiIcon
            - identifier: mx.mappings.ea.cashi-payment.openCashiAppCardView
            - identifier: mx.mappings.ea.cashi-payment.payWithPhoneNumberCardView
            - identifier: mx.mappings.ea.cashi-payment.cancelCashiPayment
      - log:
          message: "Assertion Succeeded: Page is Displayed correctly."
          color: GREEN_BOLD
      - log:
          message: "End function: ea.cashi-payment.assertPageDisplayed"
          color: BLUE
  
  #--------------------------------------------------------------------------------------------------------------------
  
  # AUTHOR: Francisco Ramirez (vn53vq4)
  - name: mx.functions.ea.cashi-payment.tapCancelCashiPayment
    platform: ios
    flow:
      - click:
          identifier: mx.mappings.ea.cashi-payment.cancelCashiPayment
          wait: 1500
      - log:
          message: 'End function: ea.cashi-payment.tapCancelCashiPayment'
          color: BLUE
  
  #--------------------------------------------------------------------------------------------------------------------
  
  # DESCRIPTION: Assertion function to validate popup displayed when cancel cashi payment is selected
  # AUTHOR: Francisco Ramirez (vn53vq4)
  - name: mx.functions.ea.cashi-payment.cancel-popup.assertPageIsDisplayed
    platform: ios
    flow:
      - verifyIdentifier:
          present:
            - identifier: mx.mappings.ea.cashi-payment.cancel-popup.titleText
            - identifier: mx.mappings.ea.cashi-payment.cancel-popup.subtitleText
            - identifier: mx.mappings.ea.cashi-payment.cancel-popup.negativeCancelButton
            - identifier: mx.mappings.ea.cashi-payment.cancel-popup.positiveCancelButton
          timeout: 15000
      - log:
          message: "Assertion Succeeded: Popup is Displayed correctly."
          color: GREEN_BOLD
      - log:
          message: 'End function: ea.cashi-payment.cancel-popup.assertPageIsDisplayed'
          color: BLUE
  
  #--------------------------------------------------------------------------------------------------------------------
  
  # AUTHOR: Francisco Ramirez (vn53vq4)
  - name: mx.functions.ea.cashi-payment.cancel-popup.tapCancelButton
    platform: ios
    flow:
      - click:
          identifier: mx.mappings.ea.cashi-payment.cancel-popup.positiveCancelButton
          wait: 1500
      - log:
          message: 'End function: mx.functions.ea.cashi-payment.cancel-popup.tapCancelButton'
          color: BLUE