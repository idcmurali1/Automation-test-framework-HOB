#======================================================================================================================
#    AUTHOR: Rodrigo Pacheco C. (vn53p0i)
#   CREATED: Oct/16/2023
#  REVISION: ---
#
#  Copyright © 2023 Walmart. All rights reserved.
#======================================================================================================================

functions:

  # DESCRIPTION:  This method clicks on the login button from the account page when user is not logged in.
  # AUTHOR: Rodrigo Pacheco Cámara (vn53p0i)
  - name: mx.functions.ea.account.tapLogin
    platform: android
    flow: 
      - click: 
          identifier: mx.mappings.ea.account.loginButton
      - log:
          message: "End function: account.tapLogin"
          color: BLUE

  # -------------------------------------------------------------------------------------------------------------------

  # DESCRIPTION:  This method asserts if Account page is displayed correctly.
  # AUTHOR: Rodrigo Pacheco Cámara (vn53p0i)
  - name: mx.functions.ea.account.assertPageDisplayed
    platform: android
    flow:
      - if:
          identifier:
            present:
              - identifier: mx.mappings.ea.account.genericHeaderLabel
              - identifier: mx.mappings.ea.account.genericOptionsContainer
          then:
            - log:
                message: "Assertion Succeeded: Account Page is Displayed."
                color: GREEN_BOLD
          else:
            - failTest:
                message: "Failed: Account Page did not Display."
      - log:
          message: "End function: account.assertPageDisplayed"
          color: BLUE

  # -------------------------------------------------------------------------------------------------------------------

  # DESCRIPTION:  This function asserts that the user is logged on account page.
  # PARAM:        ${userName} [Mandatory] user name to assert in account page.
  # AUTHOR: Rodrigo Pacheco Cámara (vn53p0i)
  - name: mx.functions.ea.account.assertUserLogged
    platform: android
    flow:
      - verifyIdentifier:
          present:
            - identifier: mx.mappings.ea.account.loggedUserHeader
            - identifier: mx.mappings.ea.account.loggedInOptionsContainer
      - log:
          message: "User '${userName}' logged"
          color: GREEN_BOLD
      - log:
          message: "End function: account.assertUserLogged"
          color: BLUE

  # -------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Rodrigo Pacheco C. (vn53p0i)
  - name: mx.functions.ea.account.openAddresses
    platform: android
    flow:
      - click:
          identifier: mx.mappings.ea.account.addressesButton
      - log:
          message: "End function: account.openAddresses"
          color: BLUE

  # -------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Rodrigo Pacheco C. (vn53p0i)
  - name: mx.functions.ea.account.openOrdersHistory
    platform: android
    flow:
      - click:
          identifier: mx.mappings.ea.account.ordersHistoryButton
      - log:
          message: "End function: account.openOrdersHistory"
          color: BLUE

  # ------------------------------------------------------------------------------------------------------------

  # DESCRIPTION:  This method clicks on the Invoice button from the account page when user is logged in.
  # AUTHOR: Osmar Juárez (vn56dce)
  - name: mx.functions.ea.account.tapInvoice
    platform: android
    flow:
      - click:
          identifier: mx.mappings.ea.account.invoiceButton
      - log:
          message: "End function: ea.account.tapInvoice"
          color: BLUE

  # -------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Isis Tolentino (vn53dge)
  # EDITOR: Rodrigo Pacheco (vn53p0i)
  - name: mx.functions.ea.account.openWallet
    platform: android
    flow:
      - click:
          identifier: mx.mappings.ea.account.walletButton
      - log:
          message: "End function: account.openWallet"
          color: BLUE
