#======================================================================================================================
#  AUTHOR: Rodrigo Pacheco Cámara (vn53p0i)
#  CREATED: Feb/26/2024
#  REVISION: ---
#
#  Copyright © 2024 Walmart. All rights reserved.
#======================================================================================================================

general:
  mappingLabels: production

ios:

  - name: mx.mappings.ea.review-order.deliveryHeaderContainer
    identifier: DeliveryViewController.titleView

  - name: mx.mappings.ea.review-order.pageTitle # Page title may say 'Revisar pedido' or 'Pago'
    identifier: //*[@name="Revisar pedido" or @name="Pago"]

  - name: mx.mappings.ea.review-order.deliveryDetailsSection
    identifier: FulfillmentTitleView.containerStackView

  - name: mx.mappings.ea.review-order.backButton
    identifier: ReviewOrderViewController_back_button

  - name: mx.mappings.ea.review-order.placeOrderButton
    identifier: PlaceOrderView.placeOrderButton

  - name: mx.mappings.ea.review-order.homeDeliveryIsSelected
    identifier: //XCUIElementTypeStaticText[contains(@label,"Entrega a domicilio")]

  - name: mx.mappings.ea.review-order.pickupDeliveryIsSelected
    identifier: //*[@name="FulfillmentTitleView.titlePrefixLabel" and contains(@value, "Pickup")]

  - name: mx.mappings.ea.review-order.deliveryDate
    identifier: FulfillmentSummaryView.detailLabel

  - name: mx.mappings.ea.review-order.homeAddressName
    identifier: FulfillmentSummaryView.nameLabel

  - name: mx.mappings.ea.review-order.storeOrHomeAddress # If home delivery is selected this will be the home address, else this will be the store address.
    identifier: FulfillmentSummaryView.addressLabel

  - name: mx.mappings.ea.review-order.openProductDetailsPopupButton
    identifier: FulfillmentProductGroupView.detailButton

  - name: mx.mappings.ea.review-order.productsCountInDeliveryDetailsSection # The one at the very top of the page.
    identifier: FulfillmentProductGroupView.countLabel

  - name: mx.mappings.ea.review-order.selectedPickupPerson
    identifier: PickupPersonView.primaryPersonLabel

  - name: mx.mappings.ea.review-order.editPickupPersonButton
    identifier: PickupPersonView.changeButton

  - name: mx.mappings.ea.review-order.deliverySectionContainer
    identifier: //XCUIElementTypeStaticText[@name="FulfillmentTitleView.titlePrefixLabel"]

  - name: mx.mappings.ea.review-order.paymentSectionContainer
    identifier: WalletSummaryViewController.card

  - name: mx.mappings.ea.review-order.invoiceSectionContainer
    identifier: InvoiceViewController.card

  - name: mx.mappings.ea.review-order.phoneNumberSectionContainer
    identifier: MobileContactViewController.card

  - name: mx.mappings.ea.review-order.totalsSectionContainer
    identifier: POSViewController.stackView

  - name: mx.mappings.ea.review-order.addOrChangePaymentMethodButton
    identifier: //*[@name= "WalletSummaryViewController.addPaymentButton" or @name= "WalletSummaryViewController.redesignedChangePaymentsButton"]

  - name: mx.mappings.ea.review-order.inStorePaymentMethodIsSelected
    identifier: //*[@name="PayAtStoreSummaryView.estimatedTotalLabel" and @label="Pagar en tienda"]

  - name: mx.mappings.ea.review-order.invoiceCheckbox
    identifier: InvoiceViewController.invoiceCheckbox

  - name: mx.mappings.ea.review-order.displayedPhoneNumber
    identifier: //XCUIElementTypeTextField[@name= "TextFieldStackView.textField" and @value= "${expectedPhoneNumber}"]

  - name: mx.mappings.ea.review-order.phoneNumberInputField
    identifier: (//XCUIElementTypeTextField[@name="TextFieldStackView.textField"])[1]

  - name: mx.mappings.ea.review-order.invalidPhoneNumberLabel
    identifier: //*[@name="HelperTextView.helperTextLabel" and contains(@label, "El teléfono debe ser")]

  - name: mx.mappings.ea.review-order.deliveryFeeValue # Does not work for Pickup orders when the delivery fee is not charged.
    identifier: //*[contains(@name, "POSLineItemView.Costodeenvío")]//*[@name="POSLineItemView.rightLabel"]

  - name: mx.mappings.ea.review-order.deliveryFeeNotChargedLabel # Does not work for Home Delivery orders when the delivery fee is charged.
    identifier: POSLineItemView.Costodeenvío.Sincosto

  - name: mx.mappings.ea.review-order.subtotalValue
    identifier: //*[contains(@name,"POSLineItemView.Subtotal")]//*[contains(@value,"Subtotal")]

  - name: mx.mappings.ea.review-order.subtotalValueAfterDiscount
    identifier: //*[contains(@name, "POSLineItemView..$")]//*[@name="POSLineItemView.rightLabel"] | //*[@name="POSViewController.stackView" and not(.//*[contains(@name, "POSLineItemView.Ahorras")])]//*[contains(@name, "POSLineItemView.Subtotal(")]//*[@name="POSLineItemView.rightLabel"]

  - name: mx.mappings.ea.review-order.subtotalValueBeforeDiscount
    identifier: //*[contains(@name, "POSLineItemView.Subtotal(")]//*[@name="POSLineItemView.rightLabel"]

  - name: mx.mappings.ea.review-order.savingsAmountValue
    identifier: //*[contains(@name, "POSLineItemView.Ahorras")]//*[@name="POSLineItemView.rightLabel"]

  - name: mx.mappings.ea.review-order.estimatedTotalInDetailsSection
    identifier: //*[contains(@name, "POSLineItemView.Totalestimado")]//*[@name="POSLineItemView.rightLabel"]

  - name: mx.mappings.ea.review-order.estimatedTotalInsideButtonSection
    identifier: PlaceOrderView.placeOrderButton

  - name: mx.mappings.ea.review-order.productsCountInSubtotalLabel
    identifier: //*[contains(@label,"Subtotal (${expectedProductsCount} artículo")] | //*[contains(@label,"Subtotal (${expectedProductsCount} artículos")]

  - name: mx.mappings.ea.review-order.goBackToCartButton # This is the 'regresar al carrito' button from the alert popup.
    identifier: ReviewOrderViewController_back_button
 
  - name: mx.mappings.ea.review-order.cashiPaymentMethodIcon
    identifier: //XCUIElementTypeImage[@name="CashiSummaryHeaderView.iconView"]
  
  - name: mx.mappings.ea.review-order.cashiDescriptionTextView
    identifier: //XCUIElementTypeButton[@name="CashiSummaryView.descriptionLabel"]

  ## EDIT-PICKUP-PERSON-POPUP #########################################################################################

  - name: mx.mappings.ea.review-order.edit-pickup-person-popup.title
    identifier: //XCUIElementTypeStaticText[@name="Persona que hace el Pickup"]

  - name: mx.mappings.ea.review-order.edit-pickup-person-popup.closeButton
    identifier: //*[@name="Persona que hace el Pickup"]//XCUIElementTypeButton

  - name: mx.mappings.ea.review-order.edit-pickup-person-popup.formContainer
    identifier: EditPickupPersonViewController.scrollView

  - name: mx.mappings.ea.review-order.edit-pickup-person-popup.firstNameField
    identifier: //*[@name= "EditPickupPersonView.firstNameTextField"]//*[@name= "TextFieldStackView.textField"]

  - name: mx.mappings.ea.review-order.edit-pickup-person-popup.lastNameField
    identifier: //*[@name= "EditPickupPersonView.lastNameTextField"]//*[@name= "TextFieldStackView.textField"]

  - name: mx.mappings.ea.review-order.edit-pickup-person-popup.phoneNumberField
    identifier: //*[@name= "EditPickupPersonView.phoneTextField"]//*[@name= "TextFieldStackView.textField"]

  - name: mx.mappings.ea.review-order.edit-pickup-person-popup.saveButton
    identifier: EditPickupPersonViewController.saveButton

  ## PRODUCTS-DETAILS-POPUP #########################################################################################

  - name: mx.mappings.ea.review-order.products-details-popup.title
    identifier: //XCUIElementTypeStaticText[@name="Detalles del artículo"]

  - name: mx.mappings.ea.review-order.products-details-popup.closeButton
    identifier: //XCUIElementTypeButton[@name="cerrar"]

  - name: mx.mappings.ea.review-order.products-details-popup.container
    identifier: CheckoutItemDetailsListViewController.stackView

  - name: mx.mappings.ea.review-order.products-details-popup.productsCount
    identifier: (//*[@name="CheckoutItemDetailsListViewController.tableView"]//XCUIElementTypeStaticText)[2]

  - name: mx.mappings.ea.review-order.products-details-popup.productByName
    identifier: //*[@name="CheckoutItemDetailsListViewController.stackView"]//XCUIElementTypeStaticText[contains(@value, "${productName}")]

  ## ALMOST-DONE-POPUP #########################################################################################

  - name: mx.mappings.ea.review-order.almost-done-popup.exitPaymentButton
    identifier: //XCUIElementTypeButton[@name="ConfirmationViewController.confirmButton"]
