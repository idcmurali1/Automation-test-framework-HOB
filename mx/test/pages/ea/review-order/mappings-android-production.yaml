#======================================================================================================================
#  AUTHOR: Rodrigo Pacheco Cámara (vn53p0i)
#  CREATED: Oct/25/2023
#  REVISION: ---
#
#  Copyright © 2023 Walmart. All rights reserved.
#======================================================================================================================

general:
  mappingLabels: production

android:

  - name: mx.mappings.ea.review-order.deliveryHeaderContainer
    identifier: com.walmart.mg.debug:id/checkout_delivery_header

  - name: mx.mappings.ea.review-order.pageTitle # Page title may say 'Revisar pedido' or 'Pago'
    identifier: //*[@resource-id= "com.walmart.mg.debug:id/platform_sdk_toolbar_title" and(@text= "Revisar pedido" or @text= "Pago")]

  - name: mx.mappings.ea.review-order.deliveryDetailsSection
    identifier: //*[contains(@resource-id, "checkout_delivery_body")]

  - name: mx.mappings.ea.review-order.backButton
    identifier: //*[contains(@resource-id, "platform_sdk_toolbar_navigation_button")]

  - name: mx.mappings.ea.review-order.placeOrderButton
    identifier: //*[contains(@resource-id,"button_place_order")]

  - name: mx.mappings.ea.review-order.homeDeliveryIsSelected
    identifier: //*[contains(@resource-id, "delivery_section_new_title") and contains(@text, "Envío a domicilio")]

  - name: mx.mappings.ea.review-order.pickupDeliveryIsSelected
    identifier: //*[contains(@resource-id, "delivery_section_new_title") and contains(@text, "Pickup")]

  - name: mx.mappings.ea.review-order.deliveryDate
    identifier: //*[contains(@resource-id, "delivery_pickup_date")]

  - name: mx.mappings.ea.review-order.homeAddressName
    identifier: //*[contains(@resource-id, "delivery_store_description")]

  - name: mx.mappings.ea.review-order.storeOrHomeAddress # If home delivery is selected this will be the home address, else this will be the store address.
    identifier: //*[@resource-id= "com.walmart.mg.debug:id/delivery_address"]
  
  - name: mx.mappings.ea.review-order.editAddressButton
    identifier: //*[contains(@resource-id, "edit_delivery_address")]
    
  - name: mx.mappings.ea.review-order.openProductDetailsPopupButton
    identifier: //*[contains(@resource-id, "order_items_details")]

  - name: mx.mappings.ea.review-order.productsCountInDeliveryDetailsSection # The one at the very top of the page.
    identifier: //*[contains(@resource-id, "order_items_count")]

  - name: mx.mappings.ea.review-order.selectedPickupPerson
    identifier: //*[contains(@resource-id, "pick_up_person_text_view")]

  - name: mx.mappings.ea.review-order.editPickupPersonButton
    identifier: //*[contains(@resource-id, "pick_up_person_edit_button")]

  - name: mx.mappings.ea.review-order.deliverySectionContainer
    identifier: //androidx.cardview.widget.CardView[.//*[contains(@resource-id, "checkout_delivery_header")]]

  - name: mx.mappings.ea.review-order.paymentSectionContainer
    identifier: //androidx.cardview.widget.CardView[.//*[contains(@resource-id, "wallet_header") or contains(@resource-id, "wallet_summary_container")]]

  - name: mx.mappings.ea.review-order.invoiceSectionContainer
    identifier: //androidx.cardview.widget.CardView[.//*[contains(@resource-id, "invoicing_title_icon")]]

  - name: mx.mappings.ea.review-order.phoneNumberSectionContainer
    identifier: //androidx.cardview.widget.CardView[.//*[contains(@resource-id, "mobile_contact_old")]]

  - name: mx.mappings.ea.review-order.totalsSectionContainer
    identifier: //*[contains(@resource-id, "checkout_pos_module")]

  - name: mx.mappings.ea.review-order.addOrChangePaymentMethodButton
    identifier: //*[contains(@resource-id, "add_payment")] | //*[contains(@resource-id, "change_payments_button")]

  - name: mx.mappings.ea.review-order.changePaymentMethodButton
    identifier: //*[contains(@resource-id, "change_payments_button")]

  - name: mx.mappings.ea.review-order.inStorePaymentMethodIsSelected
    identifier: //*[contains(@resource-id, "label") and contains(@text, "Pago en tienda")]

  - name: mx.mappings.ea.review-order.cardPaymentMethodIsSelected
    identifier: //*[contains(@resource-id, "card_summaries") and contains(@content-desc, "Con terminación en")]

  - name: mx.mappings.ea.review-order.cashiPaymentMethodIcon
    identifier: com.walmart.mg.debug:id/mobile_cashi_icon
  
  - name: mx.mappings.ea.review-order.cashiDescriptionTextView
    identifier: com.walmart.mg.debug:id/cashi_payment_descriptor

  - name: mx.mappings.ea.review-order.invoiceCheckbox
    identifier: //android.widget.CheckBox[contains(@resource-id, 'invoicing_status_checkbox')]

  - name: mx.mappings.ea.review-order.displayedPhoneNumber
    identifier: //*[contains(@resource-id,"mobile_contact_phone_number_field") and @text="${expectedPhoneNumber}"]

  - name: mx.mappings.ea.review-order.phoneNumberInputField
    identifier: //*[contains(@resource-id,"mobile_contact_phone_number_field")]//android.widget.FrameLayout//android.widget.EditText
    
  - name: mx.mappings.ea.review-order.deliveryFeeValue # Does not work for Pickup orders when the delivery fee is not charged.
    identifier: //*[@resource-id="com.walmart.mg.debug:id/checkout_pos_fee_value"]

  - name: mx.mappings.ea.review-order.deliveryFeeNotChargedLabel # Does not work for Home Delivery orders when the delivery fee is charged.
    identifier: //*[@resource-id="com.walmart.mg.debug:id/checkout_pos_discount_value"]

  - name: mx.mappings.ea.review-order.subtotalValue
    identifier: //*[@resource-id="com.walmart.mg.debug:id/checkout_subtotal_value"]

  - name: mx.mappings.ea.review-order.subtotalValueAfterDiscount
    identifier: //*[@resource-id="com.walmart.mg.debug:id/checkout_subtotal_value_strategy"]

  - name: mx.mappings.ea.review-order.subtotalValueBeforeDiscount
    identifier: //*[@resource-id="com.walmart.mg.debug:id/checkout_subtotal_value"]

  - name: mx.mappings.ea.review-order.savingsAmountValue
    identifier: //*[@resource-id="com.walmart.mg.debug:id/checkout_price_savings_value"]

  - name: mx.mappings.ea.review-order.estimatedTotalInDetailsSection
    identifier: //*[@resource-id="com.walmart.mg.debug:id/checkout_total_value"]

  - name: mx.mappings.ea.review-order.estimatedTotalInsideButtonSection
    identifier: com.walmart.mg.debug:id/button_place_order

  - name: mx.mappings.ea.review-order.productsCountInSubtotalLabel
    identifier: com.walmart.mg.debug:id/checkout_subtotal_title

  - name: mx.mappings.ea.review-order.alertPopup # This is the popup that appears if there was something wrong after clicking continue in cart to proceed to review-order
    identifier: //*[contains(@resource-id,"alertTitle")]

  - name: mx.mappings.ea.review-order.goBackToCartButton # This is the 'regresar al carrito' button from the alert popup.
    identifier: //*[contains(@resource-id,"button1")]
 
  - name: mx.mappings.ea.review-order.restrictionMessage
    identifier: //android.widget.TextView[@content-desc="Restricción de entrega"]

  ## EDIT-PICKUP-PERSON-POPUP #########################################################################################

  - name: mx.mappings.ea.review-order.edit-pickup-person-popup.title
    identifier: //*[contains(@resource-id, "title") and contains(@text, "Pickup")]

  - name: mx.mappings.ea.review-order.edit-pickup-person-popup.closeButton
    identifier: //*[contains(@resource-id, "icon_close")]

  - name: mx.mappings.ea.review-order.edit-pickup-person-popup.formContainer
    identifier: //*[contains(@resource-id, "title_required_fields")]/..

  - name: mx.mappings.ea.review-order.edit-pickup-person-popup.firstNameField
    identifier: //*[contains(@resource-id, "primary_first_name_field")]

  - name: mx.mappings.ea.review-order.edit-pickup-person-popup.lastNameField
    identifier: //*[contains(@resource-id, "primary_last_name_field")]

  - name: mx.mappings.ea.review-order.edit-pickup-person-popup.phoneNumberField
    identifier: //*[contains(@resource-id, "primary_phone_number_field")]

  - name: mx.mappings.ea.review-order.edit-pickup-person-popup.saveButton
    identifier: //*[contains(@resource-id, "save_button")]

  ## PRODUCTS-DETAILS-POPUP #########################################################################################

  - name: mx.mappings.ea.review-order.products-details-popup.title
    identifier: //*[contains(@resource-id, "title") and contains(@text, "Detalles de artículo")]

  - name: mx.mappings.ea.review-order.products-details-popup.closeButton
    identifier: //*[contains(@resource-id, "icon_close")]

  - name: mx.mappings.ea.review-order.products-details-popup.container
    identifier: //*[@resource-id= "com.walmart.mg.debug:id/bottom_sheet_item_details"]

  - name: mx.mappings.ea.review-order.products-details-popup.productsCount
    identifier: //*[contains(@resource-id, "itemCountLabel")]

  - name: mx.mappings.ea.review-order.products-details-popup.productByName
    identifier: //*[contains(@resource-id, "checkout_item_description") and contains(@text, "${productName}")]

  ## ALMOST-DONE-POPUP #########################################################################################

  - name: mx.mappings.ea.review-order.almost-done-popup.exitPaymentButton
    identifier: //*[contains(@resource-id, "unsaved_changes_confirm") and contains(@text, "Salir de proceso de pago")]