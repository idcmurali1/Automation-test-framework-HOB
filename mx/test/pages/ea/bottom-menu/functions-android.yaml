#======================================================================================================================
#    AUTHOR: Rodrigo Pacheco Cámara (vn53p0i)
#   CREATED: Oct/18/2022
#  REVISION: ---
#
#  Copyright © 2022 Walmart. All rights reserved.
#======================================================================================================================

functions:

## ANDROID ------------------------------------------------------------------------------------------------------------
  
  # DESCRIPTION:  This function performs a small drag action that shows the bottom menu if not present.
  # AUTHOR: Rodrigo Pacheco (vn53p0i)
  - name: mx.functions.ea.bottom-menu.showBottomMenu
    platform: android
    flow:
      - if:
          identifier:
            notPresent:
              - identifier: mx.mappings.ea.bottom-menu.bottomMenuContainer
          then:
            - drag:
                from:
                  x: 50%
                  y: 50%
                to:
                  x: 50%
                  y: 55%
            - log:
                message: "Bottom Menu already displayed."
                color: GREEN_BOLD
      - log:
          message: "End function: bottom-menu.showBottomMenu"
          color: BLUE

  # -------------------------------------------------------------------------------------------------------------------

  # DESCRIPTION:  This method tries to hide the bottom menu and centers into an specific element if provide
  # AUTHOR: Rodrigo Pacheco (vn53p0i)
  - name: mx.functions.ea.bottom-menu.hideBottomMenu
    platform: android
    flow:
      - if:
          identifier:
            present:
              - identifier: mx.mappings.ea.bottom-menu.bottomMenuContainer
          then:
            - drag:
                from:
                  x: 50%
                  y: 55%
                to:
                  x: 50%
                  y: 50%
          else:
            - log:
                message: "Bottom Menu is already hidden."
                color: GREEN
      - log:
          message: "End function: bottom-menu.hideBottomMenu"
          color: BLUE
  
  # -------------------------------------------------------------------------------------------------------------------
  
  # AUTHOR: Rodrigo Pacheco (vn53p0i)
  - name: mx.functions.ea.bottom-menu.tapDepartments
    platform: android
    flow:
      - executeFunction:
            name: mx.functions.ea.bottom-menu.showBottomMenu
      - click:
          identifier: mx.mappings.ea.bottom-menu.departmentsButton
      - log:
          message: "End function: bottom-menu.tapDepartments"
          color: BLUE

  # -------------------------------------------------------------------------------------------------------------------

  # AUTHOR: Rodrigo Pacheco (vn53p0i)
  - name: mx.functions.ea.bottom-menu.tapAccount
    platform: android
    flow:
      - executeFunction:
          name: mx.functions.ea.bottom-menu.showBottomMenu
      - click:
          identifier: mx.mappings.ea.bottom-menu.accountButton
      - log:
          message: "End function: bottom-menu.tapAccount"
          color: BLUE

  # -------------------------------------------------------------------------------------------------------------------
  
  # AUTHOR: Rodrigo Pacheco (vn53p0i)
  - name: mx.functions.ea.bottom-menu.tapHome
    platform: android
    flow:
      - executeFunction:
          name: mx.functions.ea.bottom-menu.showBottomMenu
      - click:
          identifier: mx.mappings.ea.bottom-menu.homeButton
      - log:
          message: "End function: bottom-menu.tapHome"
          color: BLUE
