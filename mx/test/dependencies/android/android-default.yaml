inherit: 
    file: ./wcp/test/dependencies/android/android-default.yaml

general:
  appiumVersion: 2.11.0

profiles: 
  #-----------------------------------------------------  Local Prod No Install  -------------------------------------------------------------  
  
  # Mexico Spanish No install App after executions - MX Profile only used for test script's development
  - name: local-mx-no-install
    general:
      fullReset: false
      noReset: true
      combineScenarios: true
      language: es
      locale: MX
      serverURL: "http://127.0.0.1:4723"
      appPackage: ${APP_PACKAGE:com.walmart.mg.debug}
      enableMultiWindows: true
      optionalIntentArguments: --es glass.auto.ServiceEnv ${LAUNCH_ENV:PRODUCTION}
      mappingLabels: ${MAPPING_LABELS:mx_ea_android_production}
      
    device:
      - deviceName: ${DEVICE_NAME_ANDROID:Pixel_6_API_33}
        platformName: ${PLATFORM_NAME_ANDROID:Android}
        platformVersion: ${PLATFORM_VERSION_ANDROID:13.0}
        deviceOrientation: ${DEVICE_ORIENTATION_ANDROID:portrait}

  #-----------------------------------------------------  Local -------------------------------------------------------------  
  
  # Profile local-mx-prod defined in inherited file of this dependency
  # Overwriting some properties to add flexibility of envirionments
  - name: local-mx-prod
    general:
      optionalIntentArguments: --es glass.auto.ServiceEnv ${LAUNCH_ENV:PRODUCTION}
  
  #-----------------------------------------------------  Saucelabs PROD  ---------------------------------------------------------------

  # Profile saucelabs-mx-prod defined in inherited file of this dependency
  # Overwriting some properties to add flexibility of envirionments and adding Jira/Xray reporting to the defined profile
  - name: saucelabs-mx-prod
    general:
      build: ${EXECUTION_BUILD_ID:r2-glass-mx-android-run}
      app: storage:filename=${SAUCELABS_APK_FILENAME}
      optionalIntentArguments: --es glass.auto.ServiceEnv ${LAUNCH_ENV:PRODUCTION}

    jira:
      userName: ${JIRA_USERNAME}
      password: ${JIRA_PASSWORD}
      project: ${JIRA_PROJECT_ID}
      summary: ${JIRA_SUMMARY_PREFIX}${TEST_SUITE}-${GLASS_ENV}-${APP_PLATFORM}-${TEST_SESSION_ID}
      debug: true

  #-----------------------------------------------------  Saucelabs PRE-PROD  ---------------------------------------------------------------

  # Profile saucelabs-mx-preprod defined in inherited file of this dependency
  # Overwriting some properties to add flexibility of envirionments and adding Jira/Xray reporting to the defined profile
  - name: saucelabs-mx-preprod
    general:
      build: ${EXECUTION_BUILD_ID:r2-glass-mx-android-run}
      app: storage:filename=${SAUCELABS_APK_FILENAME}
      parallelExecution: true
      appPackage: ${APP_PACKAGE:com.walmart.mg.debug}
      appWaitActivity: "com.walmart.glass.onboarding.view.OnboardingActivity"
      language: es
      locale: MX
      mappingLabels: ${MAPPING_LABELS:mx_ea_android_production}
      optionalIntentArguments: "--es glass.auto.ServiceEnv ${LAUNCH_ENV:PRODUCTION} --es glass.auto.CCM '{\"prehome.networking.preprod.enabled\": { \"value\": true } }'"

    saucelabs:
      userName: $SAUCE_USERNAME
      accessKey: $SAUCE_ACCESS_KEY
      useNewSauceAPI: true

    device:
      - deviceName: ${DEVICE_NAME_ANDROID:Google Pixel 6 GoogleAPI Emulator}
        platformName: ${PLATFORM_NAME_ANDROID:Android}
        platformVersion: ${PLATFORM_VERSION_ANDROID:14.0}
        deviceOrientation: ${DEVICE_ORIENTATION_ANDROID:portrait}

    jira:
      userName: ${JIRA_USERNAME}
      password: ${JIRA_KEY}
      project: ${JIRA_PROJECT_ID}
      summary: ${JIRA_SUMMARY_PREFIX}${TEST_SUITE}-${GLASS_ENV}-${APP_PLATFORM}-${TEST_SESSION_ID}
      debug: true
