#======================================================================================================================
#    AUTHOR: Sergio Fernandez (vn0t1qt)
#   CREATED: Jan/03/2021
#  REVISION: ---
#
#  Copyright Â© 2021 Walmart. All rights reserved.
#======================================================================================================================

general:
  automationName: UiAutomator2
  appiumVersion: 1.18.1
  mappingLabels: ${MAPPING_LABELS:staging}
  combineScenarios: true
  appPackage: "${APP_PACKAGE}"
  appActivity: "com.walmart.glass.integration.AutomationActivity"
  appWaitActivity: "com.walmart.glass.onboarding.view.OnboardingActivity"
  fullReset: ${fullReset:false}
  noReset: false
  noSign: true
  intentFlags: 0
  build: r2-glass-mx-${APP_PLATFORM}-${TEST_TAGS}-${TEST_SESSION_ID}
  adbExecTimeout: 50000
  newCommandTimeout: 600000
  idleTimeout: 1000
  commandTimeout: 600
  optionalIntentArguments: --es glass.auto.ServiceEnv TEFLON
  # retryFailedTests: true
  noLimitTraceObject: true

profiles:
  #--------------------------------------------------------------------------------------------------------------------
  - name: local
    general:
      app: ${WALMART_APP_FILENAME_ANDROID:./mx/app/android/glass-mx.apk}
      serverURL: "http://127.0.0.1:4723/wd/hub"
      combineScenarios: ${COMBINE_SCENARIOS:true}
      optionalIntentArguments: --es glass.auto.ServiceEnv TEFLON

    device:
      - deviceName: ${DEVICE_NAME_ANDROID:Pixel_3_API_30}
        platformName: ${PLATFORM_NAME_ANDROID:Android}
        platformVersion: ${PLATFORM_VERSION_ANDROID:11.0}
        deviceOrientation: ${DEVICE_ORIENTATION_ANDROID:portrait}

  #--------------------------------------------------------------------------------------------------------------------
  - name: saucelabs
    general:
      app: storage:filename=glass-mx.apk
      testrailProxyHost: sysproxy.wal-mart.com
      testrailProxyPort: 8080
      combineScenarios: ${COMBINE_SCENARIOS:true}
      parallelExecution: true
      optionalIntentArguments: --es glass.auto.ServiceEnv TEFLON
      
    saucelabs:
      userName: $SAUCE_USERNAME
      accessKey: $SAUCE_ACCESS_KEY
      useNewSauceAPI: true

    device:
      - deviceName: ${REMOTE_DEVICE_NAME_ANDROID:Google Pixel 3 GoogleAPI Emulator}
        platformName: ${REMOTE_PLATFORM_NAME_ANDROID:Android}
        platformVersion: ${REMOTE_PLATFORM_VERSION_ANDROID:11.0}
        deviceOrientation: ${REMOTE_DEVICE_ORIENTATION_ANDROID:portrait}
