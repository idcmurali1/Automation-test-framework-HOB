inherit: 
    file: ./wcp/test/dependencies/ios/ios-default.yaml

profiles: 
  #-----------------------------------------------------  Local Prod No Install  -------------------------------------------------------------  
  
  # Mexico Spanish No install App after executions - MX Profile only used for test script's development
  # NOTE: WCP variable languange will be null since is set throug denendencies.general.language property of R2
  #       consider to set maualy on this variable in your flow if some function use ${language} variable to perform something
  - name: local-mx-no-install
    general:
      noReset: true
      combineScenarios: true
      serverURL: "http://127.0.0.1:4723"
      bundleId: ${BUNDLE_ID:com.walmartmexico.WalmartMG.qa}
      mappingLabels: ${MAPPING_LABELS:mx_ea_ios_production}
      
    device:
      - deviceName: ${DEVICE_NAME_IOS:iPhone 14}
        platformName: ${PLATFORM_NAME_IOS:iOS}
        platformVersion: ${PLATFORM_VERSION_IOS:16.1}
        deviceOrientation: ${DEVICE_ORIENTATION_IOS:portrait}

  #-----------------------------------------------------  Local -------------------------------------------------------------  
  
  # Profile local-mx-prod defined in inherited file of this dependency
  # Overwriting some properties to add flexibility of envirionments
  - name: local-mx-prod
    general:
      glassEnv: '{"env":{"config":"{\"environment\":\"${GLASS_ENV:production}\"}"},"args":["-kGlassExpEnabled","true","-com.walmart.px.disable","YES"]}'
  
  #-----------------------------------------------------  Saucelabs  ---------------------------------------------------------------

  # Profile saucelabs-mx-prod defined in inherited file of this dependency
  # Overwriting some properties to add flexibility of envirionments and adding Jira/Xray reporting to the defined profile
  - name: saucelabs-mx-prod
    general:
      build: ${EXECUTION_BUILD_ID:r2-glass-mx-ios-run}
      app: storage:filename=${SAUCELABS_IOS_FILENAME}
      glassEnv: '{"env":{"config":"{\"environment\":\"${GLASS_ENV:production}\"}"},"args":["-kGlassExpEnabled","true","-com.walmart.px.disable","YES"]}'

    jira:
      userName: ${JIRA_USERNAME}
      password: ${JIRA_PASSWORD}
      project: ${JIRA_PROJECT_ID}
      summary: ${JIRA_SUMMARY_PREFIX}${TEST_SUITE}-${GLASS_ENV}-${APP_PLATFORM}-${TEST_SESSION_ID}
      debug: true
  
  # Profile to support different iOS simulators architectures and appium versions
  - name: saucelabs-mx-general
    general:
      app: storage:filename=${SAUCELABS_IOS_FILENAME}
      appiumVersion: ${APPIUM_VERSION:2.0.0}
      combineScenarios: true
      parallelExecution: true
      build: ${EXECUTION_BUILD_ID:r2-glass-mx-ios-run}
      bundleId: ${BUNDLE_ID:com.walmartmexico.WalmartMG.qa}
      language: es-mx
      locale: es-MX
      timeZone: Denver
      maxDuration: 10800
      glassEnv: '{"env":{"config":"{\"environment\":\"${GLASS_ENV:production}\"}"},"args":["-kGlassExpEnabled","true","-com.walmart.px.disable","YES"]}'
      mappingLabels: ${MAPPING_LABELS:mx_ea_ios_production}

    saucelabs:
      userName: $SAUCE_USERNAME
      accessKey: $SAUCE_ACCESS_KEY
      useNewSauceAPI: true
      armRequired: ${SAUCELABS_ARM_REQUIRED:false}

    device:
      - deviceName: ${DEVICE_NAME_IOS:iPhone 15 Simulator}
        platformName: ${PLATFORM_NAME_IOS:iOS}
        platformVersion: ${PLATFORM_VERSION_IOS:17.0}
        deviceOrientation: ${DEVICE_ORIENTATION_IOS:portrait}

    jira:
      userName: ${JIRA_USERNAME}
      password: ${JIRA_PASSWORD}
      project: ${JIRA_PROJECT_ID}
      summary: ${JIRA_SUMMARY_PREFIX}${TEST_SUITE}-${GLASS_ENV}-${APP_PLATFORM}-${TEST_SESSION_ID}
      debug: true

