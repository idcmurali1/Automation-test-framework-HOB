#======================================================================================================================
#    AUTHOR: Sergio Fernandez (vn0t1qt)
#   CREATED: Mar/28/2023
#  REVISION: ---
#
#  Copyright Â© 2023 Walmart. All rights reserved.
#======================================================================================================================

# NOTE:
# This dependencies file is used for Automation Development.
# This dependencies does not contain the following properties in order to allow the execution not to install, launch or
# configure the environment as the automation developer must do that and leave the app running prior to start the
# execution. This helps to accelerate the automation and execution process.
#   general > app
#   general > appPackage
#   general > appActivity
#   general > appWaitActivity
#   general > optionalIntentArguments

general:
  automationName: XCUITest
  appiumVersion: 2.0.0
  mappingLabels: ${MAPPING_LABELS:production}
  combineScenarios: true
  fullReset: ${FULL_RESET:false}
  glassEnv: '{"env":{"config":"{\"environment\":\"${GLASS_ENV:production}\"}"},"args":["-kGlassExpEnabled","true","-com.walmart.px.disable","YES"]}'
  noReset: false
  noSign: true
  intentFlags: "0"
  build: ${BUILD_ID:r2-glass-mx-ios-run}
  adbExecTimeout: 50000
  newCommandTimeout: 600000
  idleTimeout: 1000
  noLimitTraceObject: true

profiles:
  
  - name: local-no-install
    general:
      combineScenarios: true
      serverURL: "http://127.0.0.1:4723/"
    device:
      - deviceName: ${DEVICE_NAME_IOS:iPhone 13}
        platformName: ${PLATFORM_NAME_IOS:iOS}
        platformVersion: ${PLATFORM_VERSION_IOS:15.5}
        deviceOrientation: ${DEVICE_ORIENTATION_IOS:portrait}

  - name: local-install
    general:
      combineScenarios: true
      app: ${IOS_APP:./mx/app/ios/glass-mx.apk}
      bundleId: ${BUNDLE_ID:com.walmartmexico.WalmartMG.qa}
      appActivity: "com.walmart.glass.integration.AutomationActivity"
      appWaitActivity: "com.walmart.glass.onboarding.view.OnboardingActivity"
      optionalIntentArguments: --es glass.auto.ServiceEnv ${LAUNCH_ENV:PRODUCTION}
      serverURL: "http://127.0.0.1:4723/"
    device:
      - deviceName: ${DEVICE_NAME_IOS:iPhone 13}
        platformName: ${PLATFORM_NAME_IOS:iOS}
        platformVersion: ${PLATFORM_VERSION_IOS:15.5}
        deviceOrientation: ${DEVICE_ORIENTATION_IOS:portrait}
