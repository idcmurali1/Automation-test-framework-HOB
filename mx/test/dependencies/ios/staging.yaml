#======================================================================================================================
#    AUTHOR: Sergio Fernandez (vn0t1qt)
#   CREATED: Apr/17/2023
#  REVISION: ---
#
#  Copyright Â© 2023 Walmart. All rights reserved.
#======================================================================================================================

general:
  automationName: XCUITest
  appiumVersion: 2.0.0
  app: ${WALMART_APP_FILENAME_IOS:./mx/app/ios/glass-mx.zip}
  bundleId: "${BUNDLE_ID:com.walmartmexico.WalmartMG.qa}"
  build: ${EXECUTION_BUILD_ID:r2-glass-mx-ios-run}
  mappingLabels: ${GLASS_ENV:staging}
  combineScenarios: true
  glassEnv: '{"env":{"config":"{\"environment\":\"${GLASS_ENV:staging}\"}"},"args":["-kGlassExpEnabled","true","-com.walmart.px.disable","YES"]}'
  fullReset: ${FULL_RESET:false}
  noReset: false
  newCommandTimeout: 600000
  idleTimeout: 1000
  launchTimeout: 6000000
  iosInstallPause: 20000
  noLimitTraceObject: true

profiles:
  
  #--------------------------------------------------------------------------------------------------------------------
  - name: local
    general:
      combineScenarios: true
      serverURL: "http://127.0.0.1:4723/wd/hub"
    device:
      - deviceName: ${DEVICE_NAME_IOS:iPhone 13}
        platformName: ${PLATFORM_NAME_IOS:iOS}
        platformVersion: ${PLATFORM_VERSION_IOS:15.5}
        deviceOrientation: ${DEVICE_ORIENTATION_IOS:portrait}

  #--------------------------------------------------------------------------------------------------------------------

  - name: saucelabs
    general:
      combineScenarios: true
      app: storage:filename=${SAUCELABS_IOS_FILENAME}
      parallelExecution: false
      language: es-mx
      timeZone: Denver
      maxDuration: 10800
      threads: 5
    saucelabs:
      userName: $SAUCE_USERNAME
      accessKey: $SAUCE_ACCESS_KEY
      useNewSauceAPI: true
    device:
      - deviceName: ${REMOTE_DEVICE_NAME_IOS:iPhone.*} # This Selects any available device.
        platformName: ${REMOTE_PLATFORM_NAME_IOS:iOS}
        platformVersion: ${REMOTE_PLATFORM_VERSION_IOS:16.*}
        deviceOrientation: ${REMOTE_DEVICE_ORIENTATION_IOS:portrait}

  #--------------------------------------------------------------------------------------------------------------------

  - name: saucelabs-jira
    general:
      combineScenarios: true
      app: storage:filename=${SAUCELABS_IOS_FILENAME}
      parallelExecution: false
      language: es-mx
      timeZone: Denver
      maxDuration: 10800
      threads: 5
    saucelabs:
      userName: $SAUCE_USERNAME
      accessKey: $SAUCE_ACCESS_KEY
      useNewSauceAPI: true
    jira:
      userName: ${JIRA_USERNAME}
      password: ${JIRA_PASSWORD}
      project: ${JIRA_PROJECT_ID}
      summary: ${JIRA_SUMMARY_PREFIX}${TEST_SUITE}-${GLASS_ENV}-${APP_PLATFORM}-${TEST_SESSION_ID}
    device:
      - deviceName: ${REMOTE_DEVICE_NAME_IOS:iPhone.*} # This Selects any available device.
        platformName: ${REMOTE_PLATFORM_NAME_IOS:iOS}
        platformVersion: ${REMOTE_PLATFORM_VERSION_IOS:16.*}
        deviceOrientation: ${REMOTE_DEVICE_ORIENTATION_IOS:portrait}

  #--------------------------------------------------------------------------------------------------------------------

  - name: saucelabs-parallel
    general:
      combineScenarios: true
      app: storage:filename=${SAUCELABS_IOS_FILENAME}
      parallelExecution: true
      language: es-mx
      timeZone: Denver
      maxDuration: 10800
      threads: 5
    saucelabs:
      userName: $SAUCE_USERNAME
      accessKey: $SAUCE_ACCESS_KEY
      useNewSauceAPI: true
    device:
      - deviceName: ${REMOTE_DEVICE_NAME_IOS:iPhone.*} # This Selects any available device.
        platformName: ${REMOTE_PLATFORM_NAME_IOS:iOS}
        platformVersion: ${REMOTE_PLATFORM_VERSION_IOS:16.*}
        deviceOrientation: ${REMOTE_DEVICE_ORIENTATION_IOS:portrait}

  #--------------------------------------------------------------------------------------------------------------------

  - name: saucelabs-parallel-jira
    general:
      combineScenarios: true
      app: storage:filename=${SAUCELABS_IOS_FILENAME}
      parallelExecution: true
      language: es-mx
      timeZone: Denver
      maxDuration: 10800
      threads: 5
    saucelabs:
      userName: $SAUCE_USERNAME
      accessKey: $SAUCE_ACCESS_KEY
      useNewSauceAPI: true
    jira:
      userName: ${JIRA_USERNAME}
      password: ${JIRA_PASSWORD}
      project: ${JIRA_PROJECT_ID}
      summary: ${JIRA_SUMMARY_PREFIX}${TEST_SUITE}-${GLASS_ENV}-${APP_PLATFORM}-${TEST_SESSION_ID}
    device:
      - deviceName: ${REMOTE_DEVICE_NAME_IOS:iPhone.*} # This Selects any available device.
        platformName: ${REMOTE_PLATFORM_NAME_IOS:iOS}
        platformVersion: ${REMOTE_PLATFORM_VERSION_IOS:16.*}
        deviceOrientation: ${REMOTE_DEVICE_ORIENTATION_IOS:portrait}
