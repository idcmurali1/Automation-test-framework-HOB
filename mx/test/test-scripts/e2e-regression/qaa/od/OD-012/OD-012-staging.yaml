#======================================================================================================================
#    AUTHOR: Francisco Javier Ramírez Hernández
#   CREATED: Apr/17/2023
#  REVISION: ---
#
#  Copyright © 2023 Walmart. All rights reserved.
#======================================================================================================================

general:
  tags: qaa-od-e2e-regression-staging-012

scenarios:

  #--------------------------------------------------------------------------------------------------------------------
  
  - name: Main
    flow:

      - log: Steps 1 and 2 - Complete Onboarding as Guest User and display Home Page.
      
      - executeFunction:
          name: mx.flows.global.onboarding.navigateToHomeAsGuestUser
          params:
            - name: zipCode
              string: mx.data.e2e-regression.od-012.zipCode
            - name: banner
              string: "OD"
      
      - log: "STEP 3: Login from Profile..."

      - executeFunction:
          name: mx.flows.od.login.navigateToAccountAndLogin
          params:
            - name: userEmail
              string: mx.data.e2e-regression.od-012.login.userEmail
            - name: userPassword
              string: mx.data.e2e-regression.od-012.userPassword
            - name: userName
              string: mx.data.e2e-regression.od-012.userName
      
      - log: "Step 4: Search Product by Product Name"
      
      - executeFunction:
          name: mx.functions.bottom-menu.tapHome
      
      - executeFunction:
          name: mx.functions.top-menu.enterSearchTerm
          params:
            - name: searchTerm
              string: mx.data.e2e-regression.od-012.productSearch1

      - executeFunction:
          name: mx.functions.top-menu.tapSearchInKeyboard
      
      - executeFunction:
          name: mx.functions.delivery-methods-info-popup.dismissPopupIfDisplayed
      
      - log: "Step 5: Add Products to cart from SLP"
      
      - executeFunction:
          name: mx.functions.slp.addProductToCart
          params:
            - name: productName
              string: mx.data.e2e-regression.od-012.productName1
    
      - executeFunction:
          name: mx.functions.slp.addProductToCart
          params:
            - name: productName
              string: mx.data.e2e-regression.od-012.productName2