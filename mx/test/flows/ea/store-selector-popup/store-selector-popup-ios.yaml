#======================================================================================================================
#  AUTHOR: Rodrigo Pacheco C. (vn53p0i)
#  CREATED: Feb/21/2024
#  REVISION: ---
#
#  Copyright Â© 2024 Walmart. All rights reserved.
#======================================================================================================================

functions:

  # DESCRIPTION:  This flow changes the store to the one specified on parameter from the popup, it selects the
  #                 desired store and clicks save.
  # MANDATORY:    Use a zip code that makes the desired store appear first on the list for a quicker change.
  #                 This function is NOT MEANT to scroll down if the desired store is not present.
  # PARAMS:       ${zipCode}    [Mandatory]  Desired zip code to enter when opening the store selector popup.
  #               ${storeName}  [Mandatory]  Name of the store you want to switch to.
  #
  # AUTHOR: Rodrigo Pacheco (vn53p0i)
  - name: mx.flows.ea.store-selector-popup.quickChangeStoreFromPopup
    platform: ios
    flow:
      - log:
          message: "ZipCode: '${zipCode}'"
          color: CYAN
      - log:
          message: "Store Name: '${storeName}'"
          color: CYAN
      - executeFunction:
          name: mx.functions.ea.store-selector-popup.enterZipCode # <--PARAM--${zipCode}
      - sleep:
          duration: 3000
      - click:
          identifier: mx.mappings.ea.store-selector-popup.storeByName # <--PARAM--${storeName}
      - executeFunction:
          name: mx.functions.ea.store-selector-popup.tapSave
      - log:
          message: "End flow: store-selector.quickChangeStoreFromPopup"
          color: BLUE
