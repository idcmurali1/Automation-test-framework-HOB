#======================================================================================================================
#  AUTHOR: Rodrigo Pacheco Cámara (vn53p0i)
#  CREATED: Feb/19/2024
#  REVISION: ---
#
#  Copyright © 2024 Walmart. All rights reserved.
#======================================================================================================================

functions:

  # DESCRIPTION:  This flow adds the 'Sold By' filter and receives the option as a parameter.
  # PARAM:        ${soldByOption}   [Mandatory]   'Sold By' option to select, options: [ ByWalmart | ByOthersAndWalmart | ByOthers ].
  # AUTHOR: Rodrigo Pacheco (vn53p0i)
  - name: mx.flows.ea.sort-and-filter.addSoldByFilterWithOptionFromSLP
    platform: ios
    flow:
      - executeFunction:
          name: mx.functions.ea.slp.tapSortAndFilterButton
      - executeFunction:
          name: mx.functions.ea.sort-and-filter.sort-and-filter-popup.assertPopupDisplayed
      - executeFunction:
          name: mx.functions.ea.sort-and-filter.sort-and-filter-popup.expandSoldByFilterIfNotExpanded
      - executeFunction:
          name: mx.functions.ea.sort-and-filter.sort-and-filter-popup.selectSoldByOption
          params:
            - name: soldByOption
              string: ${soldByOption}
      - executeFunction:
          name: mx.functions.ea.sort-and-filter.sort-and-filter-popup.tapSeeResults
      - sleep:
          duration: 10000
      - log:
          message: "End flow: sort-and-filter.addSoldByFilterWithOptionFromSLP"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # DESCRIPTION:  This flow adds the 'Sold By' filter and receives the option as a parameter.
  # PARAM:        ${soldByOption}   [Mandatory]   'Sold By' option to select, options: [ ByWalmart | ByOthersAndWalmart | ByOthers ].
  # AUTHOR: Rodrigo Pacheco (vn53p0i)
  - name: mx.flows.ea.sort-and-filter.addSoldByFilterWithOptionFromPLP
    platform: ios
    flow:
      - executeFunction:
          name: mx.functions.ea.department-l3.tapSortAndFilterButton
      - executeFunction:
          name: mx.functions.ea.sort-and-filter.sort-and-filter-popup.assertPopupDisplayed
      - executeFunction:
          name: mx.functions.ea.sort-and-filter.sort-and-filter-popup.expandSoldByFilterIfNotExpanded
      - executeFunction:
          name: mx.functions.ea.sort-and-filter.sort-and-filter-popup.selectSoldByOption
          params:
            - name: soldByOption
              string: ${soldByOption}
      - executeFunction:
          name: mx.functions.ea.sort-and-filter.sort-and-filter-popup.tapSeeResults
      - sleep:
          duration: 10000
      - log:
          message: "End flow: sort-and-filter.addSoldByFilterWithOptionFromPLP"
          color: BLUE
