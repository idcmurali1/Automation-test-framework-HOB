#======================================================================================================================
#    AUTHOR: Francisco Javier Ramirez Hernandez
#   CREATED: Mar/28/2023
#  REVISION: ---
#
#  Copyright Â© 2023 Walmart. All rights reserved.
#======================================================================================================================

functions:
  
  #----------------------------------------------------------------------------------------------------------------------

  # Description: This flow adds a new CC/DC from account page. (Staging environment) 
  # Param: ${cardHolderName} [Mandatory] User's full name.
  # Param: ${cardNumber} [Mandatory] User's card number.
  # Param: [Optional for Android] ${expirtationDate} [Mandatory] User's card expiration date (Eg. 12/25).
  # Param ${expectedExpirationMonth} [Mandatory] expiration month.
  # Param ${expectedExpirationYear} [Mandatory] expiration year.
  # Param: ${cardCVV} [Mandatory] User's card cvv.
  # Param: ${streetName} [Mandatory] User's address.
  # Param: ${exteriorNumber} [Mandatory] User's address ext number.
  # Param: ${cityName} [Mandatory] User's city.
  # Param: ${neighborhoodName} [Mandatory] User's colony.
  # Param: ${municipalityName} [Mandatory] User's municipality.
  # Param: ${stateName} [Mandatory] User's State.
  # Param: ${zipCode} [Mandatory] User's Zip code.
  # Param: ${last4Digits} [Mandatory] Last 4 digits of user's card.
  - name: mx.flows.od.wallet.addNewDebitOrCreditCard
    platform: ios
    flow:
      - executeFunction:
          name: mx.functions.wallet.tapAddDebitCreditCard
      - executeFunction:
          name: mx.functions.add-card-form.enterCardNumber
      - executeFunction:
          name: mx.functions.add-card-form.enterCardHolderName
      - executeFunction:
          name: mx.functions.add-card-form.selectExpirationDate
      - executeFunction:
          name: mx.functions.add-card-form.enterCVV
      - executeFunction:
          name: mx.functions.add-card-form.selectCountryAsMX
      - executeFunction:
          name: mx.functions.add-card-form.scrollDownToBottomPage
      - executeFunction:
          name: mx.functions.add-card-form.enterStreetName
      - executeFunction:
          name: mx.functions.add-card-form.enterExteriorNumber
      - executeFunction:
          name: mx.functions.add-card-form.enterCity
      - executeFunction:
          name: mx.functions.add-card-form.enterNeighborhood
      - executeFunction:
          name: mx.functions.add-card-form.enterMunicipality
      - executeFunction:
          name: mx.functions.add-card-form.enterState
      - executeFunction:
          name: mx.functions.add-card-form.enterZipCode
      - executeFunction:
          name: mx.functions.add-card-form.tapSave
      - executeFunction:
          name: mx.functions.add-card-form.assertCardAdded
      - log:
          message: "End flow: od.wallet.addNewDebitOrCreditCard"
          color: BLUE
