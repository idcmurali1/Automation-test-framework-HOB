#======================================================================================================================
#  AUTHOR:  Osmar Juárez (vn56dce)
#  CREATED: Feb/29/2024
#  REVISION: ---
#
#  Copyright © 2024 Walmart. All rights reserved.
#======================================================================================================================

functions:

  # DESCRIPTION:  This flow adds the 'Has Promotion' filter from SPL. 
  # AUTHOR: Osmar Juárez (vn56dce)
  - name: mx.flows.sort-and-filter.addHasPromotionFilterFromSLP
    platform: ios
    flow:
      - executeFunction:
          name: mx.functions.slp.tapSortAndFilterButton
      - executeFunction:
          name: mx.functions.sort-and-filter.sort-and-filter-popup.assertPopupDisplayed
      - executeFunction:
          name: mx.functions.sort-and-filter.sort-and-filter-popup.expandHasPromotionFilterIfNotExpanded
      - executeFunction:
          name: mx.functions.sort-and-filter.sort-and-filter-popup.selectHasPromotionCheckbox
      - executeFunction:
          name: mx.functions.sort-and-filter.sort-and-filter-popup.tapSeeResults
      - executeFunction:
          name: mx.functions.slp.assertPageDisplayed
      - log:
          message: "End flow: sort-and-filter.addHasPromotionFilterFromSLP"
          color: BLUE
