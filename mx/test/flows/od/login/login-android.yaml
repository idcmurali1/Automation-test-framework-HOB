#======================================================================================================================
#    AUTHOR: Rodrigo Pacheco C. (vn53p0i)
#   CREATED: May/9/2023
#  REVISION: ---
#
#  Copyright Â© 2023 Walmart. All rights reserved.
#======================================================================================================================

functions:

  # DESCRIPTION:  This function goes back to home no matter where you are.
  # AUTHOR: Rodrigo Pacheco C.
  - name: mx.flows.od.back-to-home.backToHome
    platform: android
    doWhile: true
    flow:
      - verifyIdentifier:
          notPresent:
            - identifier: mx.mappings.top-menu.cartIcon
      - goBack: true
      - sleep:
          duration: 3000
      - if:
          identifier:
            present:
              - identifier: mx.mappings.prehome.odBanner
          then:
            - click:
                identifier: mx.mappings.prehome.odBanner
      - if:
          identifier:
            present:
              - identifier: mx.mappings.top-menu.cartIcon
          then:
            - executeFunction:
                name: mx.functions.bottom-menu.tapHome
            - log:
                message: "End flow: back-to-home.backToHome"
                color: BLUE
  