functions:

#--------------------------------------------------------------------------------------------------------------------

  # Description: Validate Notification page
  # No Params
  - name: ca.test.functions.onboarding.validateOboardingPage
    platform: android
    flow: 
      - verifyIdentifier:
          text:
            - identifier: ca.mappings.onboarding.welcomeToWalmartPg.welcomeSubtitle
              equals: ca.data.onboarding.welcomeToWalmartPg.welcomeSubtitle
            - identifier: ca.mappings.onboarding.welcomeToWalmartPg.welcomeDisclaimer
              equals: ca.data.onboarding.welcomeToWalmartPg.welcomeDisclaimer
      - log:
          message: "End function: onboarding.validateOboardingPage"
          color: BLUE

#--------------------------------------------------------------------------------------------------------------------

  # Description: This function validate notification page
  # No Params
  - name: ca.test.functions.onboarding.validateNotificationPage
    platform: android
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.mappings.onboarding.getNotification.title
            - identifier: ca.mappings.onboarding.getNotification.allowButton
            - identifier: ca.mappings.onboarding.getNotification.maybeLaterButton
          text:
            - identifier: ca.mappings.onboarding.getNotification.notificationSubtitle
              equals: ca.data.onboarding.getNotification.notificationSubtitle
      - log:
          message: "End function: onboarding.validateNotificationPage"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: Validate onboarding share location page & learn more link pop up
  # No Params
  - name: ca.functions.onboarding.validateShareLocation$LearnMoreLink
    platform: android
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.global.onboarding.locationScreenText
            - identifier: ca.test.mappings.global.onboarding.sharePreciseLocation
            - identifier: ca.test.mappings.global.onboarding.enterZipCodeButton
          text:
            - identifier: ca.mappings.oboarding.shareLocation.subTitle
              equals: ca.data.oboarding.shareLocation.subTitle
      - click:
          identifier: ca.mappings.onboarding.shareLocation.learnNowLink
          coordinates: 80%,90%
      - verifyIdentifier:
          present:
            - identifier: ca.mappings.onboarding.shareLocation.learnNowLink.title
            - identifier: ca.mappings.onboarding.shareLocation.learnNowLink.description
      - click:
          identifier: ca.test.mappings.global.closeIcon
      - log:
          message: "End function: onboarding.shareLocationPgValidation"
          color: BLUE
          
#--------------------------------------------------------------------------------------------------------------------
  
  # Description: This function validate share your postal code page
  # No Params
  - name: ca.test.functions.onboarding.validateShareYourPostalCodePage
    platform: android
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.mappings.onboarding.shareLocation.locationIcon
            - identifier: ca.mappings.onboarding.sharePostalCode.title
            - identifier: ca.mappings.onboarding.sharePostalCode.searchButton
            - identifier: ca.mappings.onboarding.sharePostalCode.useCurrentLocationLink
          text:
            - identifier: ca.mappings.onboarding.shareLocation.title
              equals: ca.data.onboarding.shareLocation.title
            - identifier: ca.mappings.onboarding.sharePostalCode.enterPostalCodeText
              equals: ca.data.onboarding.sharePostalCode.enterPostalCodeText
            - identifier: ca.mappings.onboarding.sharePostalCode.searchButton
              equals: ca.data.onboarding.sharePostalCode.searchButton
            - identifier: ca.mappings.onboarding.sharePostalCode.useCurrentLocationLink
              equals: ca.data.onboarding.sharePostalCode.useCurrentLocationLink
      - log:
          message: "End functions: onboarding.validateShareYourPostalCodePage"
          color: BLUE

#--------------------------------------------------------------------------------------------------------------------

  # Description: This function validate personalised experience page
  # No Params
  - name: ca.test.functions.onboarding.validatePersonalisedExperienceScreen
    platform: android 
    flow:
      - verifyIdentifier:
          timeout: 30000
          present:
            - identifier: ca.test.mappings.home.personalizedExperience
          text:
            - identifier: ca.test.mappings.onboarding.personalisedExperience.subTitle
              equals: ca.android.data.mappings.onboarding.personalisedExperience.subTitle
      - log:
          message: "End functions: onboarding.validatePersonalisedExperienceScreen"
          color: BLUE         

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function handles personalised experience by allowing it.
  # No Params
  - name: ca.test.functions.onboarding.personalisedExperience.tapAllow
    flow:
      - verifyIdentifier:
          timeout: 15000
          present:
            - identifier: ca.test.mappings.onboarding.personalizedExperience    
      - click:
          identifier: ca.test.mappings.onboarding.personalizedExperienceAllowButton
      - log:
          message: "End functions: onboarding.personalisedExperience.tapAllow"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function handles personalised experience by allowing it.
  # No Params
  - name: ca.test.functions.onboarding.sharePostalCode.validateErrorMsg
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.onboarding.postalCodeErrorMsg
          text:
            - identifier: ca.test.mappings.onboarding.postalCodeErrorMsg
              equals: ca.data.onboarding.sharePostalCode.invalidPostalCode
      - log:
          message: "End functions: onboarding.sharePostalCode.validateErrorMsg"
          color: BLUE