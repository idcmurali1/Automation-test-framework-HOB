functions:

 #--------------------------------------------------------------------------------------------------------------------

  # Description: This method checks if onboarding process is active
  # No Params
  - name: ca.functions.onboarding.isOnboardingDisplayed
    flow:
      - storeIn:
          key: returnedIsDisplayed
          value: false
      - sleep:
          duration: 5000
      - if:
          identifier:
            present:
              - identifier: ca.mappings.onboarding.welcomeToWalmartPg.welcomeAnimation
              - identifier: ca.test.mappings.global.onboarding.mainScreenText
              - identifier: ca.mappings.onboarding.continueButton
          then:
            - storeIn:
                key: returnedIsDisplayed
                value: true
            - log:
                message: "End function: onboarding.isOnboardingDisplayed (Displayed)"
                color: BLUE
          else: 
            - log:
                message: "End function: onboarding.isOnboardingDisplayed (Not displayed)"
                color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: Tap on continue button
  # No Params
  - name: ca.functions.onboarding.tapContinueBtn
    flow:
      - click: 
          identifier: ca.mappings.onboarding.continueButton
      - log:
          message: "End function: onboarding.tapContinueBtn"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This method check if the notification page is displayed.
  # No Params
  - name: ca.test.functions.onboarding.isNotificationDisplayed
    flow:
      - storeIn:
          key: returnedIsDisplayed
          value: false
      - if:
          identifier:
            present:
              - identifier: ca.mappings.onboarding.getNotification.title
          then:
            - storeIn:
                key: returnedIsDisplayed
                value: true
            - log:
                message: "End function: onboarding.isNotificationDisplayed (Displayed)"
                color: BLUE
          else: 
            - log:
                message: "End function: onboarding.isNotificationDisplayed (Not displayed)"
                color: BLUE
  
  #--------------------------------------------------------------------------------------------------------------------

  # Description: Allow notification from the pop up
  # No Params
  - name: ca.test.functions.onboarding.allowNotification
    flow:
      - click:
          identifier: ca.mappings.onboarding.getNotification.allowButton
      - click:
          identifier: ca.mappings.onboarding.getNotification.allowPopUp
          wait: 10000
      - log:
          message: "End function: onboarding.allowNotification"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: Allow notification from the pop up
  # No Params
  - name: ca.test.functions.onboarding.dismissNotification
    flow:
      - click:
          identifier: ca.mappings.onboarding.getNotification.maybeLaterButton
          wait: 10000
      - log:
          message: "End function: onboarding.allowNotification"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function tap enter postal code link in share location page
  # No Params
  - name: ca.test.functions.onboarding.shareLocation.tapEnterPostalCodeLink
    flow:
      - click:
          identifier: ca.mappings.onboarding.shareLocation.enterPostalCodeLink
      - log: 
          message: "End functions: onboarding.shareLocation.tapEnterPostalCodeLink"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function tap on use current location button
  # No Params
  - name: ca.test.functions.onboarding.sharePostalCode.tapUseCurrentLocation
    flow:
      - click:
          identifier: ca.mappings.onboarding.sharePostalCode.useCurrentLocationLink
      - log:
          message: "End functions: onboarding.sharePostalCode.tapUseCurrentLocation"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: Allowing to share device precise location
  # No Params
  - name: ca.test.functions.onboarding.shareLocation.sharePreciseLocation
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.global.onboarding.locationScreenText
      - click:
          identifier: ca.test.mappings.global.onboarding.sharePreciseLocation
      - click:
          identifier: ca.mappings.onboarding.shareLocation.allowPreciseLcoation
      - log: 
          message: "End functiosn: onboarding.allowSharePreciseLocation"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function enters postal code to the postal code field.
  # Param:       ${PostalCode}  [Mandatory] Postal code to onboard the app.
  - name: ca.test.functions.onboarding.enterPostalCode
    flow:
      - enterText:
          identifier: ca.mappings.onboarding.sharePostalCode.enterPostalCodeText
          string: ${PostalCode}
      - log: 
          message: "End functions: onboarding.enterPostalCode"
          color: BLUE
        
  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function tap on search button
  # No Params
  - name: ca.test.functions.onboarding.sharePostalCode.tapSearchButton
    flow:
      - click:
          identifier: ca.mappings.onboarding.sharePostalCode.searchButton
      - log: 
          message: "End functions: onboarding.sharePostalCode.searchButton"
          color: BLUE