functions:

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function will validate if the Add address is page displayed
  # No Param
  # @Author: pratik.shete [vn55ofc]
  # @Last Update:

  - name: ca.test.functions.addresses.addAddress.isPageDisplayed
    flow:
      - storeIn:
          key: returnedIsDisplayed
          value: false
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.addresses.addAddress.pageTitle
              - identifier: ca.test.mappings.addresses.addAddress.saveButton
          then:
            - storeIn:
                key: returnedIsDisplayed
                value: true
            - log:
                message: "End function: addresses.addAddress.isPageDisplayed (returnedIsDisplayed)"
                color: BLUE
          else:
            - failTest:
                message: "End function: addresses.addAddress.isPageDisplayed (Not Displayed)"

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function enters first name to the first name field.
  # param: ${firstName}    [Mandatory] >> First Name to enter 

  - name: ca.test.functions.addresses.addAddress.enterFirstName
    flow:
      - enterText:
          identifier: ca.test.mappings.addresses.addAddress.firstName
          string: ${firstName}
          clearField: true
          clickFirst: true
      - log:
          message: "End functions: addresses.addAddress.enterFirstName"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function enters last name to the last name field.
  # param: ${lastName}    [Mandatory] >> Last Name to enter

  - name: ca.test.functions.addresses.addAddress.enterLastName
    flow:
      - enterText:
          identifier: ca.test.mappings.addresses.addAddress.lastName
          string: ${lastName}
          clearField: true
          clickFirst: true
      - log:
          message: "End functions: addresses.addAddress.enterLastName"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function enters street address to the street address field. 
  # param: ${streetAddress}    [Mandatory] >> Street address to enter 

  - name: ca.test.functions.addresses.addAddress.enterStreetAddress
    flow:
      - click:
          identifier: ca.test.mappings.addresses.addAddress.streetAddress
      - sleep:
          duration: 2000
      - if:
          identifier:
            present: 
              - identifier: ca.test.mappings.addresses.addAddress.allowDeviceLocationPermissionPopup
          then:
            - click:
                identifier: ca.test.mappings.address.addAddress.dontAllowButton         
      - enterText:
          identifier: ca.test.mappings.addresses.addAddress.streetAddress
          string: ${streetAddress}  
          clearField: true
          clickFirst: true
      - log:
          message: "End functions: addresses.addAddress.enterStreetAddress"
          color: BLUE 
  
  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function  select address from given suggestion list.
  # param: ${streetAddress}    [Mandatory] >> Street address to enter 

  - name: ca.test.functions.addresses.addAddress.enterAddressFromSuggestion
    flow:
      - sleep:
          duration: 2000              
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.addresses.addressSelectorDropdown.addressName #<--Params -${streetAddress}
      - click:
          identifier: ca.test.mappings.addresses.addressSelectorDropdown.addressName #<--Params -${streetAddress}
      - sleep:
          duration: 2000
      - log:
          message: "End functions: addresses.addAddress.enterSuggestedAddress"
          color: BLUE                  
        
  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function enters city name to the city name field.
  # param: ${cityName}    [Mandatory] >> City Name to enter

  - name: ca.test.functions.addresses.addAddress.enterCityName
    flow:
      - enterText:
          identifier: ca.test.mappings.addresses.addAddress.cityName
          string: ${cityName}
          clickFirst: true
      - goBack: true           
      - log:
          message: "End functions: addresses.addAddress.enterCityName"
          color: BLUE  

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function enters state name to the state name field.
  # param: ${stateName}    [Mandatory] >> State Name to enter

  - name: ca.test.functions.addresses.addAddress.enterStateName
    flow:
      - enterText:
          identifier: ca.test.mappings.addresses.addAddress.stateName
          string: ${stateName}
      - goBack: true           
      - log:
          message: "End functions: addresses.addAddress.enterStateName"
          color: BLUE            

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function enters Postal code to the Postal code field.
  # param: ${zipCode}    [Mandatory] >> Postal code to enter 

  - name: ca.test.functions.addresses.addAddress.enterPostalCode
    flow:
      - enterText:
          identifier: ca.test.mappings.addresses.addAddress.postalCode
          string: ${postalCode}
      - goBack: true          
      - log:
          message: "End functions: addresses.addAddress.enterPostalcode"
          color: BLUE           

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This function enters phone number to the phone number field.
  # param: ${phoneNumber}    [Mandatory]  Phone number to enter 

  - name: ca.test.functions.addresses.addAddress.enterPhoneNumber
    flow:
      - enterText:
          identifier: ca.test.mappings.addresses.addAddressphoneNumber
          string: ${phoneNumber}
      - goBack: true        
      - log:
          message: "End functions: addresses.addAddress.enterPhoneNumber"
          color: BLUE          

  # ----------------------------------------------------------------------------------------------------------------

  # Description:  This function taps on save button.
  # No Param

  - name: ca.test.functions.addresses.addAddress.saveButton
    flow:
      - click:
          identifier: ca.test.mappings.addresses.addAddress.saveButton
      - sleep:
          duration: 10000
      - log:
          message: "End function: addresses.addAddress.saveButton"
          color: BLUE
  
  # ----------------------------------------------------------------------------------------------------------------

  # Description:  This function taps on set default address checkbox button.
  # No Param

  - name: ca.test.functions.addresses.addAddress.setDefaultAddressCheckBox
    flow:
      - click:
          identifier: ca.test.mappings.addresses.addAddress.setDefaultAddressCheckBox
      - log:
          message: "End function: addresses.addAddress.setDefaultAddressCheckBox"
          color: BLUE

  # ----------------------------------------------------------------------------------------------------------------       

  # Description: This function is used to validate Suggestion Popup page displayed for Invalid address
  # No Param
  # @Author: pratik.shete [vn55ofc]
  # @Last Update:

  - name: ca.test.functions.addresses.addAddress.suggestionPopupForInvalidAddress.isPageDisplayed
    flow:
      - storeIn:
          key: suggestionPopup
          value: false
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.addresses.addAddress.suggestionPopPage.pageTitle
          then:
            - storeIn:
                key: suggestionPopup
                value: true
            - log:
                message: "End Functions: addresses.addAddress.suggestionPopupForInvalidAddress.isPageDisplayed (Displayed)"
                color: BLUE
          else:
            - failTest:
                message: "End Functions: addresses.addAddress.suggestionPopupForInvalidAddress.isPageDisplayed (Not Displayed)"

#----------------------------------------------------------------------------------------------------------------------------------
 
  # Description: This function is used to Close the Suggestion popup
  # No Param
  # @Author: pratik.shete [vn55ofc]
  # @Last Update:

  - name: ca.test.functions.addresses.addAddress.suggestionPopup.tapCloseButton
    flow:
      - click:
          identifier: ca.test.mappings.adddresses.addAddress.suggestionPopupPage.closeBtn
      - log:
          message: "End Functions: addresses.addAddress.suggestionPopup.tapCloseButton"
          color: BLUE

#------------------------------------------------------------------------------------------------------------------------------
  
  # Description: This function is used to validate information in Suggestion Popup page
  # No Param
  # @Author: pratik.shete [vn55ofc]
  # @Last Update: 

  - name: ca.test.functions.addresses.addAddress.suggestiongPopup.validatePopupPage
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.addresses.addAddress.suggestionPopupPage.messageHeader
            - identifier: ca.test.mappings.addresses.addAddress.suggestionPopupPage.suggestedLabel
            - identifier: ca.test.mappings.addresses.addAddress.suggestionPopupPage.nonVerificationLabel
            - identifier: ca.test.mappings.addresses.addAddress.suggestionPopupPage.useThisAddressBtn
            - identifier: ca.test.mappings.addresses.addAddress.suggestionPopupPage.goBackBtn
      - verifyIdentifier:
          checked:
            - identifier: ca.test.mappings.addresses.addAddress.suggestionPopupPage.radioBtn
              value: true
            - identifier: ca.test.mappings.addresses.addAddress.suggestionPopupPage.nonVerificationRadioBtn
              value: false
      - log:
          message: "End Functions: addresses.addAddress.suggestiongPopup.validatePopupPage"
          color: BLUE

#-------------------------------------------------------------------------------------------------------------------------------------
  
  # Description: This function is used to click on Use This Address button
  # No Param
  # @Author: pratik.shete [vn55ofc]
  # @Last Update

  - name: ca.test.functions.addresses.addAddress.suggestionPopupPage.tapUseThisAddressBtn
    flow:
      - click:
          identifier: ca.test.mappings.addresses.addAddress.suggestionPopupPage.useThisAddressBtn
      - sleep:
          duration: 10000
      - log:
          message: "End Functions: addresses.addAddress.suggestionPopupPage.tapUseThisAddressBtn"
          color: BLUE

#-------------------------------------------------------------------------------------------------------------------------------------