functions:

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This functions enter item value to search field
  # param: ${items}    [Mandatory]  item name to enter
  - name: ca.test.functions.searchPage.enterSearchText
    flow:
      - enterText:
          identifier: ca.test.mappings.searchPage.searchTextField
          string: ${item}
          pressEnter: true
      - sleep:
          duration: 5000    
      - log:
          message: "End functions: search.enterSearchText"
          color: BLUE  

  #--------------------------------------------------------------------------------------------------------------------
  
  # Description: This functions verify promotional badge present in search result
  # param: ${promotionalBadge}    [Mandatory]  Badge name to enter 
  - name: ca.test.functions.searchPage.isPromotionalProduct
    flow:  
      - storeIn:
          key: isPromotionalBadgeDisplayed
          value: false
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.searchPage.promotionalBadge #<--Params -${promotionalBadge}
          then:
            - storeIn:
                key: isPromotionalBadgeDisplayed
                value: true
            - log:
                message: "End function: search.isPromotionalProduct (Displayed)"
                color: BLUE
          else:
            - log:
                message: "End function: search.isPromotionalProduct (Not displayed)"
                color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This functions verify add to cart button in search page
  # No Param
  - name: ca.test.functions.searchPage.isAddToCartButtonPresent
    flow:
      - storeIn:
          key: isAddToCartButtonPresent
          value: false
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.searchPage.addtoCartButton
          then:
            - storeIn:
                key: isAddToCartButtonPresent
                value: true          
            - log:
                message: "End function: search.isAddToCartButtonPresent (Present)"
                color: BLUE
          else: 
            - log:
                message: "End function: search.isAddToCartButtonPresent (Not present)"
                color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This functions taps on add to cart button in search page
  # No Param
  - name: ca.test.functions.searchPage.tapAddToCartButton
    flow:
      - click:
          identifier: ca.test.mappings.searchPage.addtoCartButton
      - log:
          message: "End functions: search.tapAddToCartButton"
          color: BLUE  

  #--------------------------------------------------------------------------------------------------------------------
