functions:
  
  # Description: This function is used to validate Reserve time page displayed
  # No Param
  # @Author: pratik.shete [vn55ofc]
  # @Last Update: 

  - name: ca.test.functions.reserveTimePage.isPageDisplayed
    platform: android
    flow:
      - storeIn:
          key: returnedIsDisplayed
          value: false
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.reservePage.pageTitle
          then:
            - storeIn:
                key: returnedIsDisplayed
                value: true
            - log: 
                message: "End Function: reserveTimePage.isPageDisplayed (Displayed)"
                color: BLUE
          else:
            - failTest:
                message:  "End Function: reserveTimePage.isPageDisplayed (Not Displayed)"

#------------------------------------------------------------------------------------------------------------------------------------

  # Description: This function is used to click the required slot date
  # Param  ${requiredSlotDay}  [Mandatory] >> Used to Select Random Day Slot
  # @Author: pratik.shete [vn55ofc]
  # @Last Update: 

  - name: ca.test.functions.reserveTimePage.tapOnRequiredSlotDate
    platform: android
    flow:
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.reserveTimePage.daySlot
          then:
            - executeFunction:
                name: ca.test.functions.utils.scrollToView
                params:
                  - name: scrollContainer
                    string: ca.test.mappings.reserveTimePage.slotDayCarousel
                  - name: untilIdentifier
                    string: ca.test.mappings.reserveTimePage.lastSlotDay
                  - name: searchDirection
                    string: right
      - click:
          identifier: ca.test.mappings.reserveTimePage.tapOnRequiredSlotDate
      - sleep:
          duration: 5000
      - loop:
          begin: 1
          end: 9
          storeIndex: i
          flow:
            - if:
                identifier:
                  present:
                    - identifier: ca.test.mappings.reserveTimePage.slotTimings
                then:
                  - click:
                      identifier: ca.test.mappings.reserveTimePage.slotTimings
            - if:
                identifier:
                  notPresent:
                    - identifier: ca.test.mappings.reserveTimePage.slotPrice
                then:
                  - storeIn:
                      key: slotPrices
                      value: ca.test.data.freeSlotValue
                  - break: true
                else:
                  - getString:
                      identifier: ca.test.mappings.reserveTimePage.slotPrice
                      storeIn: slotPrices
            - log: ${slotPrices}
      - click:
          identifier: ca.test.mappings.reserveTimePage.reserveButton
      - log:
          message: "End Function: reserveTimePage.tapOnRequiredSlotDate"
          color: BLUE

#------------------------------------------------------------------------------------------------------------------------------------
          
            