functions:
  
  # Description: This function is used to validate Order Confirmation Page Displayed
  # No Param
  # @Author: pratik.shete [vn55ofc]
  # @Last Update: 
  
  - name: ca.test.functions.checkout.orderConfirmationPage.isPageDisplayed
    flow:
      - storeIn:
          key: isReturnedDisplayed
          value: false
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.orderConfitmaionPage.thankYouText
          then:
            - storeIn:
                key: isReturnedDisplayed
                value: true
            - log:
                message: "End Functions: checkout.orderConfirmationPage.isPageDisplayed (Displayed)"
                color: BLUE
          else:
            - failTest:
                message: "End Functions: checkout.orderConfirmationPage.isPageDisplayed (Not Displayed)"

#------------------------------------------------------------------------------------------------------------------
  
  # Description: This Function is used to validate Subscription text should present on Order confirmation page for Subscribe and save item
  # No Param
  # @Author: pratik.shete [vn55ofc]
  # @Last Update: 

  - name: ca.test.functions.checkout.orderConfirmationPage.isSubscriptionMsgDisplayedForSubscribe$SaveItem
    flow:
      - storeIn:
          key: isReturnedDisplayed
          value: false
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.orderConfirmationPage.subscribeToSaveBadge
          then:
            - storeIn:
                key: isReturnedDisplayed
                value: true
            - log:
                message: "End Functions: checkout.orderConfirmationPage.isSubscriptionMsgDisplayedForSubscribe$SaveItem (Displayed)"
                color: BLUE
          else:
            - failTest:
                message: "End Functions: checkout.orderConfirmationPage.isSubscriptionMsgDisplayedForSubscribe$SaveItem (Not Displayed)"

#----------------------------------------------------------------------------------------------------------------------------------------------
  
  # Description: This function is used to Validate In Store Pickup Fulfillment Details on Order Confirmation Page 
  # Param     ${storeName}          [Mandatory] >> Used to Validate Store Name
  #           ${storeAddress}       [Mandatory] >> Used to Validate Store Address
  # @Author: pratik.shete [vn55ofc]
  # @Last Update:

  - name: ca.test.functions.orderConfirmationPage.validateInStorePickupFulfillmentDetails
    flow:
      - if:
          condition: ${fulfillmentCondition} == 'in-Store pickup'
          then:
            - verifyIdentifier:
                present:
                  - identifier: ca.test.mappings.orderConfirmationPage.inStorePickupContainer
                  - identifier: ca.test.mappings.orderConfirmationPage.inStorePickupText
                  - identifier: ca.test.mappings.orderConfirmationPage.inStorePickupfulfillmentTime
                  - identifier: ca.test.mappings.orderConfirmationPage.inStorePickupName
                  - identifier: ca.test.mappings.orderConfirmationPage.inStorePickupAddress
                text:
                  - identifier: ca.test.mappings.orderConfirmationPage.inStorePickupName
                    contains: ${storeName}
                  - identifier: ca.test.mappings.orderConfirmationPage.inStorePickupAddress 
                    contains: ${storeAddress}
      - log:  
          message: "End Function: orderConfirmationPage.validateInStorePickupFulfillmentDetails"
          color: BLUE

#--------------------------------------------------------------------------------------------------------------------------------------------
  
  # Description: This function is used to Validate Shipping Fulfillment Details on Order Confirmation Page
  # Param   ${addressAssertion}      [Mandatory] >> Used to Validate Address Assertion
  # @Author: pratik.shete [vn55ofc]
  # @LastUpdate:

  - name: ca.test.functions.orderConfirmationPage.validateShippingFulfillmentDetails
    flow:
      - if:
          condition: ${fulfillmentCondition} == 'Shipping'
          then:
            - if:
                identifier:
                  notPresent:
                    - identifier: ca.test.mappings.orderConfirmationPage.shippingText
                then:
                  - scroll:
                      direction: down
                      untilIdentifier: ca.test.mappings.orderConfirmationPage.shippingText
            - verifyIdentifier:
                present:
                  - identifier: ca.test.mappings.orderConfirmationPage.shippingContainer
                  - identifier: ca.test.mappings.orderConfirmationPage.shippingfulfillmentTime
                  - identifier: ca.test.mappings.orderConfirmationPage.userFirst$LastName
                  - identifier: ca.test.mappings.orderConfirmationPage.shippingAddress
                text:
                  - identifier: ca.test.mappings.orderConfirmationPage.shippingAddress
                    contains: ${addressAssertion}
      - log:  
          message: "End Function: orderConfirmationPage.validateShippingFulfillmentDetails"
          color: BLUE

#--------------------------------------------------------------------------------------------------------------------------------------------

  # Description: This function is used to Validate Delivery From Store Fulfillent Type on Order Confirmation Page
  # Param      ${deliveryAddress}    [Mandatory] >> Used to Validate Delivery Address
  # @Author: pratik.shete [vn55ofc]
  # @LastUpdate:

  - name: ca.test.functions.orderConfirmationPage.validateDeliveryFromStoreFulfillmentDetails
    flow:
      - if:
          condition: ${fulfillmentCondition} == 'Delivery from store'
          then:
            - verifyIdentifier:
                present:
                  - identifier: ca.test.mappings.orderConfirmationPage.deliveryFromStoreContainer
                  - identifier: ca.test.mappings.orderConfirmationPage.deliveryFromStoreText
                  - identifier: ca.test.mappings.orderConfirmationPage.deliveryFromStoreFulfillmentTime
                  - identifier: ca.test.mappings.orderConfirmationPage.userFullName
                  - identifier: ca.test.mappings.orderConfirmationPage.deliveryStoreAddress
                  - identifier: ca.test.mappings.orderConfirmationPage.itemsCount
                  - identifier: ca.test.mappings.orderConfirmationPage.itemsImage
                text:
                  - identifier: ca.test.mappings.orderConfirmationPage.deliveryStoreAddress
                    contains: ${deliveryAddress}
      - log:
          message: "End Function: orderConfirmationPage.validateDeliveryFromStoreFulfillmentDetails"
          color: BLUE

#--------------------------------------------------------------------------------------------------------------------------------------------
  
  # Description: This function is used to Validate Unscheduled Pickup Instead Fulfillment Type Details on Order Confirmation Page
  # Param      ${pickupStoreName}       [Mandatory] >> Used to Validate Pickup Store Name
  #            ${pickupStoreAddress}    [Mandatory] >> Used to Validate Pickup Store Address
  # @Author: pratik.shete [vn55ofc]
  # @LastUpdate:

  - name: ca.test.functions.orderConfirmationPage.validatePickupInsteadFulfillmentTypeDetails
    flow:
      - if:
          condition: ${fulfillmentCondition} == 'Pickup'
          then:
            - if:
                identifier:
                  notPresent:
                    - identifier: ca.test.mappings.orderConfirmationPage.pickupText
                then:
                  - scroll:
                      direction: down
                      untilIdentifier: ca.test.mappings.orderConfirmationPage.pickupText
            - verifyIdentifier:
                present:
                  - identifier: ca.test.mappings.orderConfirmationPage.pickupContainer
                  - identifier: ca.test.mappings.orderConfirmationPage.pickupText
                  - identifier: ca.test.mappings.orderConfirmationPage.pickupFulfillmentTime
                  - identifier: ca.test.mappings.orderConfirmationPage.pickupStoreName
                  - identifier: ca.test.mappings.orderConfirmationPage.pickupStoreAddress
                  - identifier: ca.test.mappings.orderConfirmationPage.pickupArrivingDate
                  - identifier: ca.test.mappings.orderConfirmationPage.pickupItemsCount
                  - identifier: ca.test.mappings.orderConfirmationPage.pickupItemsImage
                text:
                  - identifier: ca.test.mappings.orderConfirmationPage.pickupStoreName
                    contains: ${pickupStoreName}
                  - identifier: ca.test.mappings.orderConfirmationPage.pickupStoreAddress
                    contains: ${pickupStoreAddress}
      - log:
          message: "End Function: orderConfirmationPage.validatePickupInsteadFulfillmentTypeDetails"
          color: BLUE
        
#--------------------------------------------------------------------------------------------------------------------------------------------
 