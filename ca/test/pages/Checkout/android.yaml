functions:
  
  # Description: This function is used to validate Product details on Item Details Page
  # Params ${ProductName}   [Mandatory] >> Used to extract product name
  # @Author: pratik.shete [vn55ofc]
  # @Last Update

  - name: ca.test.functions.checkoutPage.itemDetailsPage.validateProductDetails
    platform: android
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.checkout.cheduledFulfillment.itemDetailsPage.productPrice
            - identifier: ca.test.mappings.checkout.cheduledFulfillment.itemDetailsPage.productQty
      - verifyIdentifier:
          text:
            - identifier: ca.test.mappings.checkout.scheduledFulfillment.itemDetailsPage.productName
              contains: ${ProductName}
      - log:
          message: "End Functions: checkoutPage.itemDetailsPage.validateProductDetails"
          color: BLUE

#--------------------------------------------------------------------------------------------------------------------------------------
   
  # Description: This function is used to close the item details page
  # No Param
  # @Author: pratik.shete [vn55ofc]
  # @Last Update:

  - name: ca.test.functions.checkout.itemDetailsPage.tapCloseBtn
    platform: android
    flow:
      - click:
          identifier: ca.test.mappings.checkout.itemDetailsPage.doneButton
      - log:
          message: "End Functions: checkout.itemDetailsPage.tapCloseBtn"
          color: BLUE

#--------------------------------------------------------------------------------------------------------------------------------------
  
  # Description: Enter the driver tip value
  # Params   ${customTipAmount}  [Mandatory] >> Custom tip input value

  - name: ca.test.functions.checkout.driverTip.enterCustomValue
    platform: android
    flow:
      - if:
          identifier:
            notPresent:
              - identifier: ca.test.mappings.checkout.driverTip.customBox
          then:
            - scroll:
                direction: down
                untilIdentifier: ca.test.mappings.checkout.driverTip.customBox
      - click:
          identifier: ca.test.mappings.checkout.driverTip.customBox
      - sleep:
          duration: 500
      - enterText:
          identifier: ca.test.mappings.checkout.driverTip.enterCustomTip
          clearField: true
          string: ${customTipAmount}
      - goBack: true
      - if:
          condition: ${customTipAmount} <= 100
          then:
            - verifyIdentifier:
                timeout: 10000
                present:
                  - identifier: ca.test.mappings.checkout.driverTip.customValue.editButton
      - log:
          message: "End function: checkout.driverTip.enterCustomValue"
          color: BLUE

#---------------------------------------------------------------------------------------------------------------------------#
  
  # Description: Enter the driver tip value
  # No Params
  - name: ca.test.functions.checkout.driverTip.iBtnValidation
    platform: android
    flow:
      - click: 
            identifier: ca.test.mappings.checkout.driverTip.iButton
      - sleep:
          duration: 500
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.checkout.driverTip.iBtn.header
            - identifier: ca.test.mappings.checkout.driverTip.iBtn.description
            - identifier: ca.test.mappings.driverTip.iBtn.closeIcon
      - click:
          identifier: ca.test.mappings.driverTip.iBtn.closeIcon
      - sleep:
          duration: 1000
      - verifyIdentifier:
          text:
            - identifier: ca.test.mappings.checkout.driverTip.driverTipSubHeading
              contains: ca.test.data.pt001.driverTip.description
      - log:
          message: "End function: checkout.driverTip.iBtnValidation"
          color: BLUE        

#---------------------------------------------------------------------------------------------------------------------

  # Validating driver tip
  # No Params
  - name: ca.test.functions.checkOut.validatingDriverTip
    platform: android
    flow:
      - verifyIdentifier:
          timeout: 60000
          present:
            - identifier: ca.test.mappings.checkOutPage.fulfillmentCard
      - if:
          identifier:
            notPresent:
              - identifier: ca.test.mappings.checkOut.headingDriverTip
          then:
            - scroll:
                direction: down
                untilIdentifier: ca.test.mappings.checkOut.headingDriverTip
                timeout: 3000
                position: center
          # else:
          #   - scroll:
          #       direction: down
          #       untilIdentifier: ca.test.mappings.checkOut.headingDriverTip
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.checkOut.driverTipAmountDefault
            - identifier: ca.test.mappings.checkOut.driverTippingAmountOptions
            - identifier: ca.test.mappings.checkOut.headingDriverTip
            - identifier: ca.test.mappings.checkOut.driverTippingMoreInfo
      - log:
          message: "End function: checkOut.validatingDriverTip"
          color: BLUE      

#---------------------------------------------------------------------------------------------------------------------