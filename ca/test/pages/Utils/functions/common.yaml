functions:

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This method set the platform before the start of the execution
  # Params       No params
  - name: ca.test.functions.utils.setExecutionPlatform
    flow:
      - if:
          condition: ${dependencies.general.appPackage} == 'ca.walmart.ecommerceapp.qa'
          then:
            - storeIn:
                key: platformValue
                value: 'android'                
            - log:
                  message: "Execution platform is set to Android"
                  color: BLUE
          else:
            - storeIn:
                key: platformValue
                value: 'ios'           
            - log:
                  message: "Execution platform is set to iOS"
                  color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This method handles the pop ups after user login
  # Param        No Params
  - name: ca.test.functions.utils.handlePopUpsAfterLogin
    flow:
      - loop:
          begin: 0
          end: 2
          mode: increment
          storeIndex: i
          flow:
            - executeFunction:
                name: ca.test.functions.utils.cartMergePop
            - executeFunction:
                name: ca.test.function.escape-route.closeAddPhoneNumberPopup
      - verifyIdentifier:
          notPresent:
            - identifier: ca.test.mappings.global.authentication.signInButton
      - log:
          message: "End Function: utils.handlePopUpsAfterLogin"
          color: BLUE 
  
  # Description: This function is used to Add Default Credentials for Credit Card
  # Param
  # @Author; pratik.shete [vn55ofc]
  # @LastUpdate:

  - name: ca.test.functions.utils.addCreditCard
    flow:
      - if:
          condition: ${cardNumber} == "null"
          then:
            - storeIn:
                key: cardNumber
                value: "4012000077777777"
      - if:
          condition: ${expirationDate} == "null"
          then:
            - storeIn:
                key: expirationDate
                value: "12/25"
      - if:
          condition: ${securityCode} == "null"
          then:
            - storeIn:
                key: securityCode
                value: "123"
      - if:
          condition: ${firstName} == "null"
          then:
            - storeIn:
                key: firstName
                value: "Walmart"
      - if:
          condition: ${lastName} == "null"
          then:
            - storeIn:
                key: lastName
                value: "Glass"
      - if:
          condition: ${phoneNumber} == "null"
          then:
            - storeIn:
                key: phoneNumber
                value: "9876543210"
      - if:
          condition: ${streetAddress} == "null"
          then:
            - storeIn:
                key: streetAddress
                value: "3345 Innes Rd"
      - if:
          condition: ${cityName} == "null"
          then:
            - storeIn:
                key: cityName
                value: "Orleans"
      - if:
          condition: ${stateName} == "null"
          then:
            - storeIn:
                key: stateName
                value: "ON"
      - if:
          condition: ${postalCode} == "null"
          then:
            - storeIn:
                key: postalCode
                value: "K1C 1T1"
      - log:
          message: "End Function: utils.addCreditCard"
          color: BLUE
  #--------------------------------------------------------------------------------------------------------------------
   
  # Description: This function is used to add Default Credentials for Walmart Master Card
  # Param
  # @Author: pratik.shete [vn55ofc]
  # @LastUpdate:

  - name: ca.test.functions.utils.addWalmartMasterCard
    flow:
      - if:
          condition: ${cardNumber} == "null"
          then:
            - storeIn:
                key: cardNumber
                value: "5434409631235551"
      - if:
          condition: ${expirationDate} == "null"
          then:
            - storeIn:
                key: expirationDate
                value: "12/25"
      - if:
          condition: ${securityCode} == "null"
          then:
            - storeIn:
                key: securityCode
                value: "999"
      - if:
          condition: ${firstName} == "null"
          then:
            - storeIn:
                key: firstName
                value: "Walmart"
      - if:
          condition: ${lastName} == "null"
          then:
            - storeIn:
                key: lastName
                value: "Glass"
      - if:
          condition: ${phoneNumber} == "null"
          then:
            - storeIn:
                key: phoneNumber
                value: "9876543210"
      - if:
          condition: ${streetAddress} == "null"
          then:
            - storeIn:
                key: streetAddress
                value: "3345 Innes Rd"
      - if:
          condition: ${cityName} == "null"
          then:
            - storeIn:
                key: cityName
                value: "Orleans"
      - if:
          condition: ${stateName} == "null"
          then:
            - storeIn:
                key: stateName
                value: "ON"
      - if:
          condition: ${postalCode} == "null"
          then:
            - storeIn:
                key: postalCode
                value: "K1C 1T1"
      - log:
          message: "End Function: utils.addWalmartMasterCard"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------
  
  # Description: This function is used to add Default Credentials for Amex Card
  # Param
  # @Author: pratik.shete [vn55ofc]
  # @LastUpdate

  - name: ca.test.functions.utils.addAmexCard
    flow:
      - if:
          condition: ${cardNumber} == "null"
          then:
            - storeIn:
                key: cardNumber
                value: "373235387881007"
      - if:
          condition: ${expirationDate} == "null"
          then:
            - storeIn:
                key: expirationDate
                value: "12/25"
      - if:
          condition: ${securityCode} == "null"
          then:
            - storeIn:
                key: securityCode
                value: "1234"
      - if:
          condition: ${firstName} == "null"
          then:
            - storeIn:
                key: firstName
                value: "Walmart"
      - if:
          condition: ${lastName} == "null"
          then:
            - storeIn:
                key: lastName
                value: "Glass"
      - if:
          condition: ${phoneNumber} == "null"
          then:
            - storeIn:
                key: phoneNumber
                value: "9876543210"
      - if:
          condition: ${streetAddress} == "null"
          then:
            - storeIn:
                key: streetAddress
                value: "3345 Innes Rd"
      - if:
          condition: ${cityName} == "null"
          then:
            - storeIn:
                key: cityName
                value: "Orleans"
      - if:
          condition: ${stateName} == "null"
          then:
            - storeIn:
                key: stateName
                value: "ON"
      - if:
          condition: ${postalCode} == "null"
          then:
            - storeIn:
                key: postalCode
                value: "K1C 1T1"
      - log:
          message: "End Function: utils.addAmexCard"
          color: BLUE
  
  #--------------------------------------------------------------------------------------------------------------------
  
  # Description: This function is used to add Default Credentials for Walmart Rewards Card
  # Param
  # @Author: pratik.shete [vn55ofc]
  # @LastUpdate:

  - name: ca.test.functions.utils.addWalmartRewardCard
    flow:
      - if:
          condition: ${cardNumber} == "null"
          then:
            - storeIn:
                key: cardNumber
                value: "373235387881007"
      - if:
          condition: ${expirationDate} == "null"
          then:
            - storeIn:
                key: expirationDate
                value: "12/25"
      - if:
          condition: ${securityCode} == "null"
          then:
            - storeIn:
                key: securityCode
                value: "1234"
      - if:
          condition: ${firstName} == "null"
          then:
            - storeIn:
                key: firstName
                value: "Walmart"
      - if:
          condition: ${lastName} == "null"
          then:
            - storeIn:
                key: lastName
                value: "Glass"
      - if:
          condition: ${phoneNumber} == "null"
          then:
            - storeIn:
                key: phoneNumber
                value: "9876543210"
      - if:
          condition: ${streetAddress} == "null"
          then:
            - storeIn:
                key: streetAddress
                value: "3345 Innes Rd"
      - if:
          condition: ${cityName} == "null"
          then:
            - storeIn:
                key: cityName
                value: "Orleans"
      - if:
          condition: ${stateName} == "null"
          then:
            - storeIn:
                key: stateName
                value: "ON"
      - if:
          condition: ${postalCode} == "null"
          then:
            - storeIn:
                key: postalCode
                value: "K1C 1T1"
      - log:
          message: "End Function: utils.addWalmartRewardCard"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------
  
  # Description: This function is used to add Default Paypal Credentials
  # Param
  # @Author: pratik.shete [vn55ofc]
  # @LastUpdate:

  - name: ca.test.functions.utils.addPaypal
    flow:
      - if:
          condition: ${paypalEmail} == "null"
          then:
            - storeIn:
                key: paypalEmail
                value: "sb-80yfm408689@personal.example.com"
      - if:
          condition: ${paypalPwd} == "null"
          then:
            - storeIn:
                key: paypalPwd
                value: "h@EW8+Ew"
      - log:
          message: "End Function: utils.addPaypal"
          color: BLUE
  
  #--------------------------------------------------------------------------------------------------------------------

