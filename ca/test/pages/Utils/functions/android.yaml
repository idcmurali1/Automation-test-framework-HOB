functions:

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This method check for technical issue in a page
  # Params       No params
  - name: ca.test.functions.utils.error.isTechnicalIssueDisplayed
    flow:
      - storeIn:
          key: isErrorDisplayed
          value: true
      - if:
          identifier:
            present:
              - identifier: ca.test.functions.utils.error.technicalIssue
          then:
            - storeIn:
                key: isErrorDisplayed
                value: false 
      - log:
          message: "End Function: utils.error.isTechnicalIssueDisplayed"
          color: BLUE

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This method calculates the x and y coordinates of the container to be scrolled
  # Params       No params
  - name: ca.test.functions.utils.findingContainerCoordinates
    platform: android
    flow:
      - getString:
          identifier: ${scrollContainer}
          attribute: bounds
          storeIn: bounds
      - log: 
          message: "Bounds coordinates of the element container: ${bounds}"
          color: CYAN
      - executeNode:
          file: ca/test/helpers/utils/extractElementCoordinates.js
          args:
            - value: ${bounds}
            - value: Android
          getValue:
            - key: x
              storeIn: containerX
            - key: y
              storeIn: containerY
            - key: x2
              storeIn: containerX2
            - key: y2
              storeIn: containerY2
          getResponse:
            storeIn: containerBoundsJson    

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This method calculates the x and y coordinates of the product to be scrolled
  # Params       No params
  - name: ca.test.functions.utils.findingProductCoordinates
    platform: android
    flow:
      - getString:
            identifier: ${untilIdentifier}
            attribute: bounds
            storeIn: productcoordinates
      - executeNode:
          file: ca/test/helpers/utils/extractElementCoordinates.js
          args:
            - value: ${productcoordinates}
            - value: Android
          getValue:
            - key: x
              storeIn: ProductX
            - key: y
              storeIn: ProductY
            - key: x2
              storeIn: ProductX2
            - key: y2
              storeIn: ProductY2
          getResponse:
            storeIn: ProductBoundsJson

  #--------------------------------------------------------------------------------------------------------------------

  # Description: This method hides keyboard from UI
  # Params       No params
  - name: ca.test.functions.utils.hideKeyboard
    platform: android
    flow:
      - goBack: true
      - log:
          message: "End Fucntion: utils.hideKeyboard"
          color: BLUE