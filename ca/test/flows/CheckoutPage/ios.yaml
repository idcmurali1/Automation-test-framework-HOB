functions:
  #--------------------------------------------------------------------------------------------------------------------

  # Description: This functions if for Order summary validation in checkout page
  # Params  ${GOproductName} [Mandatory] Used for Go product Name assertion
  #         ${MXproductName} [Mandatory] Used for Mx product assertion
  #         ${1PproductName} [Mandatory] Used for 1P product assertion
  #         ${3PproductName} [Mandatory] Used for 3P productassertion
  #         ${FreightproductName} [Mandatory] Used for Freight product assertion

  - name: ca.test.functions.checkOut.OrderSummaryValidation
    platform: ios
    flow:
        - if:
            identifier:
              present:
                - identifier: ca.test.mappings.checkout.subtitutionPreferences.close
            then:
                - click:
                    identifier: ca.test.mappings.checkout.subtitutionPreferences.close
        - executeFunction:
            name: ca.test.functions.checkOut.OrderSummaryValidationSC
            params:
                - name: productName
                  string: ${GOproductName}
        - executeFunction:
            name: ca.test.functions.checkOut.OrderSummaryValidationSC
            params:
                - name: productName
                  string: ${MXproductName}     
        - click:
            identifier: ca.test.mappings.cart.done
        - log:
                message: "SC group validated in checkout!"
        - executeFunction:
            name: ca.test.functions.checkOut.OrderSummaryValidationFC
            params:
                - name: productName
                  string: ${1PproductName}
        - executeFunction:
            name: ca.test.functions.checkOut.OrderSummaryValidationFC
            params:
                - name: productName
                  string: ${3PproductName}     
        - executeFunction:
            name: ca.test.functions.checkOut.OrderSummaryValidationFC
            params:
                - name: productName
                  string: ${FreightproductName}     
        - click:
            identifier: ca.test.mappings.cart.done
        - log:
                message: "FC group validated in checkout!"
      
  #--------------------------------------------------------------------------------------------------------------------
  # Description: This functions if for verifying Pickup and delivery details of User
  # Params  ${SCfulfilmentType} [Mandatory] Used for Schuled fulfilmentType assertion
  #         ${FCfulfilmentType} [Mandatory] Used for Unscheduled fulfilmentType assertion
  #         ${pickupStoreAddress} [Mandatory] Used for pickup Store address assertion
  #         ${deliveryAddress} [Mandatory] Used for delivery address assertion

  - name: ca.test.functions.checkOut.pickupAndDeliveryDetailsValidation
    platform: ios
    flow:
        - executeFunction:
            name: ca.test.functions.checkOut.pickupDetailsValidation
            params:
              - name: fulfillmentType
                string: ${SCfulfilmentType}
        - log:
            message: "pickup store address validated"
            
        - executeFunction:
            name: ca.test.functions.checkOut.deliveryDetailsValidation
            params:
              - name: fulfillmentType
                string: ${FCfulfilmentType}
        - log:
            message: "delivery address validated"
  #--------------------------------------------------------------------------------------------------------------------
  # Description: This functions if for verifying payment information
  # Params  ${paymentCard} [Mandatory] Used for Stored payment Card assertion

  - name: ca.test.functions.checkOut.validateStoredPaymentOptions
    platform: ios
    flow:
        - if:
            identifier:
              notPresent:
                - identifier: ca.test.validation.signInFromAccount.wallet
            then:
                - scroll:
                    direction: down
                    untilIdentifier: ca.test.validation.signInFromAccount.wallet
        - verifyIdentifier:
            present:
            - identifier: ca.test.validation.signInFromAccount.wallet
            - identifier: ca.test.mappings.checkoutPage.payment.cardIcon
            - identifier: ca.test.mappings.checkoutPage.payment.cardLastFourdigits
            - identifier: ca.test.mappings.checkOutPage.editPaymentButton
            - identifier: ca.test.mappings.checkout.paymentCard
            
#--------------------------------------------------------------------------------------------------------------------
  # Description: This functions if for verifying promocode field
  # no parameter
  - name: ca.test.functions.checkOut.promofieldValidation
    platform: ios
    flow:
        - scroll:
            direction: down
            untilIdentifier: ca.test.mappings.checkOut.promoCodeField
        - click:
            identifier: ca.test.mappings.checkOutPage.openViewPromoCode
        - verifyIdentifier:
            timeout: 500
            present:
              - identifier: ca.test.mappings.checkOut.PromoCodeApply
              - identifier: ca.test.mappings.checkOut.promoCodeTextField
              - identifier: ca.test.mappings.checkout.promoCode.entryField
#--------------------------------------------------------------------------------------------------------------------
  # Description: This functions if for book third day pickup slot from slot page
  # no parameter
  - name: ca.test.functions.cart.standardThirdDayPickupSlotfromSlotPage
    platform: ios
    flow:
      - sleep:
          duration: 5000  
      - executeFunction:
          name: ca.test.functions.cart.reserveTimePage
      - executeFunction:
          name: ca.test.functions.reserveTimePageValidation
      - executeFunction: 
          name: ca.test.functions.bookASlot.reserveTimePage.ThirdDayStandardSlotSelection
      - executeFunction:
          name: ca.test.functions.bookASlot.reserveTimePage.bookASlotButton
    
