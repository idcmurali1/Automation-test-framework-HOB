functions:

  # Description: This function is used to add add address
  # Param  ${firstName}       [Mandatory]  >>  Used to enter First Name
  #        ${lastName}        [Mandatory]  >>  Used to enter Last Name
  #        ${streetAddress}   [Mandatory]  >>  Used to enter Street Address
  #        ${cityName}        [Mandatory]  >>  Used to enter City Name
  #        ${stateName}       [Mandatory]  >>  Used to entre State Name
  #        ${postalCode}      [Mandatory]  >>  Used to enter Postal Code
  #        ${phoneNumber}     [Mandatory]  >>  Used to enter Phone Number
  #        ${suggestionPopup} [Mandatory]  >>  Used to Validate Suggestion popup for Invalid Address
  # @Author: pratik.shete [vn55ofc]
  # @Last Update:

  - name: ca.test.functions.address.addAddress
    platform: android
    flow:
      - if:
          condition: ${firstName} == "null"
          then:
            - storeIn:
                key: firstName
                value: "Walmart"
      - if:
          condition: ${lastName} == "null"
          then:
            - storeIn:
                key: lastName
                value: "Glass"
      - if:
          condition: ${streetAddress} == "null"
          then:
            - storeIn:
                key: streetAddress
                value: "3345 Innes Rd"
      - if:
          condition: ${cityName} == "null"
          then:
            - storeIn:
                key: cityName
                value: "Ottawa"
      - if:
          condition: ${stateName} == "null"
          then:
            - storeIn:
                key: stateName
                value: "ON"
      - if:
          condition: ${postalCode} == "null"
          then:
            - storeIn:
                key: postalCode
                value: "K1C 7L5"
      - if:
          condition: ${phoneNumber} == "null"
          then:
            - storeIn:
                key: phoneNumber
                value: "9876543210"    
      - executeFunction:
          name: ca.test.functions.addresses.addAddress.isPageDisplayed
      - if:
          condition: '!${isReturnedDisplayed}'
          then: 
            - failTest:
                message: "End Functions: addresses.addAddress.isPageDisplayed (Not Displayed)"
      - executeFunction:
          name: ca.test.functions.addresses.addAddress.enterFirstName
          params:
            - name: firstName
              string: ${firstName}
      - executeFunction:
          name: ca.test.functions.addresses.addAddress.enterLastName
          params:
            - name: lastName
              string: ${lastName}
      - executeFunction:
          name: ca.test.functions.addresses.addAddress.enterStreetAddress
          params:
            - name: streetAddress
              string: ${streetAddress}
      - executeFunction:
          name: ca.test.functions.addresses.addAddress.enterAddressFromSuggestion
          params:
            - name: streetAddress
              string: ${streetAddress}
      - executeFunction:
          name: ca.test.functions.addresses.addAddress.enterCityName
          params:
            - name: cityName
              string: ${cityName}
      - executeFunction:
          name: ca.test.functions.addresses.addAddress.enterStateName
          params:
            - name: stateName
              string: ${stateName}
      - executeFunction:
          name:  ca.test.functions.addresses.addAddress.enterPostalCode
          params:
            - name: postalCode
              string: ${postalCode}
      - executeFunction:
          name: ca.test.functions.addresses.addAddress.enterPhoneNumber
          params:
            - name: phoneNumber
              string: ${phoneNumber}
      - executeFunction:
          name: ca.test.functions.addresses.addAddress.saveButton
      - if:  
          condition: ${suggestionPopup}
          then:
            - executeFunction:
                name: ca.test.functions.addresses.addAddress.suggestionPopupForInvalidAddress.isPageDisplayed
            - if:
                condition: '!${isReturnedDisplayed}'
                then: 
                  - failTest:
                      message: "Suggestion Pop up page is (Not Displayed)"
            - executeFunction:
                name: ca.test.functions.addresses.addAddress.suggestiongPopup.validatePopupPage
            - executeFunction:
                name: ca.test.functions.addresses.addAddress.suggestionPopupPage.tapOnUseThisAddressBtn
      - log:
          message: "End Functions: addresses.addAddress.isPageDisplayed"
          color: GREEN_BOLD

#----------------------------------------------------------------------------------------------------------------------
