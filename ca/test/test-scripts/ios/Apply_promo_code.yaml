#To add the amount to promocode coupons through Running the script
general:
  platform: ios
  tags: applyPromo
  inherit: 
    filesRunAll:
      - ca-errors-helpers.yaml
  
scenarios:
  - name: Before
    before: true
    endTestOnFailure: true
    flow:
      - log: Execute before steps

# * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * #
      - log: 'R2_SUBFLOW_PRE_TRANSACTION'
# * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * #
  - name: Main
    flow:

          # Applying promo code to exisiting customer
      - executeFunction: 
          name: ca.test.functions.astro.promoCode
          params:
            - name: email
              string: reg20@gmail.com #asso18@gmail.com #GCvoucher@gmail.com
            - name: password
              string: Walmart123
            - name: promoCode
              string: CA_GR_10_OFF #CANADA_CS_100_OFF_ENTIRE_ORDER # CA_CS_20_OFF

# change the email id and Promocodes(Voucher) and run this script in local or saucelabs.
# the promocode is acticated

#another way is through astro:
#link: http://astroui.dev.walmart.com/gTeflonCA/accounts

#anther way is through Postman:
#need to change the cid in curl.


# java -jar r2-binary/r2.jar -a . -d ca/test/dependencies/ios/ios-default.yaml -t applyPromo -p local