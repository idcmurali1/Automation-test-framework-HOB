general:
  platform: android
  tags: contextualHelpMissingItem

scenarios:
  #--------------------------------------------------------------------------------------------------------------------
  - name: Validate the contextualHelpMissingItem Modal
    flow:
      - log: "TEST START - Contextual Help for Missing Item"

      - executeFunction:
          name: ca.test.functions.global.onboarding.navigateOnboardingToHome.paramZip
          params:
            - name: ZIP_CODE
              string: ca.test.data.onboarding.zipcode

      - executeFunction:
          name: ca.functions.home.navigateHomeToAccount

      - executeFunction:
          name: ca.test.functions.global.authentication.signInAccount
          params:
            - name: email
              string: ca.test.data.contextualHelp.email
            - name: password
              string: ca.test.data.contextualHelp.password

      - executeFunction:
          name: ca.test.functions.contextaulHelp.missingItem.navigateToContextualHelpModal

      - executeFunction:
          name: ca.test.functions.contextaulHelp.ArticleCount
      - log:
          message: "Total help article ${totalArticle}"
          color: GREEN_BOLD

      - if:
          condition: "${totalArticle} < 1"
          then:
            - failTest:
                message: "Article not loaded"

      - executeFunction:
          name: ca.test.functions.contextaulHelp.missingItem.feedback.helpful

      - executeFunction:
          name: ca.test.functions.contextaulHelp.modal.closeAction

      # Open Contextual Help Modal
      - executeFunction:
          name: ca.test.functions.purchaseHistory.viewContextualHelpModal

      - executeFunction:
          name: ca.test.functions.contextaulHelp.missingItem.feedback.notHelpfulAction
