general:
  platform: android
  tags: dp-004-android,dp-sanity
  inherit:
    filesRunAll:
      - ca-errors-helpers.yaml
scenarios:
  - name: Before
    before: false
    endTestOnFailure: false
    flow: 
      - log: Execute before scenarios
# * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      - log: 'R2_SUBFLOW_PRE_TRANSACTION'
# * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      
  - name: Main
    flow:
      
      - executeFunction:
          name: ca.test.functions.global.onboarding.navigateOnboardingToHome.paramZip
          params:
            - name: ZIP_CODE
              string: ca.test.android.data.deliveryPass.zipCode  

      - executeFunction:
          name: ca.functions.home.navigateHomeToAccount 

      - executeFunction:
          name: ca.test.functions.global.authentication.signInAccount
          params:
            - name: email
              string: ca.android.test.data.dp004.email
            - name: password
              string: ca.test.android.data.deliveryPass.password

      - log: '==================  Verify Membership Details for Annual Deliver Pass Subscription =================='   

      - executeFunction:
          name: ca.test.functions.accountPage.navigateToDeliveryPass

      - executeFunction:
         name: ca.test.functions.accountPage.clickOnWalmartDeliveryPass

      - executeFunction:
         name: ca.functions.accountPage.deliveryPass.verifyMembershipDetails
         params:
            - name: deliveryPassTitleText
              string: ca.android.test.data.deliveryPass.deliveryPassTitleText
            - name: totalSaving
              string: ca.android.test.data.deliveryPass.totalSaving
            - name: planName
              string: ca.android.test.data.deliveryPass.dp004.planName
            - name: renewsInDaysText
              string: ca.android.test.data.deliveryPass.dp004.renewsInDaysText
            - name: nextPaymentDateText
              string: ca.android.test.data.deliveryPass.nextPaymentDateText
            - name: planAmount
              string: ca.android.test.data.deliveryPass.dp004.planAmount  
            - name: paymentMethodHeadingText
              string: ca.android.test.data.deliveryPass.paymentMethodHeadingText
            - name: cardDetails
              string: ca.android.test.data.deliveryPass.dp004.cardDetails 
            - name: addressHeadingText
              string: ca.android.test.data.deliveryPass.addressHeadingText
            - name: addressDetails
              string: ca.android.test.data.deliveryPass.dp004.addressDetails              
                                                   
      - log: Tests Completed successfully
  
  - name: After
    after: true
    flow:
      - executeFunction:
          name: ca.test.functions.utils.afterSteps 
          