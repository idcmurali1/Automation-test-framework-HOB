functions:

  #Search          
  - name: ca.functions.home.search.searchItem
    platform: ios
    flow:
      - click:
          identifier: ca.mappings.home.searchBar
          wait: 3000
      - verifyIdentifier:
          present:
            - identifier: ca.mappings.home.searchBarSelected
      - enterText:
          identifier: ca.mappings.home.searchBarSelected
          string: ${searchTerm}
          pressEnter: true
      - verifyIdentifier:
          notPresent:
             - identifier: ca.mappings.home.searchBarSelected
      - verifyIdentifier:
          present:
            - identifier: ca.mappings.search.firstItem          

  - name: ca.functions.home.search.invalidsearchItem
    platform: ios
    flow:
      - click:
          identifier: ca.mappings.home.searchBar
          wait: 3000
      - verifyIdentifier:
          present:
            - identifier: ca.mappings.home.searchBarSelected
      - enterText:
          identifier: ca.mappings.home.searchBarSelected
          string: ${invalidsearchTerm}
          pressEnter: true
      - verifyIdentifier:
          notPresent:
             - identifier: ca.mappings.home.searchBarSelected
      - verifyIdentifier:
          present:
            - identifier: ca.mappings.search.returnToHome
      - verifyIdentifier:
          present:
            - identifier: ca.mappings.search.noSearchResult
      - click:
          identifier: ca.mappings.search.returnToHome
          wait: 3000
      - verifyIdentifier:
          present:
            - identifier: ca.mappings.home.searchBarSelected
            
  - name: ca.functions.home.navigateHomeToSignIn
    platform: android
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.mappings.tabBar.account
      - click:
          identifier: ca.mappings.tabBar.account
      - click:
          identifier: ca.mappings.account.signInButton   

   # HomePage validation
  - name: ca.test.functions.home.headerElements.validateHomePage
    platform: android
    flow:
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.home.GIC.collapseBtn
          then:
            - click:
                identifier: ca.test.mappings.home.GIC.collapseBtn
      - verifyIdentifier:
          timeout: 15000
          present: 
            - identifier: ca.test.mappings.home.searchBarSelected
            - identifier: ca.test.mappings.home.signInButton
            - identifier: ca.test.mappings.home.logo
            - identifier: ca.test.mappings.navBar.cartIcon
      - if:
          identifier:
            notPresent:
              - identifier: ca.test.mappings.home.seeTimes
          then:
            - scroll:
                direction: down
                position: center
                untilIdentifier: ca.test.mappings.home.seeTimes
            - verifyIdentifier:
                present:
                  - identifier: ca.test.mappings.home.seeTimes
      - log:
          message: "--------------------Validating Home Page--------------------"
          color: GREEN_BOLD

  # Navigate To HomePage from cart
  - name: ca.test.functions.home.navigateHomefromCart
    platform: android
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.cart.backIcon
      - click:
          identifier: ca.test.mappings.cart.backIcon

  # Navigate To SignIn in HomePage
  - name: ca.test.functions.home.navigateHomeToSignIn
    platform: android
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.tabBar.account
      - click:
          identifier: ca.test.mappings.tabBar.account
      - click:
          identifier: ca.test.mappings.account.signInButton

  # Sign in Validation
  - name: ca.test.functions.home.verifyUserNameInTopleft
    platform: android
    flow:
      - sleep:
          duration : 10000              
      - getString:
          identifier: ca.test.mappings.account.header
          attribute: text
          storeIn: usergreeting
      - click:
          identifier: ca.test.mappings.tabBar.shop
      - verifyIdentifier:
          text: 
            - identifier: ca.test.mappings.home.signInButton
              equals: ${usergreeting}

# Sign in Validation
  - name: ca.test.functions.home.verifyUserNameInHomepage
    platform: android
    flow:
      - sleep:
          duration : 10000
      - click:
          identifier: ca.test.mappings.tabBar.account
      - verifyIdentifier:
          text:
            - identifier: ca.test.mappings.account.header.homepage
              contains: ${usergreeting}
      - click:
          identifier: ca.test.mappings.tabBar.shop
      - verifyIdentifier:
          text: 
            - identifier: ca.test.mappings.home.signInButton
              contains: ${usergreeting}

  - name: ca.test.functions.home.verifyUserNameHomePage
    platform: android
    flow:
      - verifyIdentifier:
          timeout: 10000
          present:
            - identifier: ca.test.mappings.home.logo
      - verifyIdentifier:
          text: 
            - identifier: ca.test.mappings.home.signInButton
              contains: ${usergreeting}
      - log:
          message: "--------------------Home Page User Name Validation Successful--------------------"
          color: GREEN_BOLD

  - name: ca.test.functions.home.verifyUserNameHomePage
    platform: ios
    flow:
      - verifyIdentifier:
          timeout: 10000
          present:
            - identifier: ca.test.mappings.home.logo
      - verifyIdentifier:
          label: 
            - identifier: ca.test.mappings.home.siginedUserName
              contains: ${usergreeting}
      - log:
          message: "--------------------Home Page User Name Validation Successful--------------------"
          color: GREEN_BOLD
              
 # Home page home navigation
  - name: ca.test.functions.home.livingDesign.validateBottomNavigation
    platform: android
    flow:
      - scroll:
          direction: up
      - verifyIdentifier:
          present: 
            - identifier: ca.test.mappings.tabBar.shop
            - identifier: ca.test.mappings.tabBar.MyItems
            - identifier: ca.test.mappings.tabBar.search
            - identifier: ca.test.mappings.tabBar.account
      - log:
          message: "--------------------Validating Botton Ribbon--------------------"
          color: GREEN_BOLD
            
  # Hp Carousel
  - name: ca.test.functions.homePage.carouselClickACategory
    platform: android
    flow:
      - scroll:
          direction: down
          untilIdentifier: ca.test.mappings.homePage.recylerView.selectACategory
      - click:
          identifier: ca.test.mappings.homePage.recylerView.selectACategory
            
  # Hp Carousel
  - name: ca.test.functions.homePage.carouselAddToCart
    platform: android
    flow:
      - loop:
          begin: 1
          end: 3
          mode: increment
          flow:
            - scroll:
                direction: down
                untilIdentifier: ca.test.mapping.addToCartText
            - click:
                identifier: ca.test.mapping.addToCartText
  
  # Sign In from Home Page
  - name: ca.test.functions.home.signIn
    flow:
      - verifyIdentifier:
          timeout: 10000
          present:
            - identifier: ca.test.mappings.home.signInButton
      - click:
          identifier: ca.test.mappings.home.signInButton
      - log:
          message: "--------------------Sign In Page Open--------------------"
          color: GREEN_BOLD
  # Sign In from Home Page
  - name: ca.test.functions.home.signInIos
    platform: ios
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.home.signInButton
      - click:
          identifier: ca.test.mappings.home.signInButton
#      - verifyIdentifier:
#          timeout: 10000
#          notPresent:
#            - identifier: ca.test.mappings.home.signInButton
#      - log:
#          message: "--------------------Sign In Page Open--------------------"
#          color: GREEN_BOLD

  - name: ca.test.functions.home.GICPhase2.selectStore
    platform: android
    flow:
      - try:
          flow:
            - if:
                identifier:
                  present:
                    - identifier: ca.test.mappings.home.GIC.expandBtn #GIC Btn
                then:
                  - click:
                      identifier: ca.test.mappings.home.GIC.expandBtn 
            - if:
                identifier:
                  present:
                    - identifier: ca.test.mappings.home.GIC.AnytimeSpeedFilter
                then:
                  - click:
                      identifier: ca.test.mappings.home.GIC2.storeLink
                else:
                  - click:
                      identifier: ca.test.mappings.home.GIC2.storeLink
            # - click:
            #     identifier: ca.test.mappings.home.GIC2.storeLink #GIC Store Btn
            - verifyIdentifier: 
                present:
                  - identifier: ca.test.mappings.home.GIC.SpeedFilterText 
                  - identifier: ca.test.mappings.home.GIC.AnytimeSpeedFilter 
                  - identifier: ca.test.mappings.home.GIC.TomorrowSpeedFilter 
                  - identifier: ca.test.mappings.home.GIC.2DaysSpeedFilter 
            - log:
                message: All the GIC speed filters are present
                color: GREEN_BOLD
            
            - click:
                identifier: ca.test.mappings.GIC2.store.link
          catch:
            flow:
              - verifyIdentifier:
                  present:
                    - identifier: ca.test.mappings.home.GIC.storeLink
              - log:
                  message: Clicking on store selection link
                  color: GREEN_BOLD
              - click:
                  identifier: ca.test.mappings.home.GIC.storeLink
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.global.sheetTitle
            - identifier: ca.test.mappings.global.locationSearchTextBox
            - identifier: ca.test.mappings.selectStore.useLocationLink
      - log:
          message: Store selection page opened.
          color: GREEN_BOLD
      - log:
          message: Enter zip code
          color: GREEN_BOLD
      - enterText:
          identifier: ca.test.mappings.global.locationSearchTextBox
          string: ${Zip_Code}
          pressEnter: true
      - verifyIdentifier:
          timeout: 15000
          present:
            - identifier: ca.test.mappings.selectStore.storeName
      - log: 
          message: Checking for store based on name.
          color: GREEN_BOLD
      - log:
          message: Clicking on the ${storeName}.
          color: GREEN_BOLD
      - click: 
          identifier: ca.test.mappings.selectStore.storeName
      - log:
          message: Clicking on the save address button
          color: GREEN_BOLD
      - click:
          identifier: ca.test.mappings.reserveTime.changeLocation.locationSaveButton
      - loop:
          begin: 1
          end: 4
          mode: increment
          flow:
            - log:
                message: Checking for technical error
                color: GREEN_BOLD
            - sleep:
                duration: 5000
            - if:
                identifier:
                  present:
                    - identifier: ca.walmart.ecommerceapp.qa:id/parentPanel
                then:
                  - click:
                      identifier: ca.test.mappings.acceptAlertBox
                  - if:
                      identifier:
                        timeout: 10000
                        present:
                          - identifier: ca.test.mappings.GIC2.store.link
                      then:
                        - break: true
                else:
                  - break: true
#      - verifyIdentifier:
#          timeout: 5000
#          notPresent:
#            - identifier: ca.test.mappings.global.sheetTitle
#            - identifier: ca.test.mappings.global.locationSearchTextBox
      - log:
          message: "Store Selection Sucessful"
          color: GREEN_BOLD
      - click:
          identifier: ca.test.mappings.home.GIC2.storeLink
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.home.GIC.collapseBtn
          then:
            - click:
                identifier: ca.test.mappings.home.GIC.collapseBtn        

  #Store Selection with GIC
  - name: ca.test.functions.home.selectStore
    platform: android
    flow:
      - try:
          flow:
            - if:
                identifier:
                  present:
                    - identifier: ca.test.mappings.home.GIC.expandBtn #GIC Btn
                then:
                  - click:
                      identifier: ca.test.mappings.home.GIC.expandBtn
            - click:
                identifier: ca.test.mappings.home.GIC.pickupIntent
            - click:
                identifier: ca.test.mappings.home.GIC.storeLink #GIC Store Btn
          catch:
            flow:
              - verifyIdentifier:
                  present:
                    - identifier: ca.test.mappings.store.link
              - log:
                  message: Clicking on store selection link
                  color: GREEN_BOLD
              - click:
                  identifier: ca.test.mappings.store.link
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.global.sheetTitle
            - identifier: ca.test.mappings.global.locationSearchTextBox
            - identifier: ca.test.mappings.selectStore.useLocationLink
      - log:
          message: Store selection page opened.
          color: GREEN_BOLD
      - log:
          message: Enter zip code
          color: GREEN_BOLD
      - enterText:
          identifier: ca.test.mappings.global.locationSearchTextBox
          string: ${Zip_Code}
          pressEnter: true
      - verifyIdentifier:
          timeout: 15000
          present:
            - identifier: ca.test.mappings.selectStore.storeName
      - log: 
          message: Checking for store based on name.
          color: GREEN_BOLD
      - log:
          message: Clicking on the ${storeName}.
          color: GREEN_BOLD
      - click: 
          identifier: ca.test.mappings.selectStore.storeName
      - log:
          message: Clicking on the save address button
          color: GREEN_BOLD
      - click:
          identifier: ca.test.mappings.reserveTime.changeLocation.locationSaveButton
      - loop:
          begin: 1
          end: 4
          mode: increment
          flow:
            - log:
                message: Checking for technical error
                color: GREEN_BOLD
            - sleep:
                duration: 5000
            - if:
                identifier:
                  present:
                    - identifier: ca.walmart.ecommerceapp.qa:id/parentPanel
                then:
                  - click:
                      identifier: ca.test.mappings.acceptAlertBox
                  - if:
                      identifier:
                        timeout: 10000
                        present:
                          - identifier: ca.test.mappings.store.link
                      then:
                        - break: true
                else:
                  - break: true
#      - verifyIdentifier:
#          timeout: 5000
#          notPresent:
#            - identifier: ca.test.mappings.global.sheetTitle
#            - identifier: ca.test.mappings.global.locationSearchTextBox
      - log:
          message: "Store Selection Sucessful"
          color: GREEN_BOLD
      - click:
          identifier: ca.test.mappings.home.GIC.pickupIntent
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.home.GIC.collapseBtn
          then:
            - click:
                identifier: ca.test.mappings.home.GIC.collapseBtn

  - name: ca.test.functions.home.GICPhase2.changeLocationLink
    platform: android
    flow:
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.home.GIC.expandBtn
          then:
            - click:
                identifier: ca.test.mappings.home.GIC.expandBtn
      - click:
          identifier: ca.test.mappings.home.GIC2.locationLink
      - verifyIdentifier: 
          present:
            - identifier: ca.test.mappings.home.GIC.SpeedFilterText
            - identifier: ca.test.mappings.home.GIC.AnytimeSpeedFilter 
            - identifier: ca.test.mappings.home.GIC.TomorrowSpeedFilter 
            - identifier: ca.test.mappings.home.GIC.2DaysSpeedFilter 
      - log:
          message: All the GIC speed filters are present
          color: GREEN_BOLD              
      - click:
          identifier: ca.test.mappings.GIC2.address.link
      - loop:
          begin: 1
          end: 4
          mode: increment
          flow:    
            - verifyIdentifier:
                timeout: 10000
                present:
                  - identifier: ca.test.mappings.home.addressChangeTitle
            - if:
                identifier:
                  notPresent:
                    - identifier: ca.test.mappings.home.addressChange.newAddress
                then:
                  - scroll:
                      direction: down
                      untilIdentifier: ca.test.mappings.home.addressChange.newAddress
            - click:
                identifier: ca.test.mappings.home.addressChange.newAddress
            - click:
                identifier: ca.test.mappings.home.addressChange.saveAddressButton
            - if: 
                identifier:
                  notPresent:
                    - identifier: ca.test.mappings.home.addressChangeTitle
                then:
                  - break: true
      - log:
          message: "--------------------Delivery Address Selection--------------------"
          color: GREEN_BOLD
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.home.GIC2.locationLink
          then:
            - click:
                identifier: ca.test.mappings.home.GIC2.locationLink
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.home.GIC.collapseBtn
          then:
            - click:
                identifier: ca.test.mappings.home.GIC.collapseBtn      

  - name: ca.test.functions.home.changeLocationLink
    platform: android
    flow:
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.home.GIC.expandBtn
          then:
            - click:
                identifier: ca.test.mappings.home.GIC.expandBtn
      - click:
          identifier: ca.test.mappings.home.GIC.deliveryIntentButton
      - loop:
          begin: 1
          end: 4
          mode: increment
          flow:
            - try:
                flow: 
                  - click:
                      identifier: ca.test.mappings.home.GIC.locationLink
                catch:
                  flow:
                    - click:
                        identifier: ca.test.mappings.location.link
            - verifyIdentifier:
                timeout: 10000
                present:
                  - identifier: ca.test.mappings.home.addressChangeTitle
            - if:
                identifier:
                  notPresent:
                    - identifier: ca.test.mappings.home.addressChange.newAddress
                then:
                  - scroll:
                      direction: down
                      untilIdentifier: ca.test.mappings.home.addressChange.newAddress
            - click:
                identifier: ca.test.mappings.home.addressChange.newAddress
            - click:
                identifier: ca.test.mappings.home.addressChange.saveAddressButton
            - if:
                identifier:
                  timeout: 15000
                  notPresent:
                    - identifier: ca.test.mappings.home.addressChangeTitle
                then:
                  - break: true
                else:
                  - goBack: true
      - log:
          message: "--------------------Delivery Address Selection--------------------"
          color: GREEN_BOLD
      - click:
          identifier: ca.test.mappings.home.GIC.deliveryIntentButton
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.home.GIC.collapseBtn
          then:
            - click:
                identifier: ca.test.mappings.home.GIC.collapseBtn

  - name: ca.test.functions.home.scrollToCarousel
    platform: android
    flow:
      - try:
          flow:
            - loop:
                begin: 1
                end: 5
                mode: increment
                flow:
                  - if:
                      identifier:
                        notPresent:
                          - identifier: ${scrollContainer}
                      then:
                        - scroll:
                            direction: down
                            untilIdentifier: ${scrollContainer}
                            scrollLimit: 20
                            position: center
                      else:
                        - break: true
  
  - name: ca.test.functions.home.addToCartFromCarousel
    platform: android
    flow:
      - sleep:
          duration: 30000
      - if:
          identifier:
            notPresent:
              - identifier: ca.test.mappings.home.carouselProductAddToCartUsingContDesc
          then:
            - sleep:
                duration: 2000
            - if:
                identifier:
                  notPresent:
                    - identifier: ca.test.mappings.home.carousel.productName
                then:
                  - executeFunction:
                      name: ca.test.functions.utils.scrollToView
                      params:
                        - name: scrollContainer
                          string: ${scrollContainer}
                        - name: untilIdentifier
                          string: ca.test.mappings.home.carousel.productName
                        - name: searchDirection
                          string: right

      - executeFunction:
          name: ca.test.functions.home.carouselItemValidation
      - click:
          identifier: ca.test.mappings.home.carouselProductAddToCartUsingContDesc
      - if:
          condition: ${quantity} > 1
          then:
            - loop:
                begin: 1
                end: ${quantity}
                mode: increment
                flow:
                  - sleep:
                      duration: 2000
                  - if:
                      identifier:
                        notPresent:
                          - identifier: ca.test.mappings.home.carouselIncreaseQuantity
                      then:
                        - click:
                            identifier: ca.test.mappings.home.carouselQuantityBarClick
                  - click:
                      identifier: ca.test.mappings.home.carouselIncreaseQuantity

  - name: ca.test.functions.home.carouselItemValidation
    platform: android
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.home.carousel.item.addToCart
            - identifier: ca.test.mappings.home.carousel.item.addToFav
            - identifier: ca.test.mappings.home.carousel.item.brandName
            - identifier: ca.test.mappings.home.carousel.item.productTile
  
  ############################################################################# IOS ######################################################################


  - name: ca.functions.home.navigateHomeToSignIn
    platform: ios
    flow:
      - click:
          identifier: ca.mappings.home.searchBar
          wait: 3000
      - verifyIdentifier:
          present:
            - identifier: ca.mappings.tabBar.account
      - click:
          identifier: ca.mappings.tabBar.account
      - click:
          identifier: ca.mappings.account.signInButton          

  # Home page bottom navigation-ios
  - name: ca.test.functions.home.livingDesign.validateIosBottomNavigation
    platform: ios
    flow:
      - verifyIdentifier:
          present: 
            - identifier: ca.test.mappings.tabBar.shop
            - identifier: ca.test.mappings.tabBar.MyItems
            - identifier: ca.test.mappings.tabBar.search 
            - identifier: ca.test.mappings.tabBar.account  

  # HomePage validation-ios
  - name: ca.test.functions.home.headerElements.validateIosHomePage
    platform: ios
    flow:
       - sleep:
           duration: 10000
      # - verifyIdentifier:
      #     present: 
            # - identifier: ca.test.mappings.home.searchBarSelected
            # - identifier: ca.test.mappings.home.signInButton
            # - identifier: ca.test.mappings.home.logo
            # - identifier: ca.test.mappings.home.cartIcon
            #- identifier: ca.test.mappings.store.link
           # - identifier: ca.test.mappings.location.link
           # - identifier: ca.test.mappings.home.seeTimes

  - name: ca.functions.home.search.invalidsearchItem
    platform: ios
    flow:
      - click:
          identifier: ca.mappings.home.searchBar
          wait: 3000
      - verifyIdentifier:
          present:
            - identifier: ca.mappings.home.searchBarSelected
      - enterText:
          identifier: ca.mappings.home.searchBarSelected
          string: ${invalidsearchTerm}
          pressEnter: true
      - verifyIdentifier:
          notPresent:
             - identifier: ca.mappings.home.searchBarSelected
      - verifyIdentifier:
          present:
            - identifier: ca.mappings.search.returnToHome
      - verifyIdentifier:
          present:
            - identifier: ca.mappings.search.noSearchResult
      - click:
          identifier: ca.mappings.search.returnToHome
          wait: 3000
      - verifyIdentifier:
          present:
            - identifier: ca.mappings.home.searchBarSelected




  - name: ca.test.functions.homePage.carouselAddToCartIos
    platform: ios
    flow:
       - scroll:
           direction: down
           position: center
           untilIdentifier: ca.test.mapping.manualCarousel
       - click:
           identifier: ca.test.mapping.home.addToCart
       - scroll:
           direction: left
           untilIdentifier: ca.test.mapping.carouselLeft
       - click:
           identifier: ca.test.mapping.home.addToCartleft   

  - name: ca.test.functions.home.storeSelectionAssertion
    platform: android
    flow:
      - try:
          flow:
            - verifyIdentifier:
                present: 
                  - identifier: ca.test.mappings.globalIntent.collapsedChevron
            - click:
                identifier: ca.test.mappings.globalIntent.collapsedChevron
            - sleep:
                duration: 5000
            - click:
                identifier: ca.test.mappings.home.GIC.pickupIntent
            # - verifyIdentifier:
            #     timeout: 20000
            #     present:
            #       - identifier: ca.test.mappings.store.link
            - verifyIdentifier:
                text:
                  - identifier: ca.test.mappings.home.GIC.storeName #ca.test.mappings.store.link
                    contains: ${storeName}
            - log:
                message: "Store assertion at home page successful."
                color: GREEN_BOLD
            # - verifyIdentifier:
            #     present:
            #       - identifier: ca.test.mappings.location.link
            #       - identifier: ca.test.mappings.home.seeTimes
          catch:
            flow:
              - failTest:
                  message: "Store assertion at home page failed."   
   
  # HomePage validation-ios
  - name: ca.test.functions.home.headerElements.validateIosHomePage
    platform: ios
    flow:
      - sleep:
          duration: 5000
      # - verifyIdentifier:
      #     timeout: 20000
      #     present: 
      #       - identifier: ca.test.mappings.home.signInButton
      #       - identifier: ca.test.mappings.home.logo
      #       - identifier: ca.test.mappings.home.cartIcon
      #       - identifier: ca.mappings.home.searchBarSelected
      #       # - identifier: ca.test.mappings.store.link
      #       # - identifier: ca.test.mappings.location.link
      #       # - identifier: ca.test.mappings.home.seeTimes  
            
  # Navigate To SignIn in HomePage-ios
  - name: ca.test.functions.home.navigateHomeToSignInIos
    platform: ios
    flow:
      - verifyIdentifier:
          timeout: 5000
          present:
            - identifier: ca.test.mappings.tabBar.account
      - click:
          identifier: ca.test.mappings.tabBar.account
      - click:
          identifier: ca.test.mappings.account.signInButton
      
 
  # Sign in Validation-ios
  - name: ca.test.functions.home.verifyUserNameInTopleft
    platform: ios
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.account.header
          timeout: 10000     
      - getString:
          identifier: ca.test.mappings.account.header
          attribute: value
          storeIn: usergreeting
      - click:
          identifier: ca.test.mappings.tabBar.shop
      - verifyIdentifier:
          value: 
            - identifier: ca.test.mappings.home.siginedUserName
              equals: ${usergreeting}   
   
  # Sign in Validation-ios
  - name: ca.test.functions.home.navigateToShop
    platform: ios
    flow:
      - sleep:
          duration : 10000
      - if:
          identifier:
            notPresent:
              - identifier: ca.test.mappings.tabBar.shop
          then:
            - scroll:
                direction: up
                scrollLimit: 1
                untilIdentifier: ca.test.mappings.tabBar.shop
      - click:
          identifier: ca.test.mappings.tabBar.shop

      
  # Hp Carousel-iOS
  - name: ca.test.functions.homePage.carouselAddToCartIos1
    platform: ios
    flow:
            - scroll:
                direction: down
                untilIdentifier: ca.test.mapping.home.addToCartFirstItemFromHome
            - click:
                identifier: ca.test.mapping.home.addToCartFirstItemFromHome
            - scroll:
               direction: left
               untilIdentifier: ca.test.mapping.home.addToCartseconditemFromHome1
            - click:
                identifier: ca.test.mapping.home.addToCartseconditemFromHome1


  # Hp Carousel-iOS- <shipping and > Handling
  - name: ca.test.functions.homePage.carouselAddToCartIos_1
    platform: ios
    flow:
      - scroll:
          direction: down
          untilIdentifier: ca.test.mapping.home.addToCartCarousel
      # - scroll:
      #     direction: left
      # - click:
      #     identifier: ca.test.mapping.home.addToCartseconditemFromHome
      - if:
          identifier:
            notPresent:
              - identifier: ca.test.mapping.home.addToCartCarousel
          then:
            - scroll:
                direction: left
                untilIdentifier: ca.test.mapping.home.carouseItemTile
      - click:
          identifier: ca.test.mapping.home.addToCartthirditemFromHome    

  # Hp Carousel-iOS-
  - name: ca.test.functions.homePage.carouselAddToCart
    platform: ios
    flow:
      - scroll:
          direction: down
          untilIdentifier: ca.test.mapping.manualCarousel.item
      - click:
          identifier: ca.test.mapping.home.addToCartfromCarousel

    #Changing Location
  - name: ca.test.functions.home.changeAddressLocation
    platform: ios
    flow:
      - if:
          identifier:
            notPresent:
              - identifier: ca.test.mapping.cart.delivery.store
          then:
            - scroll:
                direction: up
                untilIdentifier: ca.test.mapping.cart.delivery.store
            - click:
                identifier: ca.test.mapping.cart.delivery.store
      - click:
          identifier: ca.test.mappings.addressLocation.addressTwo
      # - click:
      #     identifier: ca.mappings.global.onboarding.continueButton
      - click:
          identifier: ca.test.mappings.address.save
      - sleep:
          duration: 10000


  # Hp Carousel-iOS-
  - name: ca.test.functions.homePage.carouselAddToCartWpp
    platform: ios
    flow:
      - scroll:
          direction: down
          untilIdentifier: ca.test.mappings.homePage.carousel
          position: center
      - click:
          identifier: ca.test.mapping.home.addToCartfromCarouselWpp

    #Changing Location
  - name: ca.test.functions.home.changeLocationLink
    platform: ios
    flow:
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.globalIntent.collapsedChevron
          then:
            - sleep:
                duration: 1000
            - click:
                identifier: ca.test.mappings.globalIntent.collapsedChevron
      - sleep:
          duration: 1000
      - click:
          identifier: ca.test.mappings.homePage.globalIntentCenter.deliveryIntent
      - if:
          identifier:
            notPresent:
              - identifier: ca.test.mappings.homePage.globalIntentCenter.delivery.changeAddress
          then:
            - sleep:
                duration: 1000
            - click:
                identifier: ca.test.mappings.homePage.globalIntentCenter.deliveryIntent
      - sleep:
          duration: 1000
#***
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.homePage.globalIntentCenter.deliveryIntent
          then:
            - click:
                identifier: ca.test.mappings.homePage.globalIntentCenter.deliveryIntent
          else:
            - if:
                identifier:
                  present:
                    - identifier: ca.test.mappings.homePage.globalIntentCenter.expand
                then:
                  - click:
                      identifier: ca.test.mappings.homePage.globalIntentCenter.expand
                  - click:
                      identifier: ca.test.mappings.homePage.globalIntentCenter.deliveryIntent
                else:
                  - click:
                      identifier: ca.test.mappings.homePage.globalIntentCenter.expand
                  - click:
                      identifier: ca.test.mappings.homePage.globalIntentCenter.deliveryIntent

      - click:
          identifier: ca.test.mappings.homePage.globalIntentCenter.delivery.addAddress
      - sleep:
          duration: 1000
      - click:
          identifier: ca.test.mappings.addressLocation.addressOne
      - click:
          identifier: ca.test.mappings.address.save
      - sleep:
          duration: 10000
      - loop:
          begin: 0
          end: 3
          mode: increment
          flow:
            - if:
                identifier:
                  notPresent:
                    - identifier: ca.test.mappings.homePage.globalIntentCenter.howWantYourItems
                then:
                  - click:
                      identifier: (//XCUIElementTypeStaticText[@name="HoTIntentOptionsView.intentTypeLabel"])[2]
                else:
                  - break: true
      - if:
          identifier:
            present:
              - identifier: GlobalIntentCenter.BannerExpandedChevron
          then:
            - click:
                identifier: GlobalIntentCenter.BannerExpandedChevron

    #Changing Location
  - name: ca.test.functions.home.changeAddressLocation
    platform: ios
    flow:
      - if:
          identifier:
            notPresent:
              - identifier: ca.test.mapping.cart.delivery.store
          then:
            - scroll:
                direction: up
                untilIdentifier: ca.test.mapping.cart.delivery.store
            - click:
                identifier: ca.test.mapping.cart.delivery.store
      - click:
          identifier: ca.test.mappings.addressLocation.addressTwo
      # - click:
      #     identifier: ca.mappings.global.onboarding.continue
      - click:
          identifier: ca.test.mappings.address.save
      - sleep:
          duration: 10000

  - name: ca.test.functions.homePage.changeLocation.addAddress
    platform: android
    flow:
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.home.GIC.expandBtn
          then:
            - click:
                identifier: ca.test.mappings.home.GIC.expandBtn
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.home.GIC2.locationLink #ca.test.mappings.location.link
      - try:
                flow:
                  - click:
                      identifier: ca.test.mappings.home.GIC2.locationLink
                  - click:
                        identifier: ca.test.mappings.GIC2.address.link
                catch:
                  flow:
                    - click:
                        identifier: ca.test.mappings.GIC2.address.link
       
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.accountPage.addresses.addAddressButton
          then:
            - click:
                identifier: ca.test.mappings.accountPage.addresses.addAddressButton
      - executeFunction:
          name: ca.test.functions.deliveryAddress.addAddress

  - name: ca.test.functions.checkOut.backToAccountFromPrHistory
    platform: ios
    flow:
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.tabBar.account
          then:
            - click:
                identifier: ca.test.mappings.tabBar.account
            - click:
                identifier: ca.test.mappings.purchaseHistory.backToAccount
            - click:
                identifier: ca.mappings.tabBar.shop
  
  - name: ca.test.functions.home.deliveryAddressAssertion
    platform: android
    flow:
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.home.GIC.expandBtn
          then:
            - click:
                identifier: ca.test.mappings.home.GIC.expandBtn
      - verifyIdentifier:
          timeout: 10000
          present:
            - identifier: ca.test.mappings.home.GIC.deliveryIntent
      - click: 
          identifier: ca.test.mappings.home.GIC.deliveryIntent
      - sleep: 
          duration: 3000
      - verifyIdentifier:
          timeout: 10000
          text:
            - identifier: ca.test.mappings.home.GIC.addressName
              contains: ${addressFirstLine}
      - log: 
          message: "Address Assertion at home page successful."
          color: GREEN_BOLD
      - sleep:
          duration: 3000
      - click:
          identifier: ca.test.mappings.globalIntent.collapsedChevron
  
  - name: ca.test.functions.home.naviagteToLocationLink
    flow:
      - getString:
          identifier: ca.test.mappings.globalIntent.collapsedChevron
          attribute: content-desc
          storeIn: GICChevron
      - if:
          condition: ${GICChevron} == 'collapsed'
          then:
            - click:
               identifier: ca.test.mappings.globalIntent.collapsedChevron
               
      - verifyIdentifier:
          timeout: 10000
          present:
            - identifier: ca.test.mappings.home.GIC.deliveryIntent #ca.test.mappings.location.link
      - click:
          identifier: ca.test.mappings.home.GIC.deliveryIntent
      - sleep:
          duration: 3000
      - click:
          identifier: ca.test.mappings.home.GIC.defaultAddressButton


  - name: ca.test.functions.home.scrollToCarousel
    platform: ios
    flow:
      - sleep:
          duration: 5000
      - try:
          flow:
            - loop:
                begin: 1
                end: 5
                mode: increment
                flow:
                  - if:
                      identifier:
                        notPresent:
                          - identifier: ca.test.mappings.homePage.carousel
                      then:
                        - scroll:
                            direction: down
                            untilIdentifier: ca.test.mappings.homePage.carousel
                            position: center
                            scrollLimit: 15
                      else:
                        - break: true                              

  - name: ca.test.functions.home.seeTimes
    platform: ios
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.home.searchBarSelected
            - identifier: ca.test.mappings.home.logo
      - click:
          identifier: ca.test.mappings.home.seeTimes
      - verifyIdentifier:
          timeout: 10000
          present:
            - identifier: //XCUIElementTypeStaticText[@name="Reserve a time"]           

  - name: ca.test.functions.cart.validatingGuestUserPromotedToLogin
    flow:
      - verifyIdentifier:
          timeout: 10000
          present:
            - identifier: ca.test.mappings.cart.signInToSeePickupTimesText
            - identifier: ca.test.mapping.seeTimes.signIn
            - identifier: ca.test.mappings.reserveTime.curbsidePickup
            - identifier: ca.test.mappings.reserveTime.deliveryFromStore
            - identifier: ca.test.mappings.reservePage.storeInformationCard         
  
  - name: ca.test.functions.closeLoginPage
    flow:
      - if:
          identifier:
            present:
              - identifier: ca.test.mapping.pdp.close 
          then:
            - click:
                identifier: ca.test.mapping.pdp.close 


  - name: ca.test.functions.home.seeTimes
    platform: android
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.home.searchBarSelected
            - identifier: ca.test.mappings.home.logo
      - if:
          identifier:
            notPresent:
              - identifier: ca.test.mappings.home.seeTimes
          then:
            - scroll:
                direction: down
                untilIdentifier: ca.test.mappings.home.seeTimes
      - click:
          identifier: ca.test.mappings.home.seeTimes
      - verifyIdentifier:
          timeout: 10000
          notPresent:
            - identifier: ca.test.mappings.home.seeTimes
  
  - name: ca.test.function.home.searchFunctionalityValidation
    platform: android
    flow:
      - verifyIdentifier:
          enabled:
            - identifier: ca.walmart.ecommerceapp.qa:id/search_view
              value: true
      - log: Search box is enabled in home page.
      - if:
          identifier:
            notPresent:
              - identifier: ca.walmart.ecommerceapp.qa:id/navigation_search
          then:
            - scroll:
                direction: up
                untilIdentifier: ca.walmart.ecommerceapp.qa:id/navigation_search
      - click:
          identifier: ca.walmart.ecommerceapp.qa:id/navigation_search
      - verifyIdentifier:
          present:
            - identifier: //android.widget.TextView[@text="Browse departments"]
      - log: Search page is opened
      - verifyIdentifier:
          enabled:
            - identifier: ca.walmart.ecommerceapp.qa:id/search_view
              value: true
      - log: Search box is enabled in search page
      
  - name: ca.test.function.home.homePageValidation
    platform: android
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.walmart.ecommerceapp.qa:id/integration_toolbar_auth_title
            - identifier: ca.walmart.ecommerceapp.qa:id/integration_toolbar_walmart_icon
            - identifier: ca.walmart.ecommerceapp.qa:id/cart_summary_icon
            - identifier: ca.walmart.ecommerceapp.qa:id/search_view
            - identifier: ca.walmart.ecommerceapp.qa:id/store_link
            - identifier: ca.walmart.ecommerceapp.qa:id/location_link
            - identifier: ca.walmart.ecommerceapp.qa:id/bookslot_title
            - identifier: ca.walmart.ecommerceapp.qa:id/bookslot_cta
            - identifier: ca.walmart.ecommerceapp.qa:id/services_grid_title
            - identifier: ca.walmart.ecommerceapp.qa:id/services_grid_recycler_view
      - scroll:
          direction: down
          untilIdentifier: ca.walmart.ecommerceapp.qa:id/hero_pov_module_recycler_view
          position: center
      - verifyIdentifier:
          present:
            - identifier: ca.walmart.ecommerceapp.qa:id/grid_container_title
            - identifier: ca.walmart.ecommerceapp.qa:id/hero_pov_module_recycler_view
            - identifier: ca.walmart.ecommerceapp.qa:id/category_grid_recycler_view
      - scroll:
          direction: down
          untilIdentifier: ca.walmart.ecommerceapp.qa:id/hero_pov_module_recycler_view
          position: center
      - verifyIdentifier:
          present:
            - identifier: ca.walmart.ecommerceapp.qa:id/hero_pov_module_recycler_view
            - identifier: ca.walmart.ecommerceapp.qa:id/grid_container_title
      # - scroll:
      #     direction: down
      #     untilIdentifier: ca.walmart.ecommerceapp.qa:id/category_grid_recycler_view
      #     position: center
      # - verifyIdentifier:
      #     present:
      #       - identifier: ca.walmart.ecommerceapp.qa:id/category_list_view
      #       - identifier: ca.walmart.ecommerceapp.qa:id/category_container_title

  - name: ca.test.functions.home.productBrowseByDept
    platform: android
    flow:
      - if:
          identifier:
            notPresent:
              - identifier: ca.test.mappings.home.browseByDeptViewAllButton
          then:
            - scroll:
                direction: down
                untilIdentifier: ca.test.mappings.home.browseByDeptViewAllButton
                position: center
      - click:
          identifier: ca.test.mappings.home.browseByDeptViewAllButton
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.home.browseByDeptText
      - click:
          identifier: //android.widget.TextView[@text="${department}"]
      -  verifyIdentifier:
           present:
             - identifier: //android.widget.TextView[@text="${department}"]
      - click:
          identifier: //android.widget.TextView[@text="${category}"]
      - verifyIdentifier:
          present:
            - identifier: //android.widget.TextView[contains(@text,'Results for "${category}" ')]

  - name: ca.test.functions.home.validatingSlotSelection
    platform: android
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.home.searchBarSelected
            - identifier: ca.test.mappings.home.logo
            - identifier: ca.test.mappings.navBar.cartIcon
            - identifier: ca.walmart.ecommerceapp.qa:id/bookslot_title
            - identifier: ca.test.mappings.home.searchBarSelected
            - identifier: ca.test.mappings.home.logo
            - identifier: ca.test.mappings.navBar.cartIcon
            - identifier: ca.walmart.ecommerceapp.qa:id/bookslot_title
      - verifyIdentifier:
          text:
            - identifier: ca.walmart.ecommerceapp.qa:id/bookslot_address
              equals: ${addressFirstLine}
  
  - name: ca.test.functions.home.changeBookedSlotButton
    platform: android
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.home.seeTimes
      - click:
          identifier: ca.test.mappings.home.seeTimes

  - name: ca.test.function.home.searchFunctionalityValidation
    platform: ios
    flow:
      - verifyIdentifier:
          enabled:
            - identifier: //XCUIElementTypeSearchField[@name="Search Walmart"]
              value: true
      - log: Search box is enabled in home page.
      - if:
          identifier:
            notPresent:
              - identifier: //XCUIElementTypeButton[@name="Search"]
          then:
            - scroll:
                direction: up
                untilIdentifier: //XCUIElementTypeButton[@name="Search"]
      - click:
          identifier: //XCUIElementTypeButton[@name="Search"]
      - verifyIdentifier:
          present:
            - identifier: //XCUIElementTypeStaticText[@name="BrowseHeaderViewTitleLabel"]
      - log: Search page is opened
      - verifyIdentifier:
          enabled:
            - identifier: //XCUIElementTypeSearchField[@name="Search Walmart"]
              value: true
      - log: Search box is enabled in search page



  - name: ca.test.functions.home.productBrowseByDept
    platform: ios
    flow:
      - if:
          identifier:
            notPresent:
              - identifier: //XCUIElementTypeButton[@name="Search"]
          then:
            - scroll:
                direction: down
                untilIdentifier: //XCUIElementTypeButton[@name="Search"]
                position: center
      - click:
          identifier: //XCUIElementTypeButton[@name="Search"]
      - verifyIdentifier:
          present:
            - identifier: //XCUIElementTypeStaticText[contains(@label,"Browse departments")]
      - click:
          identifier: (//XCUIElementTypeImage[@name="DepartmentListItemView.imageView"])[3]
      -  verifyIdentifier:
           present:
             - identifier: //XCUIElementTypeStaticText[@name="Electronics"]
      - click:
          identifier: (//XCUIElementTypeButton[@name="HubspokeItemView.containerStackView"])[1]
      - verifyIdentifier:
          present:
             - identifier: //XCUIElementTypeStaticText[contains(@label,"Results for ")]
             - identifier: (//XCUIElementTypeButton[@name="GlassProductTile.mainStackView"])[1]
      - click:
          identifier: (//XCUIElementTypeButton[@name="GlassProductTile.mainStackView"])[1]
          
  - name: ca.test.functions.cart.seeTimesPickupSlotValidation
    platform: ios
    flow: 
      - verifyIdentifier:
          timeout: 2000
          present:
            - identifier: ca.test.mappings.home.bookSlotHeader
            - identifier: ca.test.mappings.home.address   
            - identifier: ca.test.mappings.home.change 
      - verifyIdentifier:
          label:
            - identifier: ca.test.mappings.home.address
              equals: ${address}    

  #Changing Location
  - name: ca.test.functions.home.selectLocationLink
    platform: ios
    flow:
      - click:
          identifier: ca.test.mappings.addressLocation.addressHome
      - click:
          identifier: ca.test.mappings.address.save    

  - name: ca.test.functions.home.seeTimesPickupSlot
    platform: ios
    flow: 
      - sleep:
         duration: 3000
      - click:
          identifier: ca.test.mappings.pickUpTab 
      - sleep:
          duration: 3000         
      - executeFunction:
          name: ca.test.functions.cart.timeValidationIos     
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.selectTimeSlotIndex2         
      - click:
          identifier: ca.test.mappings.selectTimeSlotIndex2
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.reserveButton
      - click:
          identifier: ca.test.mappings.reserveButton    
      - sleep:
          duration: 5000

  - name: ca.test.functions.home.selectAddress.printAddress
    platform: android
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.home.addressChangeTitle
            - identifier: ca.test.mappings.account.deliveryAddress.addAddress
      - loop:
          begin: 1
          end: 5
          storeIndex: i
          mode: increment
          flow:
            - getString:
                identifier: (//android.widget.TextView[@index=2])[${i}]
                attribute: text
                storeIn: address
            - log:
                message: Print ${i} delivery address
                color: GREEN_BOLD
            - log:
                message: ${address}
                color: GREEN_BOLD
      - click:
          identifier: ca.test.mappings.GIC.deliveryStore.saveButton

  - name: ca.test.functions.home.openAddressLink
    platform: ios
    flow:
      - click:
          identifier: ca.test.mappings.tabBar.shop
      - click:
          identifier: ca.test.mappings.location.link

  - name: ca.test.function.home.seeTimes.changeAddress
    platform: ios
    flow:
      - verifyIdentifier:
          timeout: 10000
          present:
            - identifier: ca.test.mappings.changeStore
      - click:
         identifier: ca.test.mappings.deliveryTab 
      - sleep:
         duration: 5000          
      - click:
          identifier: ca.test.mappings.changeStore 
      - sleep:
         duration: 5000

  - name: ca.test.functions.seeTimes.addAddressIos
    platform: ios
    flow:
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.deliverySlotPage.AddaddressBtn
          then:
            - click:
                identifier: ca.test.mappings.deliverySlotPage.AddaddressBtn
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.seeTimes.addAddress
          then:
            - click:
                identifier: ca.test.mappings.seeTimes.addAddress
          else:
            - if:
                identifier: 
                    present:
                      - identifier: ca.test.mappings.deliveryAddress.seeTimesAdd.title
                then:
                  - click:
                      identifier: ca.test.mappings.deliveryAddress.seeTimesAdd.title
                  - sleep:
                      duration: 2000
                  - click:
                      identifier: ca.test.mappings.seeTimes.addAddress            
      - enterText:
          identifier: ca.test.mappings.deliveryAddress.add.firstName
          string: ${firstName}
      - click:
          identifier: ca.test.mappings.deliveryAddress.add.lastName
      - enterText:
          identifier: ca.test.mappings.deliveryAddress.add.lastName
          string: ${lastName}
      - click:
          identifier: ca.test.mappings.deliveryAddress.add.streetAddress
      - enterText:
          identifier: ca.test.mappings.deliveryAddress.add.streetAddress
          string: ${streetAddress}
          pressEnter: true
      - sleep:
          duration: 5000         
      # - click:
      #     identifier: ca.test.mappings.streetadress.option
      - scroll:
            direction: up
            scrollLimit: 1            
      - sleep:
          duration: 3000 
      - enterText:
          identifier: ca.test.mappings.deliveryAddress.add.city
          string: ${city}
      - click:
          identifier: ca.test.mappings.deliveryAddress.add.province
      - enterText:
          identifier: ca.test.mappings.deliveryAddress.province.pickWheel
          string: ${state}
      - enterText:
          identifier: ca.test.mappings.deliveryAddress.add.zipcode
          string: ${zipcode}
      - click:
          identifier: ca.test.mapping.checkout.keyboard
      - click:
          identifier: ca.test.mappings.deliveryAddress.add.phoneNumber
      - enterText:
          identifier: ca.test.mappings.deliveryAddress.add.phoneNumber
          string: ${phoneNumber}
          clickFirst: true
          # pressEnter: true   
      - click:
          identifier: ca.test.mapping.checkout.keyboard
      - click:
          identifier: ca.test.mappings.deliveryAddress.add.saveButton 
      - sleep:
          duration: 3000
      - click:
         identifier: ca.test.mappings.reserveButton1 

  - name: ca.test.functions.seeTimes.deliveryAddressAssertion
    platform: ios
    flow:
      - sleep:
         duration: 3000
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.cart.reserveTime.title
      - sleep:
         duration: 1000
      - verifyIdentifier:
          label:
            - identifier: ca.test.mappings.home.addressValidation
              contains: ${addressFirstLineHome} 
      - sleep:
         duration: 1000
      - click:
          identifier: ca.test.mappings.cart.deliveryFromStore.closeSymbol       

  # Hp Carousel-iOS- <shipping and > Handling
  - name: ca.test.functions.homePage.carouselAddToCartIos_2
    platform: ios
    flow:
      - if:
          identifier:
            notPresent:
              - identifier: ca.test.mapping.home.addToCart_3
          then:
            - scroll:
                direction: left
                untilIdentifier: ca.test.mapping.home.addToCart_3
      - click:
          identifier: ca.test.mapping.home.addToCart_3  

  #Navigate to Accoutn screen from Home Screen
  - name: ca.functions.home.navigateHomeToAccount
    platform: android
    flow:
      - click:
          identifier: ca.test.mappings.accountIcon      

 # Hp Carousel one item -iOS
  - name: ca.test.functions.homePage.carouselAddToCartIos0neItem
    platform: ios
    flow:
      - scroll:
          direction: down
          untilIdentifier: ca.test.mapping.home.addToCartFirstItemFromHome
      - click:
          identifier: ca.test.mapping.home.addToCartFirstItemFromHome 

  - name: ca.test.function.home.walmartFavourites
    platform: android
    flow:
      - if:
          identifier:
            notPresent:
              - identifier: ca.test.mappings.home.yourWalmartFavourites
          then:
            - scroll:
                direction: down
                untilIdentifier: ca.test.mappings.home.yourWalmartFavourites
                position: center
      - verifyIdentifier:
          timeout: 10000
          present:
            - identifier: ca.test.mappings.home.savingsTab
      - click:
          identifier: ca.test.mappings.home.savingsTab
      - verifyIdentifier:
          text:
            - identifier:  ca.test.mappings.home.walmartFavourites.clearanceText
              equals: ${walmartFavourites}
      - click:
          identifier: ca.test.mappings.home.walmartFavourites.containerTitle
      - click:
          identifier: ca.test.mappings.home.walmartFavourites.shopAll
      # - scroll:
      #     direction: down
      #     untilIdentifier: ca.test.mappings.home.walmartFavourites.category
      - sleep:
         duration: 4000
      - scroll:
          direction: down
          untilIdentifier: ca.test.mappings.home.walmartFavourites.category
      - click:
          identifier: ca.test.mappings.home.walmartFavourites.category
      - verifyIdentifier:
          timeout: 10000
          present:
            - identifier: ca.test.mappings.home.srp.searchResultText

  - name: ca.test.functions.home.storeSelect
    platform: ios
    flow:
      - sleep:
          duration: 5000
      - verifyIdentifier:
          timeout: 20000
          present:
            - identifier: ca.test.mappings.homePage.globalIntentCenter.postalCode
            - identifier: ca.test.mappings.homePage.globalIntentCenter.banner
      - sleep:
          duration: 2000
      # - click:
      #     identifier: ca.test.mappings.homePage.globalIntentCenter.dropdown

      # - if:
      #     identifier:
      #       present:
      #         - identifier: ca.test.mappings.homePage.globalIntentCenter.expand
      #     then:
      #       - click:
      #           identifier: ca.test.mappings.homePage.globalIntentCenter.expand
      #     else: 
      #       - click:
      #           identifier: ca.test.mappings.homePage.globalIntentCenter.expand
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.homePage.globalIntentCenter.pickUp
          then:
            - click:
                identifier: ca.test.mappings.homePage.globalIntentCenter.pickUp
          else:
            - if:
                identifier:
                  present:
                    - identifier: ca.test.mappings.homePage.globalIntentCenter.expand
                then:
                  - click:
                      identifier: ca.test.mappings.homePage.globalIntentCenter.expand
                  - click:
                      identifier: ca.test.mappings.homePage.globalIntentCenter.pickUp
                else:
                  - click:
                      identifier: ca.test.mappings.homePage.globalIntentCenter.expand
                  - click:
                      identifier: ca.test.mappings.homePage.globalIntentCenter.pickUp
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.homePage.globalIntentCenter.pickUp.callOutMessage
          then:
            - verifyIdentifier:
                present:
                  - identifier: ca.test.mappings.homePage.globalIntentCenter.pickUpText
                  - identifier: ca.test.mappings.homePage.globalIntentCenter.pickUp.callOutMessage
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.homePage.globalIntentCenter.anyTimeButton
          then:
            - verifyIdentifier:
                present:  
                  - identifier: ca.test.mappings.homePage.globalIntentCenter.anyTimeButton
                  - identifier: ca.test.mappings.homePage.globalIntentCenter.tomorrowButton
                  - identifier: ca.test.mappings.homePage.globalIntentCenter.twoDaysButton
      - sleep:
          duration: 2000
      - click:
          identifier: ca.test.mappings.homePage.globalIntentCenter.pickUpLoctor
      - enterText:
            identifier: ca.test.mappings.home.zipCodeHome
            clearField: true
            string: ${Zip_Code}
            pressEnter: true
      - click:
          identifier: ca.test.mapping.storeSelectionPage.storeName
      - click:
          identifier: ca.test.mapping.storeSelectionPage.storeSaveButton
      - sleep:
          duration: 5000
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.homePage.globalIntentCenter.storeName
      - click:
          identifier: ca.test.mappings.homePage.globalIntentCenter.pickUp
      - sleep:
          duration: 5000
      - loop:
          begin: 0
          end: 3
          mode: increment
          flow:
            - if:
                identifier: 
                  present:
                    - identifier: ca.test.mappings.global.errorBoxTitle
                then:
                  - click:
                      identifier: ca.test.mappings.error.retryButton
                else:
                  - break: true
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.homePage.globalIntentCenter.expand
          then:
            - click:
                identifier: ca.test.mappings.homePage.globalIntentCenter.expand

  - name: ca.test.functions.home.selectAddress.printAddress
    platform: ios
    flow:
      - sleep:
         duration: 5000
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.homePage.gic.delivery.changeAddress
          then:
            - click:
                identifier: ca.test.mappings.homePage.gic.delivery.changeAddress
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.gic.addressExpandIcon
          then:
            - click:
                identifier: ca.test.mappings.gic.addressExpandIcon
      - sleep:
         duration: 5000
      - verifyIdentifier:
          present:
            # - identifier: ca.test.mappings.home.addressChangeTitle #HP002
            - identifier: ca.test.mappings.seeTimes.addAddress
      - loop:
          begin: 1
          end: 3
          storeIndex: i
          mode: increment
          flow:
            - getString:
                identifier: ca.test.mappings.home.addressPresent
                attribute: label
                storeIn: address
            - log:
                message: Print ${i} delivery address
                color: GREEN_BOLD
            - log:
                message: ${address}
                color: GREEN_BOLD   

#Selecting the Location
  - name: ca.test.functions.home.selectLocation
    platform: ios
    flow:
      - click:
          identifier: ca.test.mappings.addressLocation.addressOne
      - click:
          identifier: ca.test.mappings.address.save

  - name: ca.test.functions.home.changeLocation.selectAddressPage
    platform: ios
    flow:
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.homePage.globalIntentCenter.deliveryIntent
          then:
            - click:
                identifier: ca.test.mappings.homePage.globalIntentCenter.deliveryIntent
          else:
            - if:
                identifier:
                  present:
                    - identifier: ca.test.mappings.homePage.globalIntentCenter.expand
                then:
                  - click:
                      identifier: ca.test.mappings.homePage.globalIntentCenter.expand
                  - click:
                      identifier: ca.test.mappings.homePage.globalIntentCenter.deliveryIntent
                else:
                  - click:
                      identifier: ca.test.mappings.homePage.globalIntentCenter.expand
                  - click:
                      identifier: ca.test.mappings.homePage.globalIntentCenter.deliveryIntent
      - click:
          identifier: ca.test.mappings.homePage.globalIntentCenter.delivery.addAddress
      - sleep:
          duration: 1000

      # - if:
      #     identifier:
      #       present:
      #         - identifier: GlobalIntentCenter.BannerCollapsedChevron
      #     then:
      #       - click:
      #           identifier: GlobalIntentCenter.BannerCollapsedChevron
      # - sleep:
      #     duration: 5000
      # - click:
      #     identifier: (//XCUIElementTypeStaticText[@name="HoTIntentOptionsView.intentTypeLabel"])[2]
      # - if:
      #     identifier:
      #       notPresent:
      #         - identifier: //XCUIElementTypeImage[@name="HoTLocationsItemDetailsView.chevronIconView"]
      #     then:
      #       - click:
      #           identifier: (//XCUIElementTypeStaticText[@name="HoTIntentOptionsView.intentTypeLabel"])[2]
      # - click:
      #     identifier: //XCUIElementTypeImage[@name="HoTLocationsItemDetailsView.chevronIconView"]

  - name: ca.test.functions.home.seeTimesdeliverySlotValidation  
    platform: ios
    flow: 
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.global.continueButton
          then:
            - click:
                identifier: ca.test.mappings.global.continueButton
      # workaround for add address popup issue
      - executeFunction:
          name: ca.test.functions.handleAddAddressPopup
      - verifyIdentifier:
          timeout: 2000
          present:
            - identifier: ca.test.mappings.home.bookSlotHeader
            - identifier: ca.test.mappings.home.address   
            - identifier: ca.test.mappings.home.change 
      - verifyIdentifier:
          label:
            - identifier: ca.test.mappings.home.address 
              contains: ${addressHomeDelivery}    

  - name: ca.test.functions.home.changeBookedSlotButton
    platform: ios
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.home.change
      - click:
          identifier: ca.test.mappings.home.change  

  - name: ca.test.functions.home.seeTimesdeliverySlotAddress
    platform: ios
    flow: 
      - sleep:
          duration: 1000
      - verifyIdentifier:
          timeout: 2000
          present:
            - identifier: ca.test.mappings.home.bookSlotHeader
            - identifier: ca.test.mappings.home.address   
            - identifier: ca.test.mappings.home.change 
      - verifyIdentifier:
          label:
            - identifier: ca.test.mappings.deliveryFromStore.address 
              contains: ${addressHomeDelivery}   

  - name: ca.test.function.home.walmartFavourites
    platform: ios
    flow:
      - if:
          identifier:
            notPresent:
              - identifier: ca.test.mappings.homePage.savings
          then:
            - scroll:
                direction: down
                untilIdentifier: ca.test.mappings.homePage.savings
                position: center
      - click:
          identifier: ca.test.mappings.homePage.savings
      - if:
          identifier:
            notPresent:
              - identifier: ca.test.mappings.home.walmartFavourites
          then:
            - scroll:
                direction: down
                untilIdentifier: ca.test.mappings.home.walmartFavourites
                position: center
      - click:
          identifier: ca.test.mappings.home.walmartFavourites
      # - verifyIdentifier:
      #     label:
      #       - identifier: ca.test.mappings.home.titleClearance
      #         equals: ${titleClearance}
      - verifyIdentifier:
          timeout: 10000
          present:
            - identifier: ca.test.mappings.homePage.shopAll   
      - click:
          identifier: ca.test.mappings.homePage.shopAll
      - if:
          identifier:
            notPresent:
              - identifier: ca.test.mappings.home.walmartFavourites.category
          then:
            - scroll:
                direction: down
                untilIdentifier: ca.test.mappings.home.walmartFavourites.category
                position: center        
      - click:
          identifier: ca.test.mappings.home.walmartFavourites.category
      - verifyIdentifier:
          timeout: 10000
          present:
            - identifier: ca.test.mappings.home.srp.searchResultText 

  # - name: ca.test.functions.home.changeLocationLinkHome
  #   platform: ios
  #   flow:
  #     - if:
  #         identifier:
  #           present:
  #             - identifier: ca.test.mappings.location.link
  #         then:
  #           - click:
  #               identifier: ca.test.mappings.location.link
  #     - click:
  #         identifier: ca.test.mappings.addressLocation.addressOne
  #     - click:
  #         identifier: ca.test.mappings.address.save     


  - name: ca.test.functions.home.storeSelect
    platform: ios
    flow:
      - sleep:
          duration: 5000
      - verifyIdentifier:
          timeout: 20000
          present:
            - identifier: ca.test.mappings.homePage.globalIntentCenter.postalCode
            - identifier: ca.test.mappings.homePage.globalIntentCenter.banner
      - sleep:
          duration: 2000
      - click:
          identifier: ca.test.mappings.homePage.globalIntentCenter.pickUp
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.homePage.globalIntentCenter.pickUpText
            - identifier: ca.test.mappings.homePage.globalIntentCenter.pickUp.callOutMessage
      - sleep:
          duration: 2000
      - click:
          identifier: ca.test.mappings.homePage.globalIntentCenter.pickUpLoctor
      - enterText:
            identifier: ca.test.mappings.home.zipCodeHome
            clearField: true
            string: ${Zip_Code}
            pressEnter: true
      - click:
          identifier: ca.test.mapping.storeSelectionPage.storeName
      - click:
          identifier: ca.test.mapping.storeSelectionPage.storeSaveButton
      - sleep:
          duration: 5000
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.homePage.globalIntentCenter.storeName
      - click:
          identifier: ca.test.mappings.homePage.globalIntentCenter.pickUp
      - sleep:
          duration: 5000
      - loop:
          begin: 0
          end: 3
          mode: increment
          flow:
            - if:
                identifier: 
                  present:
                    - identifier: ca.test.mappings.global.errorBoxTitle
                then:
                  - click:
                      identifier: ca.test.mappings.error.retryButton
                else:
                  - break: true
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.homePage.globalIntentCenter.expand
          then:
            - click:
                identifier: ca.test.mappings.homePage.globalIntentCenter.expand    

#Store Selection with GIC
  - name: ca.test.functions.home.selectStore
    platform: android
    flow:
      - try:
          flow:
            - if:
                identifier:
                  present:
                    - identifier: ca.test.mappings.home.GIC.expandBtn #GIC Btn
                then:
                  - click:
                      identifier: ca.test.mappings.home.GIC.expandBtn
            - click:
                identifier: ca.test.mappings.home.GIC.storeLink #GIC Store Btn
          catch:
            flow:
              - verifyIdentifier:
                  present:
                    - identifier: ca.test.mappings.store.link
              - log:
                  message: Clicking on store selection link
                  color: GREEN_BOLD
              - click:
                  identifier: ca.test.mappings.store.link
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.global.sheetTitle
            - identifier: ca.test.mappings.global.locationSearchTextBox
            - identifier: ca.test.mappings.selectStore.useLocationLink
      - log:
          message: Store selection page opened.
          color: GREEN_BOLD
      - log:
          message: Enter zip code
          color: GREEN_BOLD
      - enterText:
          identifier: ca.test.mappings.global.locationSearchTextBox
          string: ${Zip_Code}
          pressEnter: true
      - verifyIdentifier:
          timeout: 15000
          present:
            - identifier: ca.test.mappings.selectStore.storeName
      - log: 
          message: Checking for store based on name.
          color: GREEN_BOLD
      - log:
          message: Clicking on the ${storeName}.
          color: GREEN_BOLD
      - click: 
          identifier: ca.test.mappings.selectStore.storeName
      - log:
          message: Clicking on the save address button
          color: GREEN_BOLD
      - click:
          identifier: ca.test.mappings.reserveTime.changeLocation.locationSaveButton
      - loop:
          begin: 1
          end: 4
          mode: increment
          flow:
            - log:
                message: Checking for technical error
                color: GREEN_BOLD
            - sleep:
                duration: 5000
            - if:
                identifier:
                  present:
                    - identifier: ca.walmart.ecommerceapp.qa:id/parentPanel
                then:
                  - click:
                      identifier: ca.test.mappings.acceptAlertBox
                  - if:
                      identifier:
                        timeout: 10000
                        present:
                          - identifier: ca.test.mappings.store.link
                      then:
                        - break: true
                else:
                  - break: true
#      - verifyIdentifier:
#          timeout: 5000
#          notPresent:
#            - identifier: ca.test.mappings.global.sheetTitle
#            - identifier: ca.test.mappings.global.locationSearchTextBox
      - log:
          message: "Store Selection Sucessful"
          color: GREEN_BOLD
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.home.GIC.collapseBtn
          then:
            - click:
                identifier: ca.test.mappings.home.GIC.collapseBtn 

  - name: ca.test.functions.global.authentication.storeSelect
    platform: ios
    flow:                                                                                 
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.homePage.globalIntentCenter.postalCode
          then:
            - click:
                identifier: ca.test.mappings.homePage.globalIntentCenter.postalCode
      - verifyIdentifier:
          timeout: 20000
          present:
            - identifier: ca.test.mappings.homePage.globalIntentCenter.postalCode
            - identifier: ca.test.mappings.homePage.globalIntentCenter.banner
      - click:
          identifier: ca.test.mappings.homePage.globalIntentCenter.pickUp
          wait: 3000
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.homePage.globalIntentCenter.pickUpText
            # - identifier: ca.test.mappings.homePage.globalIntentCenter.pickUp.callOutMessage
      - click:
          identifier: ca.test.mappings.homePage.globalIntentCenter.pickUpLoctor
          wait: 2000
      - enterText:
            identifier: ca.test.mappings.home.zipCodeHome
            clearField: true
            string: ${Zip_Code}
            pressEnter: true
      - click:
          identifier: ca.test.mapping.storeSelectionPage.storeName
      - click:
          identifier: ca.test.mapping.storeSelectionPage.storeSaveButton
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.homePage.globalIntentCenter.storeName
          timeout: 10000            
      - click:
          identifier: ca.test.mappings.homePage.globalIntentCenter.pickUp
      - sleep:
          duration: 5000
      - loop:
          begin: 0
          end: 3
          mode: increment
          flow:
            - if:
                identifier: 
                  present:
                    - identifier: ca.test.mappings.global.errorBoxTitle
                then:
                  - click:
                      identifier: ca.test.mappings.error.retryButton
                else:
                  - break: true
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.homePage.globalIntentCenter.collapse
          then:
            - click:
                identifier: ca.test.mappings.homePage.globalIntentCenter.collapse

  - name: ca.test.functions.home.changeLocationLinkHome
    platform: ios
    flow:                                                                                 
      - if:
          identifier:
            present:
              - identifier: GlobalIntentCenter.BannerCollapsedChevron
          then:
            - sleep:
                duration: 1000
            - click:
                identifier: GlobalIntentCenter.BannerCollapsedChevron
      - sleep:
          duration: 1000
      - click:
          identifier: (//XCUIElementTypeStaticText[@name="HoTIntentOptionsView.intentTypeLabel"])[2]
      - if:
          identifier:
            notPresent:
              - identifier: //XCUIElementTypeImage[@name="HoTLocationsItemDetailsView.chevronIconView"]
          then:
            - sleep:
                duration: 1000
            - click:
                identifier: (//XCUIElementTypeStaticText[@name="HoTIntentOptionsView.intentTypeLabel"])[2]
      - sleep:
          duration: 1000
      - click:
          identifier: //XCUIElementTypeImage[@name="HoTLocationsItemDetailsView.chevronIconView"]
      - sleep:
          duration: 1000
      - click:
          identifier: ca.test.mappings.addressLocation.addressOne
      - click:
          identifier: ca.test.mappings.address.save
      - sleep:
          duration: 10000
      - loop:
          begin: 0
          end: 3
          mode: increment
          flow:
            - if:
                identifier:
                  notPresent:
                    - identifier: ca.test.mappings.homePage.globalIntentCenter.howWantYourItems
                then:
                  - click:
                      identifier: (//XCUIElementTypeStaticText[@name="HoTIntentOptionsView.intentTypeLabel"])[2]
                else:
                  - break: true
      - if:
          identifier:
            present:
              - identifier: GlobalIntentCenter.BannerExpandedChevron
          then:
            - click:
                identifier: GlobalIntentCenter.BannerExpandedChevron 

  - name: ca.test.functions.home.storeSelectionAssertion
    platform: ios
    flow:
      - verifyIdentifier:
          timeout: 20000
          present:
            - identifier: ca.test.mappings.homePage.globalIntentCenter.postalCode
            - identifier: ca.test.mappings.homePage.globalIntentCenter.banner
      - if:
          identifier:
            timeout: 5000
            present:
              - identifier: ca.test.mappings.homePage.globalIntentCenter.pickUp
          then:
            - click:
                identifier: ca.test.mappings.homePage.globalIntentCenter.pickUp
          else:
            - if:
                identifier:
                  present:
                    - identifier: ca.test.mappings.homePage.globalIntentCenter.expand
                then:
                  - click:
                      identifier: ca.test.mappings.homePage.globalIntentCenter.expand
                  - click:
                      identifier: ca.test.mappings.homePage.globalIntentCenter.pickUp
                else:
                  - click:
                      identifier: ca.test.mappings.homePage.globalIntentCenter.expand
                  - click:
                      identifier: ca.test.mappings.homePage.globalIntentCenter.pickUp
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.homePage.globalIntentCenter.pickUpText
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.homePage.globalIntentCenter.pickUp.callOutMessage
          then:
            - verifyIdentifier:
                present:
                  - identifier: ca.test.mappings.homePage.globalIntentCenter.pickUp.callOutMessage
      - verifyIdentifier:
          timeout: 10000
          label:
            - identifier: ca.test.mappings.gicHome.pickup.storeName
              contains: ${storeName}
      - log:
          message: "Store assertion at home page successful."
          color: GREEN_BOLD
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.gicHome.pickup.storeName
      - click:
          identifier: ca.test.mappings.homePage.globalIntentCenter.collapse
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.homePage.globalIntentCenter.expand
          then:
            - click:
                identifier: ca.test.mappings.homePage.globalIntentCenter.expand

  - name: ca.test.functions.home.deliveryAddressAssertion
    platform: ios
    flow:
      - if:
          identifier:
            notPresent:
              - identifier: ca.test.mappings.homePage.globalIntentCenter.deliveryIntent
          then:
            - click:
                identifier: ca.test.mappings.homePage.globalIntentCenter.expand
      - verifyIdentifier:
          timeout: 10000
          present:
            - identifier: ca.test.mappings.homePage.globalIntentCenter.deliveryIntent
      - click:
          identifier: ca.test.mappings.homePage.globalIntentCenter.deliveryIntent      
      - sleep:
         duration: 2000
      - verifyIdentifier:
          label:
            - identifier: ca.test.mappings.gicHome.delivery.address
              contains: ${addressFirstLine} 
      - click:
          identifier: ca.test.mappings.globalIntent.expandedChervon 

  - name: ca.test.functions.home.naviagteToLocationLink
    platform: ios
    flow: 
      - executeFunction:
          name: ca.test.functions.globalIntent.expandGlobalIntent
      - verifyIdentifier:
          timeout: 10000
          present:
            - identifier: ca.test.mappings.globalIntent.expandedView.deliveryIntent
      - click:
          identifier: ca.test.mappings.globalIntent.expandedView.deliveryIntent     
      - click:
          identifier: ca.test.mappings.gic.addAddressChangeAddressButton

  # Sign in Validation-ios
  - name: ca.test.functions.home.verifyUserNameInAccountPageAndHomePage
    platform: ios
    flow:
      - sleep:
          duration : 5000        
      - getString:
          identifier: ca.test.mappings.account.header
          attribute: value
          storeIn: usergreeting
      - if:
          condition: ${usergreeting} == "Walmart"
          then:
            - log:
                message: Fisrtname ${usergreeting} validated in account page!
                color: GREEN_BOLD
      - click:
          identifier: ca.test.mappings.tabBar.shop
      - verifyIdentifier:
          value: 
            - identifier: ca.test.mappings.home.siginedUserName
              equals: ${usergreeting}   
      - if:
          condition: ${usergreeting} == "Walmart"
          then:
            - log:
                message: Fisrtname ${usergreeting} validated in Home page!
                color: GREEN_BOLD

  - name: ca.test.functions.home.addToCartFromCarousel
    platform: ios
    flow:
      - sleep:
          duration: 30000
      - if:
          identifier:
            notPresent:
              - identifier: ca.test.mappings.home.carouselProductAddToCartUsingContDesc
          then:
            - sleep:
                duration: 2000
            - if:
                identifier:
                  notPresent:
                    - identifier: ca.test.mappings.home.carousel.productName
                then:
                  - executeFunction:
                      name: ca.test.functions.utils.scrollToView
                      params:
                        - name: scrollContainer
                          string: ${scrollContainer}
                        - name: untilIdentifier
                          string: ca.test.mappings.home.carousel.productName
                        - name: searchDirection
                          string: right
      - click:
          identifier: ca.test.mappings.home.carouselProductAddToCartUsingContDesc            

  - name: ca.test.functions.home.closAddressePage
    flow:
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.global.closeIcon
          then:
            - click:
                identifier: ca.test.mappings.global.closeIcon
      - sleep:
         duration: 5000
      - click:
         identifier: ca.test.mappings.globalIntent.expandedView.deliveryIntent  
      - if:
          identifier:
            present:
              - identifier: ca.test.mappings.homePage.globalIntentCenter.collapse
          then:
            - click:
                identifier: ca.test.mappings.homePage.globalIntentCenter.collapse          
