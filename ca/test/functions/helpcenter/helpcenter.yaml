
functions:

  - name: ca.test.functions.helpCentre.navigateToHelpCentre
    platform: android
    flow:
      - executeFunction:
          name: ca.test.functions.global.navigation.goToAccountFromTabBar
      - scroll:
          direction: down
          untilIdentifier: ca.test.mappings.account.customerServices
          position: center    
      - click:
          identifier: ca.test.mappings.account.customerServices
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.welcomeMessage
  
  - name: ca.test.functions.helpCentre.verifyHelpCentreScreenElements
    platform: android
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.welcomeMessage
            - identifier: ca.test.mappings.helpcenter.qal

  - name: ca.test.functions.helpCentre.clickChannel
    platform: android
    flow:
      - click:
            identifier: ca.test.mappings.helpcenter.channelTitle
            index: 1

  - name: ca.test.functions.helpCentre.verifychannelExpand
    platform: android
    flow:
      - click:
            identifier: ca.test.mappings.helpcenter.channelTitle
            index: 1
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.expand
            - identifier: ca.test.mappings.helpcenter.articleTitle

  - name: ca.test.functions.helpCentre.clickChannelCollpase
    platform: android
    flow:
      - click:
            identifier: ca.test.mappings.helpcenter.channelTitle
            index: 1
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.collapse
          notPresent:
            - identifier: ca.test.mappings.helpcenter.articleTitle
            
  - name: ca.test.functions.helpCentre.clickArticle
    platform: android
    flow:
      - getString:
          identifier: ca.test.mappings.helpcenter.articleTitle
          storeIn: articleTitle
      - click:
            identifier: ca.test.mappings.helpcenter.articleTitle
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.articlePageTitle
            - identifier: ca.test.mappings.helpcenter.articleContent
          text:
            - identifier: ca.test.mappings.helpcenter.articlePageTitle
              equals: ${articleTitle}

  - name: ca.test.functions.helpCentre.clickArticleAndValidate
    platform: ios
    flow:
      - getString:
          identifier: ca.test.mappings.helpcenter.articleTitle
          index: 1
          storeIn: articleTitle
      - click:
            identifier: ca.test.mappings.helpcenter.articleTitle
            index: 1
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.atriclePageTitle
            - identifier: ca.test.mappings.helpcenter.articleContent
          label:
            - identifier: ca.test.mappings.helpcenter.atriclePageTitle
              equals: ${articleTitle}

  - name: ca.test.functions.helpCentre.articleYes
    platform: android
    flow:
      - scroll:
          direction: down
          untilIdentifier: ca.test.mappings.helpcenter.articleYes
          position: center
      - click:
          identifier: ca.test.mappings.helpcenter.articleYes
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.feedbackSucessMessage

  - name: ca.test.functions.helpCentre.articleEmptyFeedback
    platform: android
    flow:
      - scroll:
          direction: down
          untilIdentifier: ca.test.mappings.helpcenter.articleNo
          position: center
      - click:
          identifier: ca.test.mappings.helpcenter.articleNo
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.submitFeedback
      - click:
          identifier: ca.test.mappings.helpcenter.feedbackReasonOther      
      - click:
          identifier: ca.test.mappings.helpcenter.submitFeedback
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.articlefeedbackerror

  - name: ca.test.functions.helpCentre.articleFeedbackWithSpace
    platform: android
    flow:
      - scroll:
          direction: down
          untilIdentifier: ca.test.mappings.helpcenter.articleNo
          position: center
      - click:
          identifier: ca.test.mappings.helpcenter.articleNo
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.submitFeedback
      - click:
          identifier: ca.test.mappings.helpcenter.feedbackReasonOther      
      - enterText:
          identifier: ca.test.mappings.helpcenter.feedbackComment
          string: "      "
      - hideKeyboard: true
      - click:
          identifier: ca.test.mappings.helpcenter.submitFeedback
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.articlefeedbackerror       

  - name: ca.test.functions.helpCentre.feedbackWithValidOption
    platform: android
    flow:
      - scroll:
          direction: down
          untilIdentifier: ca.test.mappings.helpcenter.articleNo
          position: center
      - click:
          identifier: ca.test.mappings.helpcenter.articleNo
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.submitFeedback
      - click:
          identifier: ca.test.mappings.helpcenter.feedbackReason
      - click:
          identifier: ca.test.mappings.helpcenter.submitFeedback
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.feedbackSucessMessage

  - name: ca.test.functions.helpCentre.search
    platform: android
    flow:
      - click:
          identifier: ca.test.mappings.helpcenter.search
      - enterText:
         identifier: ca.test.mappings.helpcenter.searchTopics
         string: ${helpsearch}
      - sleep:
          duration: 3
          units: SECONDS

  - name: ca.test.functions.helpCentre.validateSearchArticleNavigation
    platform: android
    flow:
    - getString:
          identifier: ca.test.mappings.helpcenter.searcharticleText
          index: 1
          storeIn: searchArticleText
    - click:
        identifier: ca.test.mappings.helpcenter.searcharticleText
        index: 1
    - verifyIdentifier:
          text:
            - identifier: ca.test.mappings.helpcenter.articlePageTitle
              equals: ${searchArticleText}

  - name: ca.test.functions.helpCentre.clickOnSearchFor
    platform: android
    flow:
    - click:
        identifier: ca.test.mappings.helpcenter.searcharticleText

  - name: ca.test.functions.helpCentre.clickReturnHelp
    platform: android
    flow:
      - scroll:
          direction: down
          untilIdentifier: ca.test.mappings.helpcenter.returnToHelp
          position: center
      - click:
            identifier: ca.test.mappings.helpcenter.returnToHelp

  - name: ca.test.functions.helpCentre.clickReturnHelp
    platform: ios
    flow:
      - scroll:
          direction: down
          untilIdentifier: ca.test.mappings.helpcenter.returnToHelp
          position: center
      - click:
            identifier: ca.test.mappings.helpcenter.returnToHelp

  - name: ca.test.functions.helpCentre.clickSearchAgain
    platform: android
    flow:
      - scroll:
          direction: down
          untilIdentifier: ca.test.mappings.helpcenter.returnToHelp
          position: center
      - click:
            identifier: ca.test.mappings.helpcenter.searchAgain

  - name: ca.test.functions.helpCentre.verifySearchInput
    platform: android
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.clearText
            - identifier: ca.test.mappings.helpcenter.cancelButton

  - name: ca.test.functions.helpCentre.clickCancel
    platform: android
    flow:
      - click:
         identifier: ca.test.mappings.helpcenter.cancelButton

  - name: ca.test.functions.helpCentre.clickClearText
    platform: android
    flow:
      - click:
         identifier: ca.test.mappings.helpcenter.clearText

  - name: ca.test.functions.helpCentre.verifySearchForPresent
    platform: android
    flow:
    - verifyIdentifier:
        present:
          - identifier: ca.test.mappings.helpcenter.searcharticleText   

  - name: ca.test.functions.helpCentre.searchForNotPresent
    platform: android
    flow:
    - verifyIdentifier:
        notPresent:
          - identifier: ca.test.mappings.helpcenter.searcharticleText

  - name: ca.test.functions.helpCentre.getSearchText
    platform: android
    flow:
      - getString:
          identifier: ca.test.mappings.helpcenter.searchTopics
          storeIn: searchText

  - name: ca.test.functions.helpCentre.verifyAndClickOncontactUS
    platform: android
    flow:
      - scroll:
          direction: down
          untilIdentifier: ca.test.mappings.helpcenter.contactUS
          position: center    
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.contactUS    
      - click:
         identifier: ca.test.mappings.helpcenter.contactUS

  - name: ca.test.functions.helpCentre.contactUS
    platform: android
    flow:
      - scroll:
          direction: down
          untilIdentifier: ca.test.mappings.helpcenter.contactUS
          position: center    
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.contactUS      

  - name: ca.test.functions.helpCentre.searchSuggestionCount
    platform: android
    flow:
    - numberOfChildElements:
        identifier: ca.test.mappings.helpcenter.suggestions
        filterBy: ca.test.mappings.helpcenter.viewGroup
        storeIn: searchSuggestionCount

  - name: ca.test.functions.helpCentre.searchSuggestionCount
    platform: ios
    flow:
    - numberOfChildElements:
        identifier: ca.test.mappings.helpcenter.searchSuggestion
        filterBy: ca.test.mappings.helpcenter.staticText
        storeIn: searchSuggestionCount

  - name: ca.test.functions.helpCentre.validateRelatedArticles
    platform: android
    flow:
      - scroll:
          direction: down
          untilIdentifier: ca.test.mappings.helpcenter.relatedArticles
          position: center
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.relatedArticleTitle

  - name: ca.test.functions.helpCentre.navigateToHelpCentre
    platform: ios
    
    flow:
      - click:
          identifier: ca.test.mappings.tabBar.account
      - scroll:
          direction: down
          untilIdentifier: ca.test.mappings.account.helpcenter
          position: center    
      - click:
          identifier: ca.test.mappings.account.helpcenter
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.welcome   

  - name: ca.test.functions.helpCentre.contactUS
    platform: ios
    flow:
      - scroll:
          direction: down
          untilIdentifier: ca.test.mappings.helpcenter.contactUS
          position: center    
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.contactUS
  
  - name: ca.test.functions.helpCentre.clickChannel
    platform: ios
    flow:
      - click:
            identifier: ca.test.mappings.helpcenter.channelTitle
            index: 1

  - name: ca.test.functions.helpCentre.clickArticle
    platform: ios
    flow:
      - click:
            identifier: ca.test.mappings.helpcenter.articleTitle
            index: 1

  - name: ca.test.functions.helpCentre.articleFeedbackWithSpace
    platform: ios
    flow:
      - scroll:
          direction: down
          untilIdentifier: ca.test.mappings.helpcenter.feedbackNo
          position: center
      - click:
          identifier: ca.test.mappings.helpcenter.feedbackNo
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.submitFeedback
      - click:
          identifier: ca.test.mappings.helpcenter.feedbackOthers   
      - enterText:
          identifier: ca.test.mappings.helpcenter.commentField
          string: "      "
      - click:
          identifier: ca.test.mappings.helpcenter.submitFeedback
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.commenterror

  - name: ca.test.functions.helpCentre.articleYes
    platform: ios
    flow:
      - scroll:
          direction: down
          untilIdentifier: ca.test.mappings.helpcenter.feebackYes
          position: center
      - click:
          identifier: ca.test.mappings.helpcenter.feebackYes
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.feedbackSucess

  - name: ca.test.functions.helpCentre.articleEmptyFeedback
    platform: ios
    flow:
      - scroll:
          direction: down
          untilIdentifier: ca.test.mappings.helpcenter.feedbackNo
          position: center
      - click:
          identifier: ca.test.mappings.helpcenter.feedbackNo
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.submitFeedback
      - click:
          identifier: ca.test.mappings.helpcenter.feedbackOthers 
      - click:
          wait: 2000
          identifier: ca.test.mappings.helpcenter.submitFeedback
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.commenterror

  - name: ca.test.functions.helpCentre.feedbackWithValidOption
    platform: ios
    flow:
      - scroll:
          direction: down
          untilIdentifier: ca.test.mappings.helpcenter.feedbackNo
          position: center
      - click:
          identifier: ca.test.mappings.helpcenter.feedbackNo
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.submitFeedback
      - click:
          identifier: ca.test.mappings.helpcenter.feedbackReason
      - click:
          wait: 3000
          identifier: ca.test.mappings.helpcenter.submitFeedback
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.feedbackSucess

  - name: ca.test.functions.helpCentre.validateRelatedArticles
    platform: ios
    flow:
      - scroll:
          direction: down
          untilIdentifier: ca.test.mappings.helpcenter.relatedArticleTitle
          position: center
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.relatedArticleTitle    

  - name: ca.test.functions.helpCentre.search
    platform: ios
    flow:
      - click:
          identifier: ca.test.mappings.helpcenter.searchbar
      - enterText:
         identifier: ca.test.mappings.helpcenter.searchText
         string: ${helpsearch}
      - sleep:
          duration: 3
          units: SECONDS
   
  - name: ca.test.functions.helpCentre.clickCancel
    platform: ios
    flow:
      - click:
         identifier: ca.test.mappings.helpcenter.searchCancel

  - name: ca.test.functions.helpCentre.verifyHelpCentreScreenElements
    platform: ios
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.welcome
            - identifier: ca.test.mappings.helpcenter.qal

  - name: ca.test.functions.helpCentre.clickClearText
    platform: ios
    flow:
      - click:
         identifier: ca.test.mappings.helpcenter.searchClear

  - name: ca.test.functions.helpCentre.getSearchText
    platform: ios
    flow:
      - getString:
          identifier: ca.test.mappings.helpcenter.searchText
          storeIn: searchText

  - name: ca.test.functions.helpCentre.clickOnSearchFor
    platform: ios
    flow:
    - click:
        identifier: ca.test.mappings.helpcenter.searchFor  

  - name: ca.test.functions.helpCentre.validateSearchArticleNavigation
    platform: ios
    flow:
    - getString:
          identifier: ca.test.mappings.helpcenter.searchFor
          index: 1
          storeIn: searchArticleText
    - click:
        identifier: ca.test.mappings.helpcenter.searchFor
        index: 1
    - verifyIdentifier:
          label:
            - identifier: ca.test.mappings.helpcenter.atriclePageTitle
              equals: ${searchArticleText}

  - name: ca.test.functions.helpCentre.clickSearchAgain
    platform: ios
    flow:
      - scroll:
          direction: down
          untilIdentifier: ca.test.mappings.helpcenter.returnToHelp
          position: center
      - click:
            identifier: ca.test.mappings.helpcenter.searchAgain

  - name: ca.test.functions.helpCentre.verifySearchInput
    platform: ios
    flow:
      - verifyIdentifier:
          present:
            - identifier: ca.test.mappings.helpcenter.searchCancel