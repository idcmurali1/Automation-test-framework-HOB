2024-03-22 19:56:30.931 [DEBUG] [thread-id 1] - Executing R2 3.40.1: '/Users/m0k0a2f/glass-automation/./us/test/test-scripts/ios/golden-flows/passkey-flows/C2711393-add-passkey-and-delete-passkey.yaml' on device: 'iPhone 14'
2024-03-22 19:57:09.079 [ERROR] [thread-id 1] - error setting up appium session: 
org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: '16.1' does not exist in the list of simctl SDKs. Only the following Simulator SDK versions are available on your system: 15.0, 16.4, 15.2 
Host info: host: 'm-xqkh4fwq5j', ip: '2603:8001:723f:c780:0:0:0:1265%en0'
Build info: version: '4.13.0', revision: 'ba948ece5b*'
System info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '13.6', java.version: '20.0.1'
Driver info: io.appium.java_client.ios.IOSDriver
Command: [null, newSession {capabilities=[{appium:app=/Users/m0k0a2f/glass-automation/us/app/glass.zip, appium:appiumVersion=2.0.0, appium:automationName=XCUITest, appium:bundleId=com.walmart.beta.electronics, appium:commandTimeout=600, appium:deviceName=iPhone 14, appium:fullReset=false, appium:idleTimeout=1000, appium:iosInstallPause=20000, appium:launchTimeout=6000000, appium:name=C2711393-add-passkey-and-delete-passkey.yaml, appium:newCommandTimeout=90000, appium:noReset=false, appium:orientation=PORTRAIT, appium:platformVersion=16.1, appium:processArguments={"env":{"config":"{\"environment\":\"teflon\"}","ccm":"{\"feature.membership.plusups.reactivation.cancelledActiveExpired.enabled\":{\"value\":false}}"},"args":["-kGlassExpEnabled","true","-com.walmart.px.skip-catcha","YES"]}, appium:waitForQuiescence=false, platformName=IOS}], desiredCapabilities=Capabilities {appium:app: /Users/m0k0a2f/glass-automa..., appium:appiumVersion: 2.0.0, appium:automationName: XCUITest, appium:bundleId: com.walmart.beta.electronics, appium:commandTimeout: 600, appium:deviceName: iPhone 14, appium:fullReset: false, appium:idleTimeout: 1000, appium:iosInstallPause: 20000, appium:launchTimeout: 6000000, appium:name: C2711393-add-passkey-and-de..., appium:newCommandTimeout: 90000, appium:noReset: false, appium:orientation: PORTRAIT, appium:platformVersion: 16.1, appium:processArguments: {"env":{"config":"{\"enviro..., appium:waitForQuiescence: false, platformName: IOS}}]
Capabilities {appium:app: /Users/m0k0a2f/glass-automa..., appium:appiumVersion: 2.0.0, appium:automationName: XCUITest, appium:bundleId: com.walmart.beta.electronics, appium:commandTimeout: 600, appium:deviceName: iPhone 14, appium:fullReset: false, appium:idleTimeout: 1000, appium:iosInstallPause: 20000, appium:launchTimeout: 6000000, appium:name: C2711393-add-passkey-and-de..., appium:newCommandTimeout: 90000, appium:noReset: false, appium:orientation: PORTRAIT, appium:platformVersion: 16.1, appium:processArguments: {"env":{"config":"{\"enviro..., appium:waitForQuiescence: false, platformName: IOS}
	at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:140) ~[r2.jar:3.40.1]
	at jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:578) ~[?:?]
	at io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:133) ~[r2.jar:3.40.1]
	at io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:102) ~[r2.jar:3.40.1]
	at io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:182) ~[r2.jar:3.40.1]
	at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:250) ~[r2.jar:3.40.1]
	at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:602) ~[r2.jar:3.40.1]
	at io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:274) ~[r2.jar:3.40.1]
	at org.openqa.selenium.remote.RemoteWebDriver.<init>(RemoteWebDriver.java:163) ~[r2.jar:3.40.1]
	at io.appium.java_client.AppiumDriver.<init>(AppiumDriver.java:89) ~[r2.jar:3.40.1]
	at io.appium.java_client.AppiumDriver.<init>(AppiumDriver.java:101) ~[r2.jar:3.40.1]
	at io.appium.java_client.ios.IOSDriver.<init>(IOSDriver.java:104) ~[r2.jar:3.40.1]
	at com.walmartlabs.executor.Appium.setupDriver(Appium.java:715) ~[r2.jar:3.40.1]
	at com.walmartlabs.executor.Appium.setupAppium(Appium.java:640) ~[r2.jar:3.40.1]
	at com.walmartlabs.executor.Executor.start(Executor.java:291) [r2.jar:3.40.1]
	at com.walmartlabs.executor.Executor.startExecution(Executor.java:139) [r2.jar:3.40.1]
	at com.walmartlabs.executor.MultipleConfigExecutor.executeConfig(MultipleConfigExecutor.java:278) [r2.jar:3.40.1]
	at com.walmartlabs.executor.MultipleConfigExecutor.start(MultipleConfigExecutor.java:121) [r2.jar:3.40.1]
	at com.walmartlabs.R2.start(R2.java:88) [r2.jar:3.40.1]
	at com.walmartlabs.R2.main(R2.java:127) [r2.jar:3.40.1]
2024-03-22 19:57:14.029 [DEBUG] [thread-id 1] - Created report: /Users/m0k0a2f/glass-automation/report/index.html
2024-03-22 20:00:01.990 [DEBUG] [thread-id 1] - Executing R2 3.40.1: '/Users/m0k0a2f/glass-automation/./us/test/test-scripts/ios/golden-flows/passkey-flows/C2711393-add-passkey-and-delete-passkey.yaml' on device: 'iPhone 14'
2024-03-22 20:01:55.266 [DEBUG] [thread-id 1] - Executing scenario: 'Before'
2024-03-22 20:01:55.268 [DEBUG] [thread-id 1] - R2_SUBFLOW_PRE_TRANSACTION
2024-03-22 20:01:55.612 [DEBUG] [thread-id 1] - Using us-errors-helpers.yaml
2024-03-22 20:01:55.931 [DEBUG] [thread-id 1] - Start Main
2024-03-22 20:01:55.932 [DEBUG] [thread-id 1] - Timestamp: 1711162915932
2024-03-22 20:01:55.934 [DEBUG] [thread-id 1] - Executing function: 'us.functions.global.onboarding.navigateOnboardingToHome'
2024-03-22 20:01:55.935 [DEBUG] [thread-id 1] - Executing function: 'us.function.utils.getEnvironmentValue'
2024-03-22 20:01:55.936 [DEBUG] [thread-id 1] - Store in: store the value 'teflon' in the variable 'env'
2024-03-22 20:01:55.936 [DEBUG] [thread-id 1] - Timestamp: 1711162915936
2024-03-22 20:01:55.944 [DEBUG] [thread-id 1] - Welcome screen loaded
2024-03-22 20:01:56.099 [DEBUG] [thread-id 1] - Verify identifier: {//XCUIElementTypeButton[@name="SignUpNudgeWelcomeViewController.bodyLabel"]=[true]}
2024-03-22 20:02:06.112 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: false
2024-03-22 20:02:06.306 [DEBUG] [thread-id 1] - Click element: 'cta.cancel.welcome'
2024-03-22 20:02:06.819 [DEBUG] [thread-id 1] - Notifiction Prompt screen loaded
2024-03-22 20:02:07.284 [DEBUG] [thread-id 1] - Verify identifier: {NotificationPermissionViewController.titleLabel=[true]}
2024-03-22 20:02:09.374 [DEBUG] [thread-id 1] - Click element: 'cta.cancel.notifications'
2024-03-22 20:02:09.820 [DEBUG] [thread-id 1] - location screen loaded
2024-03-22 20:02:10.030 [DEBUG] [thread-id 1] - Verify identifier: {LocationPermissionViewController.titleLabel=[true], LocationPermissionViewController.bodyLabel=[true]}
2024-03-22 20:02:10.139 [DEBUG] [thread-id 1] - Click element: 'cta.cancel.location'
2024-03-22 20:02:10.870 [DEBUG] [thread-id 1] - Verify identifier: {label.postal-code-entry=[true]}
2024-03-22 20:02:10.939 [DEBUG] [thread-id 1] - Enter text: '95122'
2024-03-22 20:02:13.909 [DEBUG] [thread-id 1] - Click element: 'cta.continue'
2024-03-22 20:02:14.481 [DEBUG] [thread-id 1] - sleep:  3000 milliseconds
2024-03-22 20:02:17.491 [DEBUG] [thread-id 1] - loop: from 0 to 3
2024-03-22 20:02:17.787 [DEBUG] [thread-id 1] - 0
2024-03-22 20:02:28.356 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: false
2024-03-22 20:02:38.821 [DEBUG] [thread-id 1] - Observed IDFA Sscreen
2024-03-22 20:02:39.077 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: true
2024-03-22 20:02:39.336 [DEBUG] [thread-id 1] - Verify identifier: {ATTPermissionViewController.titleLabel=[true], ATTPermissionViewController.bodyLabel=[true]}
2024-03-22 20:02:39.648 [DEBUG] [thread-id 1] - Click element: 'cta.continue.location'
2024-03-22 20:02:43.040 [DEBUG] [thread-id 1] - Click element: '//XCUIElementTypeButton[@name="Ask App Not to Track"] | //XCUIElementTypeButton[@name="Solicitar a la app no rastrear"]'
2024-03-22 20:02:54.272 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: false
2024-03-22 20:02:54.949 [DEBUG] [thread-id 1] - modal is not displayed
2024-03-22 20:03:05.016 [DEBUG] [thread-id 1] - Executing function: 'us.functions.gic.collapseIfExpanded'
2024-03-22 20:03:06.133 [DEBUG] [thread-id 1] - Verify identifier: {//*[contains(@label,"Expanded")] | //*[contains(@name,"Expanded")]=[true]}
2024-03-22 20:03:06.830 [DEBUG] [thread-id 1] - Collapsing GIC screen
2024-03-22 20:03:07.936 [DEBUG] [thread-id 1] - Click element: '//*[contains(@label,"Expanded")] | //*[contains(@name,"Expanded")]'
2024-03-22 20:03:08.468 [DEBUG] [thread-id 1] - Store in: store the value 'passkeyuser1711162915932@gmail.com' in the variable 'customerEmail'
2024-03-22 20:03:08.469 [DEBUG] [thread-id 1] - Store in: store the value 'E2epassword$' in the variable 'password'
2024-03-22 20:03:08.471 [DEBUG] [thread-id 1] - Executing function: 'us.functions.utils.astro.createAccount.withVerifiedPhone'
2024-03-22 20:03:08.471 [DEBUG] [thread-id 1] - Create Account with Phone verified
2024-03-22 20:03:08.472 [DEBUG] [thread-id 1] - {"firstName": "AddDelete","lastName": "Passkey","emailAddress": "passkeyuser1711162915932@gmail.com","phoneNumber": "4089691521","password": "E2epassword$","verification": "phone","paymentMethods": ["VISA"],"postalAddress": {"address": "2730 E McKellips Rd","city": "Mesa","state": "AZ","country": "USA","postalCode": "85213"}}
2024-03-22 20:03:08.473 [DEBUG] [thread-id 1] - loop: from 1 to 4
2024-03-22 20:03:09.286 [DEBUG] [thread-id 1] - Call API: 'http://astro.walmart.com/api/v2/teflon/customer'
2024-03-22 20:03:20.919 [DEBUG] [thread-id 1] - Response code is: '404'. Response body is: '{"astroStatus":"FAIL","astroDescription":"SOMETHING_WENT_WRONG","astroDetails":{}}'
2024-03-22 20:03:21.782 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: false
2024-03-22 20:03:22.587 [DEBUG] [thread-id 1] - TRIGGER RETRY 1 - Triggering account creation API again
2024-03-22 20:03:23.383 [DEBUG] [thread-id 1] - sleep:  20000 milliseconds
2024-03-22 20:03:44.250 [DEBUG] [thread-id 1] - Call API: 'http://astro.walmart.com/api/v2/teflon/customer'
2024-03-22 20:03:54.350 [DEBUG] [thread-id 1] - Response code is: '404'. Response body is: '{"astroStatus":"FAIL","astroDescription":"SOMETHING_WENT_WRONG","astroDetails":{}}'
2024-03-22 20:03:55.181 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: false
2024-03-22 20:03:55.984 [DEBUG] [thread-id 1] - TRIGGER RETRY 2 - Triggering account creation API again
2024-03-22 20:03:56.785 [DEBUG] [thread-id 1] - sleep:  20000 milliseconds
2024-03-22 20:04:17.637 [DEBUG] [thread-id 1] - Call API: 'http://astro.walmart.com/api/v2/teflon/customer'
2024-03-22 20:04:28.302 [DEBUG] [thread-id 1] - Response code is: '404'. Response body is: '{"astroStatus":"FAIL","astroDescription":"SOMETHING_WENT_WRONG","astroDetails":{}}'
2024-03-22 20:04:29.190 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: false
2024-03-22 20:04:29.986 [DEBUG] [thread-id 1] - TRIGGER RETRY 3 - Triggering account creation API again
2024-03-22 20:04:30.793 [DEBUG] [thread-id 1] - sleep:  20000 milliseconds
2024-03-22 20:04:50.851 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: true
2024-03-22 20:04:51.677 [WARN] [thread-id 1] - variable responseCode was used, but r2 could not find a value for this variable. returning default of null
2024-03-22 20:04:51.678 [WARN] [thread-id 1] - variable altResponseCode was used, but r2 could not find a value for this variable. returning default of null
2024-03-22 20:04:51.681 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: false
2024-03-22 20:05:12.175 [DEBUG] [thread-id 1] - Main failed: API_FAILURE - ASTRO - Unable to create account. Error: SOMETHING_WENT_WRONG
2024-03-22 20:05:13.843 [DEBUG] [thread-id 1] - Executing scenario: 'After'
2024-03-22 20:05:13.844 [DEBUG] [thread-id 1] - Executing function: 'us.functions.utils.afterSteps'
2024-03-22 20:05:13.844 [WARN] [thread-id 1] - variable testStatus was used, but r2 could not find a value for this variable. returning default of null
2024-03-22 20:05:13.845 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: false
2024-03-22 20:05:14.664 [DEBUG] [thread-id 1] - Test failed
2024-03-22 20:05:19.496 [DEBUG] [thread-id 1] - Created report: /Users/m0k0a2f/glass-automation/report/index.html
2024-03-22 20:13:30.420 [DEBUG] [thread-id 1] - Executing R2 3.40.1: '/Users/m0k0a2f/glass-automation/./us/test/test-scripts/ios/golden-flows/passkey-flows/C2711393-add-passkey-and-delete-passkey.yaml' on device: 'iPhone 14'
2024-03-22 20:13:41.927 [DEBUG] [thread-id 1] - Executing scenario: 'Before'
2024-03-22 20:13:41.930 [DEBUG] [thread-id 1] - R2_SUBFLOW_PRE_TRANSACTION
2024-03-22 20:13:42.606 [DEBUG] [thread-id 1] - Using us-errors-helpers.yaml
2024-03-22 20:13:43.267 [DEBUG] [thread-id 1] - Start Main
2024-03-22 20:13:43.269 [DEBUG] [thread-id 1] - Executing function: 'us.functions.global.navigation.createPasskey'
2024-03-22 20:13:53.348 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: false
2024-03-22 20:13:53.675 [DEBUG] [thread-id 1] - The Face ID & Passkey page is NOT DISPLAYED!!!!
2024-03-22 20:13:53.685 [DEBUG] [thread-id 1] - Executing function: 'us.functions.account.signOutAccount'
2024-03-22 20:13:53.686 [DEBUG] [thread-id 1] - sleep:  5000 milliseconds
2024-03-22 20:13:58.692 [DEBUG] [thread-id 1] - Scroll: down
2024-03-22 20:15:22.316 [DEBUG] [thread-id 1] - Main failed: 
2024-03-22 20:15:23.073 [DEBUG] [thread-id 1] - Executing scenario: 'After'
2024-03-22 20:15:23.074 [DEBUG] [thread-id 1] - Executing function: 'us.functions.utils.afterSteps'
2024-03-22 20:15:23.075 [WARN] [thread-id 1] - variable testStatus was used, but r2 could not find a value for this variable. returning default of null
2024-03-22 20:15:23.083 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: false
2024-03-22 20:15:23.418 [DEBUG] [thread-id 1] - Test failed
2024-03-22 20:15:27.527 [DEBUG] [thread-id 1] - Created report: /Users/m0k0a2f/glass-automation/report/index.html
