2023-11-02 16:47:01.057 [DEBUG] [thread-id 1] - Executing R2 3.38.1: '/Users/m0k0a2f/glass-automation/./us/test/test-scripts/android/golden-flows/PetRx-flows/C2699980-PetRx-AutoShip-subscriptionFromItemDetailPage.yaml' on device: 'Pixel_5_API_31'
2023-11-02 16:47:14.362 [DEBUG] [thread-id 1] - Executing scenario: 'Before'
2023-11-02 16:47:14.364 [DEBUG] [thread-id 1] - R2_SUBFLOW_PRE_TRANSACTION
2023-11-02 16:47:14.414 [DEBUG] [thread-id 1] - Using us-errors-helpers.yaml
2023-11-02 16:47:14.452 [DEBUG] [thread-id 1] - Start Main
2023-11-02 16:47:14.453 [DEBUG] [thread-id 1] - Timestamp: 1698968834453
2023-11-02 16:47:14.456 [DEBUG] [thread-id 1] - Executing function: 'us.functions.utils.astro.clearCart'
2023-11-02 16:47:14.485 [DEBUG] [thread-id 1] - Call API: 'http://astro.walmart.com/api/v2/teflon/customer/raghav.devops@gmail.com/clearcart'
2023-11-02 16:47:29.081 [DEBUG] [thread-id 1] - Response code is: '200'. Response body is: '{"astroStatus":"SUCCESS","astroDescription":"CART_CLEARED","astroDetails":{"dbSessionMap":{"CXO_CART_ST":"{\"mtoken\":\"4:23#299574218#2=34246261#8=323445856\"}"},"checkoutable":false,"cart":{"id":"6bd2a264-6e62-4ebb-b546-5955ed79d430","buyer":{"id":"ded6d48b-fac8-4ca9-a426-c1f42ea002d4","type":"CUSTOMER"},"accessPoint":{"id":"6168c2e3-fc36-4827-98e6-d717d10af1d6","name":"Walmart San Jose Store #32144","storeId":32144,"fulfillmentType":"INSTORE_PICKUP","fulfillmentOption":"PICKUP","supportedTimeZone":"US/Pacific","locationInstruction":"[{\"type\":\"CHECKIN_DEFAULT\",\"value\":\"<div><p><b>Please bring your government-issued ID</b></p><br /><br /><ol><li>Download and use the app to let us know you're on the way and view your parking guide.</li><li>Park in a designated pickup spot. Using the app, enter your parking info and an associate will come to you.</li><li>Show your ID to the associate if required.</li><li>The associate will request access to your trunk or back seat, then will load your items.</li><li>You're all set! Check the app to see if you need to move to any other pickup locations.</li></ol></div>\"},{\"type\":\"EMAIL_DEFAULT\",\"value\":\"NA\"},{\"type\":\"CHECKIN_1\",\"value\":\"Next, tell us when you’ve parked. Park by the pickup sign and enter your parking info so we can find you faster.\"}]","isStoreEbtEligible":true,"allowAlcohol":true,"restrictions":[],"accessType":"PICKUP_CURBSIDE","storeCategory":"Supercenter","nodeType":"STORE","pickupStartBuffer":5,"allowBagFee":true,"isBagFeeMandatory":false,"address":{"postalCode":"95122","addressLineOne":"777 Story Rd","city":"San Jose","state":"CA","addressTypeName":"OFFICE","isPOBox":false,"countryCode":"USA"}},"storeIds":[],"itemCount":0,"entityErrors":[],"shipping":{"id":"27039223-3481-47d9-8fb6-a2e1425fab29","dbLockVersion":0,"postalCode":"95122","city":"San Jose","state":"CA","countryCode":"USA","latitude":37.606689,"longitude":-122.426362,"isPOBox":false,"isAPOFPO":false,"isAddressChangedExplicitly":true},"currencyCode":"USD","preview":false,"tenantId":0,"verticalId":0,"checkoutableErrors":[],"intent":"PICKUP","pickupStore":{"city":"San Jose","stateOrProvinceCode":"CA","countryCode":"USA","postalCode":"95122","storeId":"32144","services":[]},"deliveryStore":{"city":"San Jose","stateOrProvinceCode":"CA","countryCode":"USA","postalCode":"95122","storeId":"32144","services":[]},"mpStores":[],"fulfillmentPlans":[],"accessPoints":[{"id":"6168c2e3-fc36-4827-98e6-d717d10af1d6","name":"Walmart San Jose Store #32144","storeId":32144,"fulfillmentType":"INSTORE_PICKUP","fulfillmentOption":"PICKUP","supportedTimeZone":"US/Pacific","locationInstruction":"[{\"type\":\"CHECKIN_DEFAULT\",\"value\":\"<div><p><b>Please bring your government-issued ID</b></p><br /><br /><ol><li>Download and use the app to let us know you're on the way and view your parking guide.</li><li>Park in a designated pickup spot. Using the app, enter your parking info and an associate will come to you.</li><li>Show your ID to the associate if required.</li><li>The associate will request access to your trunk or back seat, then will load your items.</li><li>You're all set! Check the app to see if you need to move to any other pickup locations.</li></ol></div>\"},{\"type\":\"EMAIL_DEFAULT\",\"value\":\"NA\"},{\"type\":\"CHECKIN_1\",\"value\":\"Next, tell us when you’ve parked. Park by the pickup sign and enter your parking info so we can find you faster.\"}]","isStoreEbtEligible":true,"allowAlcohol":true,"restrictions":[],"accessType":"PICKUP_CURBSIDE","storeCategory":"Supercenter","nodeType":"STORE","pickupStartBuffer":5,"allowBagFee":true,"isBagFeeMandatory":false,"address":{"postalCode":"95122","addressLineOne":"777 Story Rd","city":"San Jose","state":"CA","addressTypeName":"OFFICE","isPOBox":false,"countryCode":"USA"}}],"reservations":[],"isExplicitIntent":false,"hasGiftEligibleItem":false,"warnings":[],"restrictions":[]},"isOmniPromiseResponse":true,"uniqueInstallationOfferIdHolder":[]}}'
2023-11-02 16:47:29.216 [DEBUG] [thread-id 1] - Cart cleared for raghav.devops@gmail.com
2023-11-02 16:47:29.221 [DEBUG] [thread-id 1] - Executing function: 'us.functions.global.onboarding.navigateOnboardingToHome'
2023-11-02 16:47:29.222 [DEBUG] [thread-id 1] - Executing function: 'us.function.utils.getEnvironmentValue'
2023-11-02 16:47:29.222 [DEBUG] [thread-id 1] - Store in: store the value 'teflon' in the variable 'env'
2023-11-02 16:47:29.223 [DEBUG] [thread-id 1] - Start Activity: 'com.walmart.android.debug.com.walmart.glass.integration.splash.SplashActivity'
2023-11-02 16:47:42.530 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: false
2023-11-02 16:47:42.566 [DEBUG] [thread-id 1] - Verify identifier: {com.walmart.android.debug:id/onboarding_welcome_title_textview=[true]}
2023-11-02 16:47:52.598 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: false
2023-11-02 16:47:52.628 [DEBUG] [thread-id 1] - Verify identifier: {com.walmart.android.debug:id/onboarding_welcome_title_textview=[true]}
2023-11-02 16:47:52.713 [DEBUG] [thread-id 1] - Click element: 'com.walmart.android.debug:id/onboarding_welcome_secondary_button'
2023-11-02 16:48:03.436 [DEBUG] [thread-id 1] - Verify identifier: {com.walmart.android.debug:id/onboarding_location_title_textview=[true]}
2023-11-02 16:48:03.480 [DEBUG] [thread-id 1] - Click element: 'com.walmart.android.debug:id/onboarding_zip_code_button'
2023-11-02 16:48:04.543 [DEBUG] [thread-id 1] - Verify identifier: {com.walmart.android.debug:id/onboarding_title_textview=[true]}
2023-11-02 16:48:05.132 [DEBUG] [thread-id 1] - Click element: 'com.walmart.android.debug:id/onboarding_zip_code_textinput'
2023-11-02 16:48:06.659 [DEBUG] [thread-id 1] - Enter text: '95122'
2023-11-02 16:48:09.184 [DEBUG] [thread-id 1] - Hide keyboard: 'true'
2023-11-02 16:48:16.025 [DEBUG] [thread-id 1] - Click element: 'com.walmart.android.debug:id/onboarding_zip_code_search_button'
2023-11-02 16:48:16.696 [DEBUG] [thread-id 1] - sleep:  3000 milliseconds
2023-11-02 16:48:19.702 [DEBUG] [thread-id 1] - loop: from 0 to 3
2023-11-02 16:48:21.978 [DEBUG] [thread-id 1] - 0
2023-11-02 16:48:32.439 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: false
2023-11-02 16:48:42.506 [DEBUG] [thread-id 1] - Verify identifier: {com.walmart.android.debug:id/onboarding_title_textview=[true]}
2023-11-02 16:48:42.507 [DEBUG] [thread-id 1] - Executing function: 'us.functions.global.onboarding.popUpScreen'
2023-11-02 16:48:42.507 [DEBUG] [thread-id 1] - sleep:  3000 milliseconds
2023-11-02 16:48:55.514 [DEBUG] [thread-id 1] - sleep:  3000 milliseconds
2023-11-02 16:48:58.522 [DEBUG] [thread-id 1] - Executing function: 'us.functions.global.onboarding.smartLock.DismissNoneOfTheAbove'
2023-11-02 16:49:08.544 [DEBUG] [thread-id 1] - sleep:  3000 milliseconds
2023-11-02 16:49:11.550 [DEBUG] [thread-id 1] - Executing function: 'us.functions.home.personalizedPopUpScreenClose'
2023-11-02 16:49:11.551 [DEBUG] [thread-id 1] - sleep:  5000 milliseconds
2023-11-02 16:49:16.562 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: true
2023-11-02 16:49:16.733 [DEBUG] [thread-id 1] - Click element: 'com.walmart.android.debug:id/marketing_privacy_bottom_sheet_deny_btn'
2023-11-02 16:49:17.495 [DEBUG] [thread-id 1] - sleep:  3000 milliseconds
2023-11-02 16:49:20.500 [DEBUG] [thread-id 1] - Executing function: 'us.functions.utils.tryAgainWhenThereIsError'
2023-11-02 16:49:20.504 [DEBUG] [thread-id 1] - loop: from 0 to 3
2023-11-02 16:49:20.720 [DEBUG] [thread-id 1] - 0
2023-11-02 16:49:30.833 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: false
2023-11-02 16:49:40.943 [DEBUG] [thread-id 1] - Executing function: 'us.functions.gic.collapseIfExpanded'
2023-11-02 16:49:41.027 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: true
2023-11-02 16:49:41.133 [DEBUG] [thread-id 1] - Click element: '//android.widget.ImageView[contains(@content-desc,"expanded")]'
2023-11-02 16:49:42.803 [DEBUG] [thread-id 1] - Verify identifier: {com.walmart.android.debug:id/search_view=[true]}
2023-11-02 16:49:42.803 [DEBUG] [thread-id 1] - Executing function: 'us.functions.home.handleReorderToolTip'
2023-11-02 16:49:52.825 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: false
2023-11-02 16:49:52.876 [DEBUG] [thread-id 1] - no tooltip displayed
2023-11-02 16:49:52.877 [DEBUG] [thread-id 1] - Executing function: 'us.functions.home.navigateHomeToSignIn'
2023-11-02 16:49:52.961 [DEBUG] [thread-id 1] - Click element: 'com.walmart.android.debug:id/navigation_account'
2023-11-02 16:49:53.646 [DEBUG] [thread-id 1] - sleep:  5000 milliseconds
2023-11-02 16:49:58.762 [DEBUG] [thread-id 1] - Verify identifier: {//*[@resource-id="com.walmart.android.debug:id/sign_in_button"]|//*[@resource-id="com.walmart.android.debug:id/account_sign_in_button"]=[true]}
2023-11-02 16:49:58.764 [DEBUG] [thread-id 1] - loop: from 1 to 3
2023-11-02 16:49:58.808 [DEBUG] [thread-id 1] - Executing function: 'us.functions.global.onboarding.smartLock.DismissNoneOfTheAbove'
2023-11-02 16:50:08.911 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: true
2023-11-02 16:50:08.990 [DEBUG] [thread-id 1] - Click element: '//*[@resource-id="com.walmart.android.debug:id/sign_in_button"]|//*[@resource-id="com.walmart.android.debug:id/account_sign_in_button"]'
2023-11-02 16:50:10.112 [DEBUG] [thread-id 1] - sleep:  3000 milliseconds
2023-11-02 16:50:13.774 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: true
2023-11-02 16:50:13.807 [DEBUG] [thread-id 1] - Store in: store the value 'true' in the variable 'signInValidated'
2023-11-02 16:50:13.871 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: true
2023-11-02 16:50:13.898 [DEBUG] [thread-id 1] - SignIn page loaded
2023-11-02 16:50:13.922 [DEBUG] [thread-id 1] - Store in: store the value 'false' in the variable 'signInValidated'
2023-11-02 16:50:13.922 [DEBUG] [thread-id 1] - Executing function: 'us.functions.global.authentication.signInAccount'
2023-11-02 16:50:13.923 [DEBUG] [thread-id 1] - Executing function: 'us.functions.global.onboarding.smartLock.DismissNoneOfTheAbove'
2023-11-02 16:50:24.334 [WARN] [thread-id 1] - variable validateSignInPage was used, but r2 could not find a value for this variable. returning default of null
2023-11-02 16:50:24.416 [DEBUG] [thread-id 1] - Verify identifier: {//android.widget.EditText[@text="Email"]=[true]}
2023-11-02 16:50:24.447 [DEBUG] [thread-id 1] - Enter text: 'raghav.devops@gmail.com'
2023-11-02 16:50:26.716 [DEBUG] [thread-id 1] - loop: from 1 to 3
2023-11-02 16:50:27.449 [DEBUG] [thread-id 1] - sleep:  3000 milliseconds
2023-11-02 16:50:30.588 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: true
2023-11-02 16:50:30.728 [DEBUG] [thread-id 1] - Click element: 'com.walmart.android.debug:id/auth_button_main'
2023-11-02 16:50:31.846 [DEBUG] [thread-id 1] - sleep:  5000 milliseconds
2023-11-02 16:50:37.467 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: true
2023-11-02 16:50:37.495 [DEBUG] [thread-id 1] - Store in: store the value 'true' in the variable 'signInValidated'
2023-11-02 16:50:37.525 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: true
2023-11-02 16:50:37.549 [DEBUG] [thread-id 1] - Store in: store the value 'false' in the variable 'signInValidated'
2023-11-02 16:50:37.572 [DEBUG] [thread-id 1] - Email entered
2023-11-02 16:50:57.580 [WARN] [thread-id 1] - variable validateSignInPage was used, but r2 could not find a value for this variable. returning default of null
2023-11-02 16:50:57.581 [DEBUG] [thread-id 1] - loop: from 1 to 3
2023-11-02 16:50:57.606 [DEBUG] [thread-id 1] - sleep:  2000 milliseconds
2023-11-02 16:50:59.684 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: true
2023-11-02 16:50:59.758 [DEBUG] [thread-id 1] - Enter text: 'Test1234$'
2023-11-02 16:51:03.059 [DEBUG] [thread-id 1] - Press go back key: 'true'
2023-11-02 16:51:04.379 [DEBUG] [thread-id 1] - sleep:  1000 milliseconds
2023-11-02 16:51:05.481 [DEBUG] [thread-id 1] - Click element: 'com.walmart.android.debug:id/auth_button_main'
2023-11-02 16:51:06.284 [DEBUG] [thread-id 1] - sleep:  5000 milliseconds
2023-11-02 16:51:12.896 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: true
2023-11-02 16:51:13.218 [DEBUG] [thread-id 1] - Store in: store the value 'true' in the variable 'signInValidated'
2023-11-02 16:51:13.272 [DEBUG] [thread-id 1] - Executing function: 'us.functions.global.authentication.handleSomethingWentWrongError'
2023-11-02 16:51:13.275 [DEBUG] [thread-id 1] - sleep:  5000 milliseconds
2023-11-02 16:51:18.284 [DEBUG] [thread-id 1] - loop: from 0 to 3
2023-11-02 16:51:18.387 [DEBUG] [thread-id 1] - 0
2023-11-02 16:51:28.530 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: false
2023-11-02 16:51:28.588 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: true
2023-11-02 16:51:28.644 [DEBUG] [thread-id 1] - Account signed in
2023-11-02 16:51:38.703 [DEBUG] [thread-id 1] - Executing function: 'us.functions.utils.handleCartMergePopup'
2023-11-02 16:51:38.703 [DEBUG] [thread-id 1] - sleep:  7000 milliseconds
2023-11-02 16:51:45.712 [DEBUG] [thread-id 1] - loop: from 0 to 4
2023-11-02 16:51:45.876 [DEBUG] [thread-id 1] - 0
2023-11-02 16:51:55.949 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: false
2023-11-02 16:51:55.997 [DEBUG] [thread-id 1] - No cart merge popup observed
2023-11-02 16:51:56.050 [DEBUG] [thread-id 1] - Executing function: 'us.functions.global.navigation.accountToHome'
2023-11-02 16:51:56.055 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: true
2023-11-02 16:51:56.115 [DEBUG] [thread-id 1] - Scroll: up
2023-11-02 16:51:56.862 [DEBUG] [thread-id 1] - Verify identifier: {com.walmart.android.debug:id/purchase_history_header=[true]}
2023-11-02 16:52:06.953 [DEBUG] [thread-id 1] - Click element: 'com.walmart.android.debug:id/navigation_shop'
2023-11-02 16:52:07.643 [DEBUG] [thread-id 1] - Executing function: 'us.functions.home.closeWPlusPromotionPopUpIfDisplayed'
2023-11-02 16:52:07.644 [DEBUG] [thread-id 1] - sleep:  5000 milliseconds
2023-11-02 16:52:22.653 [DEBUG] [thread-id 1] - PetRx AutoShip 1.0 TRANSACTION
2023-11-02 16:52:22.656 [DEBUG] [thread-id 1] - Executing function: 'us.functions.global.navigation.goToDeepLink'
2023-11-02 16:52:22.658 [DEBUG] [thread-id 1] - Verify value of: '$deepLinkUrl'
2023-11-02 16:52:22.661 [DEBUG] [thread-id 1] - Open link: 'walmart://item/1063686865'
2023-11-02 16:52:22.974 [DEBUG] [thread-id 1] - sleep:  2000 milliseconds
2023-11-02 16:52:24.978 [DEBUG] [thread-id 1] - Executing function: 'us.functions.item.autoShip.itemSubscription.ATC'
2023-11-02 16:52:24.980 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: true
2023-11-02 16:52:25.048 [DEBUG] [thread-id 1] - The item subscription overlay is not Visible, Scrolling Down!!!
2023-11-02 16:52:25.093 [DEBUG] [thread-id 1] - Scroll: down
2023-11-02 16:53:08.691 [DEBUG] [thread-id 1] - Main failed: Is not present: 'com.walmart.android.debug:id/purchase_option_subscription_overlay'
2023-11-02 16:53:08.805 [DEBUG] [thread-id 1] - Executing scenario: 'After'
2023-11-02 16:53:08.806 [DEBUG] [thread-id 1] - Executing function: 'us.functions.utils.afterSteps'
2023-11-02 16:53:08.806 [WARN] [thread-id 1] - variable testStatus was used, but r2 could not find a value for this variable. returning default of null
2023-11-02 16:53:08.807 [DEBUG] [thread-id 1] - conditionally execute a flow. condition: false
2023-11-02 16:53:08.848 [DEBUG] [thread-id 1] - Test failed
2023-11-02 16:53:11.747 [DEBUG] [thread-id 1] - Created report: /Users/m0k0a2f/glass-automation/report/index.html
